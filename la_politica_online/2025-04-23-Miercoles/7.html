<!DOCTYPE html>
    <html lang="es">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>El Senado congela Ficha Limpia por las exequias del Papa y se sostiene el pacto con el kirchnerismo.  Pablo DipierriLos libertarios patean la sesión para mayo. Furia de los santacruceños que habían anunciado que votaban a favor.</title>
        <style>
            body {
                max-width: 800px;
                margin: auto;
                padding: 5%;
            }
            .btnL {
                background: #d1d1d1;
                border-radius: 7px;
                padding: 18px;
                min-width: 100%;
                color: #000000;
                font-size: medium;
                min-height: 70px;
            }
            button {
                background-color: #d1d1d1;
                color: white;
                padding: 10px 20px;
                border: none;
                border-radius: 4px;
                cursor: pointer;
                margin: 5px;
            }
            button:disabled {
                background-color: #d1d1d1;
                cursor: not-available;
            }
            button:hover:not(:disabled) {
                background-color: #d1d1d1;
            }
            #voiceSelect {
                margin: 10px 0;
                padding: 5px;
            }
            .controls {
                margin: 10px 0;
            }

            #fullscreenButton {
                position: fixed;
                top: 20px;
                right: 20px;
                padding: 10px;
                background-color: transparent;
                border: none;
                cursor: pointer;
                border-radius: 5px;
            }

            #fullscreenIcon {
                width: 24px;
                height: 24px;
            }

        </style>
    </head>
    <body>
        <button id="fullscreenButton">
        <svg id="fullscreenIcon" viewBox="0 0 24 24" fill="currentColor">
            <path d="M5 5h5v5H5zM14 5h5v5h-5zM5 14h5v5H5zM14 14h5v5h-5z"/>
        </svg>
        </button>

        <div id="texto">
            <h1>El Senado congela Ficha Limpia por las exequias del Papa y se sostiene el pacto con el kirchnerismo.  Pablo DipierriLos libertarios patean la sesión para mayo. Furia de los santacruceños que habían anunciado que votaban a favor.</h1>
            <p>Ezequiel Atauche propuso en la reunión de labor parlamentaria de este martes que se postergue la sesión por Ficha Limpia prevista para el jueves y, en su lugar, se realice otra en homenaje al Papa Francisco.</p><p>La idea contaba con apoyo de senadores dispuestos a viajar a Roma para las exequias del sumo pontífice, que tendrían que costearse por sí mismos el ticket de los pasajes después que se frustrara la posibilidad de que el gobierno los incluyera en su comitiva, pero también del peronismo, que festeja toda demora en el expediente.</p><p>Con esa parte del plan en pausa, el gobierno aceptó congelar Ficha Limpia. "Los libertarios quieren llevar el tema al recinto el 8 de mayo pero ese 8 no va a llegar nunca", dijeron en un despacho aliado del oficialismo.</p><p>La negociación enfureció a los santacruceños José María Carambia y Natalia Gadano, que fueron escrachados por Silvia Lospennato en TN y la periodista Cristina Pérez en La Nación+. La senadora estuvo presente en la reunión de labor y se habría opuesto al plan de Atauche pero quedó en franca minoría.</p><p>Un senador reconoció el malestar de los patagónicos. "Los prendieron fuego desde el gobierno y ahora los del gobierno no quieren sesionar, no sé cómo van a hacer para conseguir que les voten algo en adelante", reflexionó.</p><p>Desde la Casa Rosada siguieron punto a punto las conversaciones, pero asumieron sus limitaciones para intervenir. "Desde la Ley Bases para acá, no ganamos ninguna", admitieron ante LPO en Balcarce 50.</p><p>Sucede que no solo fracasó Santiago Caputo en la estrategia para completar las vacantes de la Corte Suprema sino que también terminó expuesto José Rolandi, el vicejefe de Gabinete Ejecutivo, cuando Carambia dijo por Instagram el último feriado de viernes santo que lo había recibido en su despacho de la Cámara Alta el 8 de abril porque pretendían sondear su voluntad para el proyecto de Ficha Limpia.</p><p>Frente a la incertidumbre por la cantidad de apoyos disponibles, un legislador que no estuvo en labor habría sugerido abrir el proyecto a modificaciones. En los pasillos del Senado, hablan de agregar delitos pero lo central es que una votación con cambios obligaría a una devolución de la norma para su aprobación o su ratificación en la cámara de origen.</p><p>Ese derrotero consumiría más tiempo, la divisa que beneficia al interbloque de UP en su cerrada defensa de Cristina Kirchner contra la sanción de esa ley. "Si pasa el tiempo, no la embocan y, además, hay que reglamentar la ley también", concedió una fuente de LLA.</p><p>Por lo demás, el plan de Labor con la inclusión de Ficha Limpia en el temario debería votarse este jueves pero fuentes parlamentarias deslizaron que Atauche tenía dudas de someterlo a consideración del cuerpo. La jugada parece arriesgada porque restan 15 días para el 7 de mayo y para entonces podrían ausentarse senadores por la campaña electoral en sus provincias, comprometiendo la suerte del expediente en discusión.</p><p>Como sea, un senador cercano al oficialismo interpreta que "el gobierno prefiere mantener el proyecto como prenda de negociación con el peronismo antes que cualquier otra cosa".</p><p>Es una publicación de La Política Online S.A.</p>
        </div>
        <br><br><br>
            <div style="display: none;">
                <label for="voiceSelect">Seleccionar voz:</label>
                <select id="voiceSelect"></select>
            </div>
            <div class="controls">
                <button onclick="startReading()" id="playButton">
                    🔊 Leer
                </button>
                <button onclick="pauseReading()" id="pauseButton" disabled style="display: none;">
                    ⏸️ Pausar
                </button>
                <button onclick="resumeReading()" id="resumeButton" disabled style="display: none;">
                    ▶️ Continuar
                </button>
                <button onclick="stopReading()" id="stopButton" disabled>
                    ⏹️ Detener
                </button>
            </div>
            <div id="progress" style="display: none;"></div>
        <br><br><br>
        <button class="btnL" onclick="compartir()">Compartir</button>
        <br><br><br>
        <button class="btnL" onclick="window.location.href='https://www.lapoliticaonline.com/congreso/el-senado-congela-ficha-limpia-por-las-exequias-del-papa-francisco-y-se-sostiene-el-pacto-con-el-kirchnerismo/'">Ver en web original</button>
        <br><br><br>
        <!-- <button class="btnL" onclick="window.location.href='https://matenews.github.io/MateNews/'">Volver a la página principal</button>
        <br><br><br> -->


        <script>
            function compartir() {
            if (navigator.share) {
                navigator.share({
                title: 'El Senado congela Ficha Limpia por las exequias del Papa y se sostiene el pacto con el kirchnerismo.  Pablo DipierriLos libertarios patean la sesión para mayo. Furia de los santacruceños que habían anunciado que votaban a favor.', // Opcional, pero recomendado     
                text: 'El Senado congela Ficha Limpia por las exequias del Papa y se sostiene el pacto con el kirchnerismo.  Pablo DipierriLos libertarios patean la sesión para mayo. Furia de los santacruceños que habían anunciado que votaban a favor.',  // Opcional
                url: 'https://www.lapoliticaonline.com/congreso/el-senado-congela-ficha-limpia-por-las-exequias-del-papa-francisco-y-se-sostiene-el-pacto-con-el-kirchnerismo/'
                })
                .then(() => console.log('Contenido compartido exitosamente'))
                .catch((error) => console.error('Error al compartir:', error));
            } else {
                // Código alternativo si la API Web Share no está disponible
                console.log("Web Share API no soportada");
                // Puedes usar aquí la opción 2 (botones personalizados con JavaScript) de mi respuesta anterior
            }
            }
        </script>


        <script>
            let speechSynthesis = window.speechSynthesis;
            let currentUtterance = null;
            let isPaused = false;
            let isReading = false;
            let textBlocks = [];
            let currentBlockIndex = 0;
            let lastSpokenIndex = 0;
            const BLOCK_SIZE = 800;

            function updateButtons(speaking) {
                document.getElementById('playButton').disabled = speaking;
                document.getElementById('pauseButton').disabled = !speaking;
                document.getElementById('resumeButton').disabled = !isPaused;
                document.getElementById('stopButton').disabled = !speaking;
            }

            function updateProgress() {
                const progressDiv = document.getElementById('progress');
                if (isReading) {
                    progressDiv.textContent = `Leyendo bloque ${currentBlockIndex + 1} de ${textBlocks.length}`;
                } else {
                    progressDiv.textContent = '';
                }
            }

            function splitIntoBlocks(text) {
                // Dividir el texto en oraciones usando puntuación común
                const sentences = text.replace(/([.!?])\s+/g, "$1|").split("|");

                let blocks = [];
                let currentBlock = '';

                sentences.forEach(sentence => {
                    // Si la oración es muy larga, dividirla en la coma más cercana al BLOCK_SIZE
                    if (sentence.length > BLOCK_SIZE) {
                        let subSentences = sentence.replace(/,\s+/g, ",|").split("|");
                        subSentences.forEach(subSentence => {
                            if (currentBlock.length + subSentence.length > BLOCK_SIZE) {
                                if (currentBlock) blocks.push(currentBlock.trim());
                                currentBlock = subSentence;
                            } else {
                                currentBlock += (currentBlock ? ' ' : '') + subSentence;
                            }
                        });
                    } else {
                        if (currentBlock.length + sentence.length > BLOCK_SIZE) {
                            blocks.push(currentBlock.trim());
                            currentBlock = sentence;
                        } else {
                            currentBlock += (currentBlock ? ' ' : '') + sentence;
                        }
                    }
                });

                if (currentBlock) blocks.push(currentBlock.trim());
                return blocks;
            }

            function speakBlock(index) {
                if (index >= textBlocks.length) {
                    isReading = false;
                    updateButtons(false);
                    updateProgress();
                    return;
                }

                currentUtterance = new SpeechSynthesisUtterance(textBlocks[index]);
                currentUtterance.rate = parseFloat(1.3);
                lastSpokenIndex = index;


                currentUtterance.onend = function() {
                    if (isReading && !isPaused) {
                        currentBlockIndex++;
                        updateProgress();
                        speakBlock(currentBlockIndex);
                    }
                };

                currentUtterance.onerror = function(event) {
                    console.error('Error en la lectura:', event);
                    isReading = false;
                    updateButtons(false);
                    updateProgress();
                };

                speechSynthesis.speak(currentUtterance);
            }

            function startReading() {
                const text = document.getElementById('texto').innerText;
                if (!text) return;

                // Detener cualquier lectura previa
                stop();

                // Preparar nueva lectura
                textBlocks = splitIntoBlocks(text);
                currentBlockIndex = 0;
                isReading = true;
                isPaused = false;

                updateButtons(true);
                updateProgress();
                speakBlock(currentBlockIndex);
            }

            function pause() {
                speechSynthesis.pause();
                isPaused = true;
                updateButtons(true);
            }

            function resume() {
                speechSynthesis.resume();
                isPaused = false;
                updateButtons(true);
            }

            function stop() {
                speechSynthesis.cancel();
                isReading = false;
                isPaused = false;
                currentBlockIndex = 0;
                updateButtons(false);
                updateProgress();
            }

            function pauseReading() {
                if (!isReading) return;

                speechSynthesis.pause();
                isPaused = true;
                isReading = false;
                updateButtons(true);
                updateProgress();
            }

            function resumeReading() {
                if (!isPaused) return;

                isPaused = false;
                isReading = true;

                // Si el utterance actual ya terminó, comenzar con el siguiente bloque
                if (lastSpokenIndex === currentBlockIndex) {
                    currentBlockIndex++;
                }

                updateButtons(true);
                updateProgress();

                // Si hay un utterance pausado, resumirlo
                if (speechSynthesis.paused) {
                    speechSynthesis.resume();
                } else {
                    // Si no hay utterance pausado, comenzar desde el bloque actual
                    speakBlock(currentBlockIndex);
                }
            }

            function stopReading() {
                speechSynthesis.cancel();
                finishReading();
            }

            function finishReading() {
                isReading = false;
                isPaused = false;
                currentBlockIndex = 0;
                lastSpokenIndex = -1;
                currentUtterance = null;
                updateButtons(false);
                updateProgress();
            }

        </script>        

        <script>

            var elem = document.documentElement;
            var fullscreenButton = document.getElementById("fullscreenButton");
            var fullscreenIcon = document.getElementById("fullscreenIcon");

            fullscreenButton.addEventListener("click", function() {
            if (document.fullscreenElement || document.mozFullScreenElement || document.webkitFullscreenElement || document.msFullscreenElement) {
                if (document.exitFullscreen) {
                document.exitFullscreen();
                } else if (document.mozCancelFullScreen) { /* Firefox */
                document.mozCancelFullScreen();
                } else if (document.webkitExitFullscreen) { /* Chrome, Safari and Opera */
                document.webkitExitFullscreen();
                } else if (document.msExitFullscreen) { /* IE/Edge */
                document.msExitFullscreen();
                }
            } else {
                if (elem.requestFullscreen) {
                elem.requestFullscreen();
                } else if (elem.mozRequestFullScreen) { /* Firefox */
                elem.mozRequestFullScreen();
                } else if (elem.webkitRequestFullscreen) { /* Chrome, Safari and Opera */
                elem.webkitRequestFullscreen();
                } else if (elem.msRequestFullscreen) { /* IE/Edge */
                elem.msRequestFullscreen();
                }
            }
            });

            document.addEventListener('fullscreenchange', (event) => {
            if (!document.fullscreenElement) {
                fullscreenIcon.innerHTML = '<path d="M5 5h5v5H5zM14 5h5v5h-5zM5 14h5v5H5zM14 14h5v5h-5z"/>';
            } else {
                fullscreenIcon.innerHTML = '<path d="M7 14H5v5h5v-2H7v-3zm-2-4h2V7h3V5H5v5zm12 7h-3v2h5v-5h-2v3zM14 5v2h3v3h2V5h-5z"/>';
            }
            });
        </script>

    </body>
    </html>