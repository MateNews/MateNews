<!DOCTYPE html>
    <html lang="es">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>"Golpe de suerte en Par√≠s", la √∫ltima pel√≠cula de Woody Allen, la primera hablada en franc√©s. </title>
        <style>
            body {
                max-width: 800px;
                margin: auto;
                padding: 5%;
            }
            .btnL {
                background: #d1d1d1;
                border-radius: 7px;
                padding: 18px;
                min-width: 100%;
                color: #000000;
                font-size: medium;
                min-height: 70px;
            }
            button {
                background-color: #d1d1d1;
                color: white;
                padding: 10px 20px;
                border: none;
                border-radius: 4px;
                cursor: pointer;
                margin: 5px;
            }
            button:disabled {
                background-color: #d1d1d1;
                cursor: not-available;
            }
            button:hover:not(:disabled) {
                background-color: #d1d1d1;
            }
            #voiceSelect {
                margin: 10px 0;
                padding: 5px;
            }
            .controls {
                margin: 10px 0;
            }

            #fullscreenButton {
                position: fixed;
                top: 20px;
                right: 20px;
                padding: 10px;
                background-color: transparent;
                border: none;
                cursor: pointer;
                border-radius: 5px;
            }

            #fullscreenIcon {
                width: 24px;
                height: 24px;
            }

        </style>
    </head>
    <body>
        <button id="fullscreenButton">
        <svg id="fullscreenIcon" viewBox="0 0 24 24" fill="currentColor">
            <path d="M5 5h5v5H5zM14 5h5v5h-5zM5 14h5v5H5zM14 14h5v5h-5z"/>
        </svg>
        </button>

        <div id="texto">
            <h1>"Golpe de suerte en Par√≠s", la √∫ltima pel√≠cula de Woody Allen, la primera hablada en franc√©s. </h1>
            <p>Lanzada a nivel mundial el a√±o pasado en el Festival de Venecia y de reciente estreno en salas argentinas, Golpe de suerte en Par√≠s marca un insospechado debut para Woody Allen: se trata de su primera pel√≠cula rodada en Francia, con actores franceses y hablada en franc√©s. Peque√±o ensayo sobre las miserias (muchas) y los pocos esplendores de la peque√±o burgues√≠a francesa, Allen narra una historia con ecos cercanos de Match Point y tal vez un poco m√°s lejanos de Cr√≠menes y pecados. A punto de cumplir 89 a√±os, Woody Allen convers√≥ con Radar desde su casa en Manhattan acerca de las singulares experiencias que tuvo que atravesar para su film n√∫mero 50: desde la adaptaci√≥n de un guion previo donde los protagonistas eran norteamericanos que se reencontraban en Par√≠s (ahora son netamente parisinos), hasta intercambiar palabras con los actores en ingl√©s para luego escucharlos actuar en franc√©s.</p><p>Los t√≠tulos de apertura son los de siempre, tan f√°cilmente reconocibles como lo es el rostro enmarcado por anteojos de su m√°ximo responsable: blanco sobre negro, en una tipograf√≠a sencilla y familiar, presente en todas las pel√≠culas de Woody Allen desde hace varias d√©cadas. Pero hay una novedad: la lengua francesa reemplaza al tradicional ingl√©s. √âcrit et r√©alis√© par Woody Allen. Desde luego, no es la primera vez que el realizador, actor y comediante se escapa de las fronteras de su Nueva York natal para filmar una pel√≠cula -lo hizo anteriormente en Match Point, A Roma con Amor y Vicky Cristina Barcelona, entre otras-, pero Golpe de suerte en Par√≠s marca un debut insospechado. Como su nombre original, Coup de chance, lo indica, se trata de una producci√≥n rodada en Francia, con actores franceses y en idioma franc√©s. La decisi√≥n pudo en parte estar impulsada por la ‚Äúcancelaci√≥n‚Äù de su figura en los Estados Unidos, consecuencia del eterno retorno de las mil y una acusaciones legales de sobra conocidas, ninguna de ellas probada hasta ahora en los juzgados. O tal vez se trate de una celebraci√≥n especial, unas vacaciones que le aportan un plus a la cifra redonda y, por qu√© no, m√°gica: el largometraje lanzado a nivel mundial el a√±o pasado en el Festival de Venecia es el t√≠tulo n√∫mero 50 en la filmograf√≠a del director de Dos extra√±os amantes, La rosa p√∫rpura del Cairo y Hannah y sus hermanas.</p><p>Golpe de suerte en Par√≠s, que acaba de estrenarse en las salas de cine de Argentina, cuenta con la participaci√≥n actoral de Lou de Laage, Niels Schneider y Melvil Poupaud, el tr√≠o protag√≥nico y sentimental del relato. Un casting que Allen reconoce fue realizado a la distancia luego de reconvertir el guion original en una historia ciento por ciento parisina. La historia de una mujer casada cuyo reencuentro con un ex compa√±ero de estudios pone en marcha las ansiedades y miedos del romance extramatrimonial, punto de partida de una trama que no excluye la posibilidad del crimen. El trasfondo son las calles, caf√©s y dormitorios de Par√≠s, aunque existe m√°s de una escapada a la campi√±a, todo ello iluminado por el ojo atento del italiano Vittorio Storaro, colaborador de Allen como director de fotograf√≠a en varios t√≠tulos tard√≠os de su carrera. Retomando algunos temas que ya estaban presentes en largometrajes previos como Match Point y, en menor medida, Cr√≠menes y pecados, el √∫ltimo Allen es un peque√±o ensayo sobre las miserias de la (no tan) peque√±a burgues√≠a francesa, con gui√±os a la literatura de Georges Simenon, un marido de oficio turbio pero celos muy transparentes y una mujer abierta a experimentar aquello que hab√≠a quedado obturado en su vida sentimental.</p><p>BAJO LOS TECHOS DE PAR√çS</p><p>El encuentro entre Fanny (de La√¢ge) y Alain (Schneider) se produce de manera absolutamente fortuita, como podr√≠a ocurrir en una de las ‚ÄúComedias y proverbios‚Äù de √âric Rohmer. Ambos caminan por una calle parisina. Ella, profesional del rubro de las subastas, camino al trabajo; √©l, escritor en plena faena creativa, con rumbo a su peque√±o piso de alquiler. Las miradas se cruzan, el reconocimiento de uno de ellos es casi inmediato, y la breve conversaci√≥n define los l√≠mites de un v√≠nculo pasado que nunca fue mucho m√°s que un compa√±erismo de aula en un liceo franc√©s en el extranjero. En Nueva York, de todas las ciudades posibles. Alain no tarda demasiado en confesar, entre risas, que siempre estuvo enamorado de ella. Un comentario que Fanny, mujer casada, encumbrada econ√≥mica y socialmente gracias a ese matrimonio, recibe con inobjetable satisfacci√≥n, aunque escondida detr√°s del candor. Es apenas un encuentro como cualquier otro, inocente y sin consecuencias, pero la promesa de un almuerzo posterior y su consecuci√≥n deriva en una relaci√≥n de creciente confianza y atracci√≥n mutua. Y as√≠, de a poco, ese territorio de tonalidades rohmerianas ir√° de a poco ti√±√©ndose de recursos m√°s propios de otro colega nuevaolero, Claude Chabrol, cuya filiaci√≥n con el policial en varias de sus formas menos comerciales recorri√≥ una parte sustancial de su obra. De fondo, ‚ÄúCanteloupe Island‚Äù, la c√©lebre composici√≥n de Herbie Hancock que Golpe de suerte en Par√≠s utiliza como leitmotiv musical a lo largo de todo el metraje, en la versi√≥n grabada junto a Nat Adderley en 1966.</p><p>‚ÄúEn el guion original la historia transcurr√≠a en Par√≠s, pero iba a ser filmada en ingl√©s. Los protagonistas eran estadounidenses que viv√≠an en Francia‚Äù. Desde su hogar en Manhattan, Woody Allen conversa mano a mano, sin la interferencia de terceros tan habituales en los t√≠picos junkets de prensa. ‚ÄúAlguien me dijo ‚Äò¬øpor qu√© no hac√©s la pel√≠cula en franc√©s?‚Äô Fue una idea maravillosa, aunque supon√≠a que a las personas que estaban poniendo el dinero para hacerla no iba a gustarle demasiado. Lo cierto es que en los Estados Unidos a mucha gente no le gusta leer subt√≠tulos, lo cual hace que el p√∫blico potencial sea mucho m√°s chico. Pero pens√©, bueno, es mi pel√≠cula n√∫mero 50 y, siendo tan buena persona, quiero regalarme un peque√±o premio. Y as√≠ fue: la hice en franc√©s, pero no fue algo dif√≠cil. Quiero decir, siempre es dif√≠cil hacer una pel√≠cula, pero no por el idioma. Los problemas son siempre los mismos: el guion, las actuaciones, la fotograf√≠a. Esos son los escollos con los que hay que lidiar. El franc√©s no fue uno de ellos. La mayor√≠a de los actores hablaban un poco de ingl√©s, as√≠ que pod√≠amos comunicarnos. Y si bien cuando actuaban frente a la c√°mara hablando en franc√©s yo no pod√≠a entenderlos, me daba cuenta si las actuaciones eran buenas. Uno va al cine a ver un film sueco o japon√©s y sabe que las performances del reparto son maravillosas aunque no entienda ni una palabra. As√≠ que sab√≠a c√≥mo estaba saliendo todo, y si necesitaba decirles algo complejo pod√≠a hablar en ingl√©s y confiar en alguien presente en el set para traducirme‚Äù.</p><p>Fanny llega a casa, un hogar confortable y amplio. All√≠ est√° la empleada dom√©stica, siempre lista para preparar un caf√© o servir una copa de co√±ac. Poco tiempo despu√©s abre la puerta de entrada Jean (Poupaud), un hombre aficionado a los trenes en miniatura cuyo trabajo consiste, seg√∫n su propia y particular definici√≥n, en ‚Äúhacer a los ricos m√°s ricos‚Äù. Algo ligado, desde luego, a las inversiones, aunque Fanny prefiere no preguntar en qu√© consisten exactamente esas transferencias de dinero. Seg√∫n la definici√≥n de su creador, en el papel primero y luego en la pantalla, Jean es ‚Äúalguien sin escr√∫pulos que cree firmemente que es √©l quien hace su propia suerte. Cree que controla las cosas, que siempre est√° en control. Pero tambi√©n es alguien que puede encontrar su perdici√≥n a partir de un acto absolutamente impredecible y azaroso‚Äù. Hace tiempo que Fanny dej√≥ de encontrarse con Alain en lugares p√∫blicos -un caf√©, un parque- y las citas han dejado de ser simplemente amistosas. De hecho, los llamados telef√≥nicos de Jean al mediod√≠a, que sol√≠an tener una respuesta inmediata, ya no tienen el mismo efecto, y las sospechas comienzan a tomar la forma de un oscuro nubarr√≥n. De ah√≠ a contratar los servicios de una agencia de detectives hay un paso. Un cl√°sico del policial en sus muchas variantes que aqu√≠ vuelve a formar parte esencial de la trama.</p><p>La conversaci√≥n con Allen deriva a la relaci√≥n cin√©fila con el policial franc√©s, y entre t√≠tulos de Chabrol y otros artistas de ese pa√≠s aparece un t√≠tulo cl√°sico de Louis Malle: Ascensor para el cadalso. ‚ÄúEs interesante que menciones esa pel√≠cula, porque pens√© mucho en ella. El film de Malle fue muy influyente a la hora de hacer Golpe de suerte en Par√≠s, sobre todo por la m√∫sica. Por eso eleg√≠ los temas que eleg√≠ para la banda de sonido. Cuando pienso en el cine franc√©s de esa era siempre pienso en Ascensor para el cadalso, y en la banda sonora compuesta por Miles Davis. En general el cine franc√©s me ha influenciado mucho, como a todos los cineastas de los Estados Unidos de mi generaci√≥n. Cuando √©ramos m√°s j√≥venes √≠bamos al cine a ver las pel√≠culas de Truffaut, Godard, Resnais, Chabrol. Pero fue muy clara la influencia de ese film de Malle en particular. ‚ÄòCanteloupe Island‚Äô fue mi primera opci√≥n como tema musical, y afortunadamente fue sencillo resolver la cuesti√≥n de los derechos. No siempre en f√°cil conseguir los temas que uno quiere, pero en este caso todo el mundo cooper√≥. Y as√≠ pudimos incluir el tema de Hancock, que a mis o√≠dos suena muy franc√©s, en gran medida por esa pel√≠cula que mencionaste. Y todo tiene que ver con Francia, porque si esta pel√≠cula hubiera sido filmada en ingl√©s seguramente hubiera optado por mis gustos m√°s cl√°sicos. El cancionero de jazz de los a√±os 20, 30 y 40. Los compositores americanos: Cole Porter, George Gershwin, Irving Berlin, Jerome Kern. Todos esos grandes autores musicales. Pero en esta ocasi√≥n esa m√∫sica no se sent√≠a del todo bien. Lo apropiado era justamente Ascensor para el cadalso, ese jazz m√°s moderno‚Äù.</p><p>CRIMEN Y CASTIGO</p><p>De pronto, Alain desaparece. Como por arte de magia. Y entra en escena un cuarto personaje, Camille (Val√©rie Lemercier), la madre de Fanny, que est√° de visita luego de un largo viaje y pasa unos d√≠as en el departamento del matrimonio. Fan√°tica de la literatura policial y de las novelas de Simenon en paricular, sobre todo las del comisario Maigret, no pasar√° mucho tiempo hasta que comience a atar cabos, transform√°ndose en una suerte de detective amateur en busca de la soluci√≥n al enigma. Golpe de suerte en Par√≠s no es una comedia desembozada, como no lo son muchas de las pel√≠culas de Woody Allen, pero el humor campea en varias escenas, entre ellas las de Camille en plan detectivesco. Tambi√©n las de Jean cuando debe ponerse en contacto directo con un par de ‚Äúsocios‚Äù en las sombras que poco y nada le deben al mundillo adinerado y socialmente encumbrado que es su √°mbito y natural y coto de caza econ√≥mico. El h√°bito hace al monje y el reparto hace, en parte, al film. Allen no viaj√≥ a Francia para hacer un casting tradicional. ‚ÄúLa verdad es que, para ser completamente sincero, no conoc√≠a a nadie del reparto. La persona responsable del casting ley√≥ el guion y se puso en contacto con alguien en Par√≠s, y me enviaron un mont√≥n de videos con audiciones. As√≠ comenc√© a seleccionar a los posibles candidatos, y tuve suerte, porque la mayor√≠a de los actores y actrices que me parec√≠an ideales estaban disponibles y listos para participar.</p><p>El apellido de soltera de Fanny, el personaje interpretado por Lou de La√¢ge, es Moreau. Es interesante, porque en ciertos planos, bajo ciertos encuadres, la actriz posee un parecido f√≠sico a Jeanne Moreau.</p><p>-Deber√≠a pensarlo, no fue algo deliberado. Pero bueno, ambas son mujeres hermosas. Hace muchos a√±os quise tener a Jeanne Moreau en una de mis pel√≠culas, y durante un tiempo me dijo que estaba pensando sobre el tema, si aceptaba o no. As√≠ fue durante semanas, hasta que vol√≥ hasta Nueva York y vino a mi oficina para decirme que no, que no iba a hacerlo. No s√©, no quer√≠a hacerlo. Era una gran, gran actriz. A Lou de La√¢ge no la conoc√≠a, como ya mencion√©, pero al verla me pareci√≥ tan bella y tan talentosa que me pregunt√© c√≥mo no la hab√≠a visto antes en alguna pel√≠cula.</p><p>Como siempre, Allen les ofrece a los actores mucha libertad creativa. ‚ÄúEn este caso, como los ensayos eran en otro idioma, no pod√≠a seguirlos de cerca. Pero confi√© en ellos. Cuando hice Vicky Cristina Barcelona les ofrec√≠ a Javier Bardem y Pen√©lope Cruz mucho espacio para que improvisaran. Discut√≠an, probaban cosas, y hablaban entre ellos en espa√±ol. Hasta el d√≠a de hoy no s√© bien qu√© dec√≠an, pero me daba cuenta de que lo que estaban haciendo era lo que deb√≠an hacer. La emoci√≥n era la correcta, aunque no entendiera los di√°logos. En Golpe de suerte en Par√≠s ocurri√≥ algo similar: cuando dec√≠an las l√≠neas que yo hab√≠a escrito estaba todo bien, pero cuando agregaban cosas no sab√≠a lo que dec√≠an. Est√° perfecto, porque comprendieron el guion y pod√≠a darme cuenta, a partir de su comportamiento, que sab√≠an muy bien lo que estaban haciendo. No s√© si har√© otro film en un idioma que no sea el ingl√©s. No hay muchos idiomas con los que me sentir√≠a c√≥modo. Con el espa√±ol y el italiano podr√≠a animarme. A Roma con amor incluye un segmento hablado en italiano, con Roberto Benigni. Pero nunca podr√≠a hacer una pel√≠cula en un lenguaje con el cual no tenga cierta familiaridad. En t√©rminos generales, sigo filmando como siempre lo he hecho. Filmamos y despu√©s edito. A veces cambio radicalmente la pel√≠cula en el montaje. Y despu√©s le agrego la m√∫sica, que es siempre la parte m√°s placentera‚Äù.</p><p>Mientras Fanny intenta equilibrar su nueva vida sin perder de vista los privilegios obtenidos y la madre investiga los turbios secretos que rodean a su yerno, la comedia de iron√≠as burguesas de Allen avanza hacia terrenos criminales de resoluci√≥n imprevista. Las im√°genes de Par√≠s y tambi√©n las de ese bosque donde la caza del siervo est√° abierta reflejan una paleta de colores fuertes y contrastados, cortes√≠a del enorme director de fotograf√≠a Vittorio Storaro, una leyenda viviente en su rubro. El italiano comenz√≥ a colaborar con el neoyorquino en Caf√© Society (2016) y ya han trabajado codo a codo en cinco largometrajes. ‚ÄúUsualmente le paso el guion y tenemos una conversaci√≥n al respecto. C√≥mo vamos a filmar, cu√°l va a ser el clima general de la pel√≠cula. Y luego hacia all√° vamos. Realmente no planeo demasiado antes de llegar al set. Hay algo ligado a lo que uno siente al comienzo de la jornada de rodaje, siempre he trabajado as√≠. Uno observa c√≥mo est√° el tiempo, d√≥nde est√° ubicado el sol respecto de los actores y la c√°mara, si hay o no nubes. Y si se trata de una escena en interiores conversamos a partir de c√≥mo nos sentimos. Vittorio ilumina y listo, filmamos. √âl es un genio de la iluminaci√≥n‚Äù.</p><p>¬øExtra√±a filmar en el centenario formato de 35mm o la c√°mara digital le resulta pr√°ctica y pertinente para sus historias?</p><p></p><p>-No lo extra√±o, realmente. De hecho fue Vittorio quien me sugiri√≥ que filmara en formato digital unas cinco pel√≠culas atr√°s. Recuerdo que me dijo ‚ÄúEl futuro va a ser as√≠, no en celuloide, por lo que podr√≠amos ir acostumbr√°ndonos‚Äù. Y lo cierto es que se pueden lograr cosas hermosas con el digital, que adem√°s abre muchas otras posibilidades. No soy una de esas personas puristas que piensa que todo debe ser c√≥mo sol√≠a ser. Lo m√°s importante sigue siendo la historia y la respuesta del p√∫blico. La gente puede sentarse en una sala de cine y ver una vieja y horrible copia anal√≥gica de mala calidad, pero si la historia es buena la pel√≠cula les va a gustar.</p><p></p>
        </div>
        <br><br><br>
            <div style="display: none;">
                <label for="voiceSelect">Seleccionar voz:</label>
                <select id="voiceSelect"></select>
            </div>
            <div class="controls">
                <button onclick="startReading()" id="playButton">
                    üîä Leer
                </button>
                <button onclick="pauseReading()" id="pauseButton" disabled style="display: none;">
                    ‚è∏Ô∏è Pausar
                </button>
                <button onclick="resumeReading()" id="resumeButton" disabled style="display: none;">
                    ‚ñ∂Ô∏è Continuar
                </button>
                <button onclick="stopReading()" id="stopButton" disabled>
                    ‚èπÔ∏è Detener
                </button>
            </div>
            <div id="progress" style="display: none;"></div>
        <br><br><br>
        <button class="btnL" onclick="compartir()">Compartir</button>
        <br><br><br>
        <button class="btnL" onclick="window.location.href='https://www.pagina12.com.ar/782719-golpe-de-suerte-en-paris-la-ultima-pelicula-de-woody-allen-l'">Ver en web original</button>
        <br><br><br>
        <!-- <button class="btnL" onclick="window.location.href='https://matenews.github.io/MateNews/'">Volver a la p√°gina principal</button>
        <br><br><br> -->


        <script>
            function compartir() {
            if (navigator.share) {
                navigator.share({
                title: '"Golpe de suerte en Par√≠s", la √∫ltima pel√≠cula de Woody Allen, la primera hablada en franc√©s. ', // Opcional, pero recomendado     
                text: '"Golpe de suerte en Par√≠s", la √∫ltima pel√≠cula de Woody Allen, la primera hablada en franc√©s. ',  // Opcional
                url: 'https://www.pagina12.com.ar/782719-golpe-de-suerte-en-paris-la-ultima-pelicula-de-woody-allen-l'
                })
                .then(() => console.log('Contenido compartido exitosamente'))
                .catch((error) => console.error('Error al compartir:', error));
            } else {
                // C√≥digo alternativo si la API Web Share no est√° disponible
                console.log("Web Share API no soportada");
                // Puedes usar aqu√≠ la opci√≥n 2 (botones personalizados con JavaScript) de mi respuesta anterior
            }
            }
        </script>


        <script>
            let speechSynthesis = window.speechSynthesis;
            let currentUtterance = null;
            let isPaused = false;
            let isReading = false;
            let textBlocks = [];
            let currentBlockIndex = 0;
            let lastSpokenIndex = 0;
            const BLOCK_SIZE = 800;

            function updateButtons(speaking) {
                document.getElementById('playButton').disabled = speaking;
                document.getElementById('pauseButton').disabled = !speaking;
                document.getElementById('resumeButton').disabled = !isPaused;
                document.getElementById('stopButton').disabled = !speaking;
            }

            function updateProgress() {
                const progressDiv = document.getElementById('progress');
                if (isReading) {
                    progressDiv.textContent = `Leyendo bloque ${currentBlockIndex + 1} de ${textBlocks.length}`;
                } else {
                    progressDiv.textContent = '';
                }
            }

            function splitIntoBlocks(text) {
                // Dividir el texto en oraciones usando puntuaci√≥n com√∫n
                const sentences = text.replace(/([.!?])\s+/g, "$1|").split("|");

                let blocks = [];
                let currentBlock = '';

                sentences.forEach(sentence => {
                    // Si la oraci√≥n es muy larga, dividirla en la coma m√°s cercana al BLOCK_SIZE
                    if (sentence.length > BLOCK_SIZE) {
                        let subSentences = sentence.replace(/,\s+/g, ",|").split("|");
                        subSentences.forEach(subSentence => {
                            if (currentBlock.length + subSentence.length > BLOCK_SIZE) {
                                if (currentBlock) blocks.push(currentBlock.trim());
                                currentBlock = subSentence;
                            } else {
                                currentBlock += (currentBlock ? ' ' : '') + subSentence;
                            }
                        });
                    } else {
                        if (currentBlock.length + sentence.length > BLOCK_SIZE) {
                            blocks.push(currentBlock.trim());
                            currentBlock = sentence;
                        } else {
                            currentBlock += (currentBlock ? ' ' : '') + sentence;
                        }
                    }
                });

                if (currentBlock) blocks.push(currentBlock.trim());
                return blocks;
            }

            function speakBlock(index) {
                if (index >= textBlocks.length) {
                    isReading = false;
                    updateButtons(false);
                    updateProgress();
                    return;
                }

                currentUtterance = new SpeechSynthesisUtterance(textBlocks[index]);
                currentUtterance.rate = parseFloat(1.3);
                lastSpokenIndex = index;


                currentUtterance.onend = function() {
                    if (isReading && !isPaused) {
                        currentBlockIndex++;
                        updateProgress();
                        speakBlock(currentBlockIndex);
                    }
                };

                currentUtterance.onerror = function(event) {
                    console.error('Error en la lectura:', event);
                    isReading = false;
                    updateButtons(false);
                    updateProgress();
                };

                speechSynthesis.speak(currentUtterance);
            }

            function startReading() {
                const text = document.getElementById('texto').innerText;
                if (!text) return;

                // Detener cualquier lectura previa
                stop();

                // Preparar nueva lectura
                textBlocks = splitIntoBlocks(text);
                currentBlockIndex = 0;
                isReading = true;
                isPaused = false;

                updateButtons(true);
                updateProgress();
                speakBlock(currentBlockIndex);
            }

            function pause() {
                speechSynthesis.pause();
                isPaused = true;
                updateButtons(true);
            }

            function resume() {
                speechSynthesis.resume();
                isPaused = false;
                updateButtons(true);
            }

            function stop() {
                speechSynthesis.cancel();
                isReading = false;
                isPaused = false;
                currentBlockIndex = 0;
                updateButtons(false);
                updateProgress();
            }

            function pauseReading() {
                if (!isReading) return;

                speechSynthesis.pause();
                isPaused = true;
                isReading = false;
                updateButtons(true);
                updateProgress();
            }

            function resumeReading() {
                if (!isPaused) return;

                isPaused = false;
                isReading = true;

                // Si el utterance actual ya termin√≥, comenzar con el siguiente bloque
                if (lastSpokenIndex === currentBlockIndex) {
                    currentBlockIndex++;
                }

                updateButtons(true);
                updateProgress();

                // Si hay un utterance pausado, resumirlo
                if (speechSynthesis.paused) {
                    speechSynthesis.resume();
                } else {
                    // Si no hay utterance pausado, comenzar desde el bloque actual
                    speakBlock(currentBlockIndex);
                }
            }

            function stopReading() {
                speechSynthesis.cancel();
                finishReading();
            }

            function finishReading() {
                isReading = false;
                isPaused = false;
                currentBlockIndex = 0;
                lastSpokenIndex = -1;
                currentUtterance = null;
                updateButtons(false);
                updateProgress();
            }

        </script>        

        <script>

            var elem = document.documentElement;
            var fullscreenButton = document.getElementById("fullscreenButton");
            var fullscreenIcon = document.getElementById("fullscreenIcon");

            fullscreenButton.addEventListener("click", function() {
            if (document.fullscreenElement || document.mozFullScreenElement || document.webkitFullscreenElement || document.msFullscreenElement) {
                if (document.exitFullscreen) {
                document.exitFullscreen();
                } else if (document.mozCancelFullScreen) { /* Firefox */
                document.mozCancelFullScreen();
                } else if (document.webkitExitFullscreen) { /* Chrome, Safari and Opera */
                document.webkitExitFullscreen();
                } else if (document.msExitFullscreen) { /* IE/Edge */
                document.msExitFullscreen();
                }
            } else {
                if (elem.requestFullscreen) {
                elem.requestFullscreen();
                } else if (elem.mozRequestFullScreen) { /* Firefox */
                elem.mozRequestFullScreen();
                } else if (elem.webkitRequestFullscreen) { /* Chrome, Safari and Opera */
                elem.webkitRequestFullscreen();
                } else if (elem.msRequestFullscreen) { /* IE/Edge */
                elem.msRequestFullscreen();
                }
            }
            });

            document.addEventListener('fullscreenchange', (event) => {
            if (!document.fullscreenElement) {
                fullscreenIcon.innerHTML = '<path d="M5 5h5v5H5zM14 5h5v5h-5zM5 14h5v5H5zM14 14h5v5h-5z"/>';
            } else {
                fullscreenIcon.innerHTML = '<path d="M7 14H5v5h5v-2H7v-3zm-2-4h2V7h3V5H5v5zm12 7h-3v2h5v-5h-2v3zM14 5v2h3v3h2V5h-5z"/>';
            }
            });
        </script>

    </body>
    </html>