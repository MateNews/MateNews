<!DOCTYPE html>
    <html lang="es">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>Pablo Grillo se retir贸 del hospital y ser谩 trasladado a un centro de rehabilitaci贸n. La emoci贸n de su familia y amigos. </title>
        <style>
            body {
                max-width: 800px;
                margin: auto;
                padding: 5%;
            }
            .btnL {
                background: #d1d1d1;
                border-radius: 7px;
                padding: 18px;
                min-width: 100%;
                color: #000000;
                font-size: medium;
                min-height: 70px;
            }
            button {
                background-color: #d1d1d1;
                color: white;
                padding: 10px 20px;
                border: none;
                border-radius: 4px;
                cursor: pointer;
                margin: 5px;
            }
            button:disabled {
                background-color: #d1d1d1;
                cursor: not-available;
            }
            button:hover:not(:disabled) {
                background-color: #d1d1d1;
            }
            #voiceSelect {
                margin: 10px 0;
                padding: 5px;
            }
            .controls {
                margin: 10px 0;
            }

            #fullscreenButton {
                position: fixed;
                top: 20px;
                right: 20px;
                padding: 10px;
                background-color: transparent;
                border: none;
                cursor: pointer;
                border-radius: 5px;
            }

            #fullscreenIcon {
                width: 24px;
                height: 24px;
            }

        </style>
    </head>
    <body>
        <button id="fullscreenButton">
        <svg id="fullscreenIcon" viewBox="0 0 24 24" fill="currentColor">
            <path d="M5 5h5v5H5zM14 5h5v5h-5zM5 14h5v5H5zM14 14h5v5h-5z"/>
        </svg>
        </button>

        <div id="texto">
            <h1>Pablo Grillo se retir贸 del hospital y ser谩 trasladado a un centro de rehabilitaci贸n. La emoci贸n de su familia y amigos. </h1>
            <p>La emoci贸n de su familia y amigos</p><p>El fot贸grafo se retir贸 esta ma帽ana del Hospital Ramos Mej铆a, donde estuvo internado tres meses. Fabi谩n, el padre de Grillo, indic贸 que su hijo se recuper贸 y continuar谩 con su tratamiento.</p><p>El fot贸grafo Pablo Grillo fue dado de alta y se retir贸 esta ma帽ana pasadas las 10.15 del Hospital Ramos Mej铆a de la Ciudad de Buenos Aires, donde se encontraba internado desde hace casi tres meses, luchando por su vida, tras recibir el impacto de un cartucho de gas lacrim贸geno en el cr谩neo por la polic铆a federal en una de las marchas en apoyo a los jubilados. El joven deber谩 continuar a partir de ahora su proceso de rehabilitaci贸n mediante una internaci贸n en el Hospital Manuel Rocca, seg煤n precis贸 en una rueda de prensa su padre, Fabi谩n.</p><p>"隆Che, Pablito! Te estamos esperando, que vuelvas para el barrio, para seguir luchando", cantaban sus amigos y familia entre aplausos a la salida del hospital, mientras Pablo era trasladado en una silla de ruedas, con una sonrisa en el rostro, hacia la ambulancia. Su madre y su padre, lloraban de emoci贸n.</p><p>"Nos emocion贸 mucho la salida de Pablo en este estado, despu茅s de verlo tan cr铆tico y grave", expres贸 momentos despu茅s en declaraciones televisivas el subdirector del Hospital Pablo Mej铆a, Juan Pablo Rossini. Y agreg贸: "Esto es una expresi贸n m谩s de la salud p煤blica y los valores del hospital p煤blico del pa铆s".</p><p>"Hay que darle un reconocimiento a todo el personal de salud, desde los camilleros hasta el jefe de neurocirug铆a y de terapia intensiva. Todos trabajaron con 茅l de manera ardua, dif铆cil, durante mucho tiempo, con much铆simas complicaciones que iban surgiendo, y que supieron sortear de manera adecuada".</p><p>En tanto, Andr茅s, un amigo de Pablo, lloraba de alegr铆a y contaba a los medios: "Es muy fuerte. Fue tan impensado lo que pas贸 aquel 12 de marzo como que ahora est茅 recuper谩ndose. El dolor fue de todos. Pablo es vecino m铆o, vive a dos casas de mi casa, somos amigos de toda la vida. Es familia para m铆".</p><p></p><p>Asimismo, Marcelo, el enfermero que recibi贸 a Pablo el d铆a del disparo letal imprudente, transmiti贸 su alegr铆a por la recuperaci贸n del fot贸grafo, y comparti贸 que a la vez sent铆a "tristeza" de que se fuera "un amigo".</p><p>"Cuando lleg贸 lo vimos mal, al borde. Pero se luch贸 e hicimos todo lo que pudimos. Estoy triste porque se fue un amigo. Iba todos los d铆as a verlo, mi familia lo conoce, habl谩bamos con los padres. Jugaba Independiente y Pablo me dec铆a: 'Cuervo, gan贸 Independiente'. Es decir, estaba l煤cido. Me puso contento cuando empez贸 a caminar", cont贸.</p><p>"Es una emoci贸n, sentimos mucha alegr铆a", dec铆a antes de la salida de Pablo su padre. Adem谩s, detall贸 que Pablo se enter贸 que se retirar铆a del hospital "de forma medio sorpresiva".</p><p>"Estaba contento. Anteriormente le hab铆amos dicho, para no generar falsas expectativas, que se iba a ir en cualquier momento, pero no precisamente cu谩ndo. Y ahora le dijimos 'cambiate que te vas'", cont贸.</p><p>El director del Hospital Ramos Mej铆a fue quien le confirm贸 a Fabi谩n durante la tarde del lunes que su hijo ya pod铆a avanzar con la siguiente instancia de rehabilitaci贸n.</p><p>"No sabemos qu茅 va a demandar de nosotros y de 茅l. Vamos a tener que acompa帽arlo m谩s", consign贸 Fabi谩n. Al respecto, indic贸 que no tienen precisos los "tiempos" de cada etapa, pero que en primer lugar ser谩 "internaci贸n y salidas los fines de semana, cuando ellos eval煤en que estoy en condiciones de hacerlo".</p><p></p>
        </div>
        <br><br><br>
            <div style="display: none;">
                <label for="voiceSelect">Seleccionar voz:</label>
                <select id="voiceSelect"></select>
            </div>
            <div class="controls">
                <button onclick="startReading()" id="playButton">
                     Leer
                </button>
                <button onclick="pauseReading()" id="pauseButton" disabled style="display: none;">
                    革 Pausar
                </button>
                <button onclick="resumeReading()" id="resumeButton" disabled style="display: none;">
                    讹 Continuar
                </button>
                <button onclick="stopReading()" id="stopButton" disabled>
                    癸 Detener
                </button>
            </div>
            <div id="progress" style="display: none;"></div>
        <br><br><br>
        <button class="btnL" onclick="compartir()">Compartir</button>
        <br><br><br>
        <button class="btnL" onclick="window.location.href='https://www.pagina12.com.ar/830931-pablo-grillo-se-retiro-del-hospital-y-sera-trasladado-a-un-c'">Ver en web original</button>
        <br><br><br>
        <!-- <button class="btnL" onclick="window.location.href='https://matenews.github.io/MateNews/'">Volver a la p谩gina principal</button>
        <br><br><br> -->


        <script>
            function compartir() {
            if (navigator.share) {
                navigator.share({
                title: 'Pablo Grillo se retir贸 del hospital y ser谩 trasladado a un centro de rehabilitaci贸n. La emoci贸n de su familia y amigos. ', // Opcional, pero recomendado     
                text: 'Pablo Grillo se retir贸 del hospital y ser谩 trasladado a un centro de rehabilitaci贸n. La emoci贸n de su familia y amigos. ',  // Opcional
                url: 'https://www.pagina12.com.ar/830931-pablo-grillo-se-retiro-del-hospital-y-sera-trasladado-a-un-c'
                })
                .then(() => console.log('Contenido compartido exitosamente'))
                .catch((error) => console.error('Error al compartir:', error));
            } else {
                // C贸digo alternativo si la API Web Share no est谩 disponible
                console.log("Web Share API no soportada");
                // Puedes usar aqu铆 la opci贸n 2 (botones personalizados con JavaScript) de mi respuesta anterior
            }
            }
        </script>


        <script>
            let speechSynthesis = window.speechSynthesis;
            let currentUtterance = null;
            let isPaused = false;
            let isReading = false;
            let textBlocks = [];
            let currentBlockIndex = 0;
            let lastSpokenIndex = 0;
            const BLOCK_SIZE = 800;

            function updateButtons(speaking) {
                document.getElementById('playButton').disabled = speaking;
                document.getElementById('pauseButton').disabled = !speaking;
                document.getElementById('resumeButton').disabled = !isPaused;
                document.getElementById('stopButton').disabled = !speaking;
            }

            function updateProgress() {
                const progressDiv = document.getElementById('progress');
                if (isReading) {
                    progressDiv.textContent = `Leyendo bloque ${currentBlockIndex + 1} de ${textBlocks.length}`;
                } else {
                    progressDiv.textContent = '';
                }
            }

            function splitIntoBlocks(text) {
                // Dividir el texto en oraciones usando puntuaci贸n com煤n
                const sentences = text.replace(/([.!?])\s+/g, "$1|").split("|");

                let blocks = [];
                let currentBlock = '';

                sentences.forEach(sentence => {
                    // Si la oraci贸n es muy larga, dividirla en la coma m谩s cercana al BLOCK_SIZE
                    if (sentence.length > BLOCK_SIZE) {
                        let subSentences = sentence.replace(/,\s+/g, ",|").split("|");
                        subSentences.forEach(subSentence => {
                            if (currentBlock.length + subSentence.length > BLOCK_SIZE) {
                                if (currentBlock) blocks.push(currentBlock.trim());
                                currentBlock = subSentence;
                            } else {
                                currentBlock += (currentBlock ? ' ' : '') + subSentence;
                            }
                        });
                    } else {
                        if (currentBlock.length + sentence.length > BLOCK_SIZE) {
                            blocks.push(currentBlock.trim());
                            currentBlock = sentence;
                        } else {
                            currentBlock += (currentBlock ? ' ' : '') + sentence;
                        }
                    }
                });

                if (currentBlock) blocks.push(currentBlock.trim());
                return blocks;
            }

            function speakBlock(index) {
                if (index >= textBlocks.length) {
                    isReading = false;
                    updateButtons(false);
                    updateProgress();
                    return;
                }

                currentUtterance = new SpeechSynthesisUtterance(textBlocks[index]);
                currentUtterance.rate = parseFloat(1.3);
                lastSpokenIndex = index;


                currentUtterance.onend = function() {
                    if (isReading && !isPaused) {
                        currentBlockIndex++;
                        updateProgress();
                        speakBlock(currentBlockIndex);
                    }
                };

                currentUtterance.onerror = function(event) {
                    console.error('Error en la lectura:', event);
                    isReading = false;
                    updateButtons(false);
                    updateProgress();
                };

                speechSynthesis.speak(currentUtterance);
            }

            function startReading() {
                const text = document.getElementById('texto').innerText;
                if (!text) return;

                // Detener cualquier lectura previa
                stop();

                // Preparar nueva lectura
                textBlocks = splitIntoBlocks(text);
                currentBlockIndex = 0;
                isReading = true;
                isPaused = false;

                updateButtons(true);
                updateProgress();
                speakBlock(currentBlockIndex);
            }

            function pause() {
                speechSynthesis.pause();
                isPaused = true;
                updateButtons(true);
            }

            function resume() {
                speechSynthesis.resume();
                isPaused = false;
                updateButtons(true);
            }

            function stop() {
                speechSynthesis.cancel();
                isReading = false;
                isPaused = false;
                currentBlockIndex = 0;
                updateButtons(false);
                updateProgress();
            }

            function pauseReading() {
                if (!isReading) return;

                speechSynthesis.pause();
                isPaused = true;
                isReading = false;
                updateButtons(true);
                updateProgress();
            }

            function resumeReading() {
                if (!isPaused) return;

                isPaused = false;
                isReading = true;

                // Si el utterance actual ya termin贸, comenzar con el siguiente bloque
                if (lastSpokenIndex === currentBlockIndex) {
                    currentBlockIndex++;
                }

                updateButtons(true);
                updateProgress();

                // Si hay un utterance pausado, resumirlo
                if (speechSynthesis.paused) {
                    speechSynthesis.resume();
                } else {
                    // Si no hay utterance pausado, comenzar desde el bloque actual
                    speakBlock(currentBlockIndex);
                }
            }

            function stopReading() {
                speechSynthesis.cancel();
                finishReading();
            }

            function finishReading() {
                isReading = false;
                isPaused = false;
                currentBlockIndex = 0;
                lastSpokenIndex = -1;
                currentUtterance = null;
                updateButtons(false);
                updateProgress();
            }

        </script>        

        <script>

            var elem = document.documentElement;
            var fullscreenButton = document.getElementById("fullscreenButton");
            var fullscreenIcon = document.getElementById("fullscreenIcon");

            fullscreenButton.addEventListener("click", function() {
            if (document.fullscreenElement || document.mozFullScreenElement || document.webkitFullscreenElement || document.msFullscreenElement) {
                if (document.exitFullscreen) {
                document.exitFullscreen();
                } else if (document.mozCancelFullScreen) { /* Firefox */
                document.mozCancelFullScreen();
                } else if (document.webkitExitFullscreen) { /* Chrome, Safari and Opera */
                document.webkitExitFullscreen();
                } else if (document.msExitFullscreen) { /* IE/Edge */
                document.msExitFullscreen();
                }
            } else {
                if (elem.requestFullscreen) {
                elem.requestFullscreen();
                } else if (elem.mozRequestFullScreen) { /* Firefox */
                elem.mozRequestFullScreen();
                } else if (elem.webkitRequestFullscreen) { /* Chrome, Safari and Opera */
                elem.webkitRequestFullscreen();
                } else if (elem.msRequestFullscreen) { /* IE/Edge */
                elem.msRequestFullscreen();
                }
            }
            });

            document.addEventListener('fullscreenchange', (event) => {
            if (!document.fullscreenElement) {
                fullscreenIcon.innerHTML = '<path d="M5 5h5v5H5zM14 5h5v5h-5zM5 14h5v5H5zM14 14h5v5h-5z"/>';
            } else {
                fullscreenIcon.innerHTML = '<path d="M7 14H5v5h5v-2H7v-3zm-2-4h2V7h3V5H5v5zm12 7h-3v2h5v-5h-2v3zM14 5v2h3v3h2V5h-5z"/>';
            }
            });
        </script>

    </body>
    </html>