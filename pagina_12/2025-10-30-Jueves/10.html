<!DOCTYPE html>
    <html lang="es">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>La primera declaración de Lula tras la masacre en Río. Llamó a "combatir el crimen organizado" pero "sin poner en riesgo a policías, niños y familias incocentes". </title>
        <style>
            body {
                max-width: 800px;
                margin: auto;
                padding: 5%;
            }
            .btnL {
                background: #d1d1d1;
                border-radius: 7px;
                padding: 18px;
                min-width: 100%;
                color: #000000;
                font-size: medium;
                min-height: 70px;
            }
            button {
                background-color: #d1d1d1;
                color: white;
                padding: 10px 20px;
                border: none;
                border-radius: 4px;
                cursor: pointer;
                margin: 5px;
            }
            button:disabled {
                background-color: #d1d1d1;
                cursor: not-available;
            }
            button:hover:not(:disabled) {
                background-color: #d1d1d1;
            }
            #voiceSelect {
                margin: 10px 0;
                padding: 5px;
            }
            .controls {
                margin: 10px 0;
            }

            #fullscreenButton {
                position: fixed;
                top: 20px;
                right: 20px;
                padding: 10px;
                background-color: transparent;
                border: none;
                cursor: pointer;
                border-radius: 5px;
            }

            #fullscreenIcon {
                width: 24px;
                height: 24px;
            }

        </style>
    </head>
    <body>
        <button id="fullscreenButton">
        <svg id="fullscreenIcon" viewBox="0 0 24 24" fill="currentColor">
            <path d="M5 5h5v5H5zM14 5h5v5h-5zM5 14h5v5H5zM14 14h5v5h-5z"/>
        </svg>
        </button>

        <div id="texto">
            <h1>La primera declaración de Lula tras la masacre en Río. Llamó a "combatir el crimen organizado" pero "sin poner en riesgo a policías, niños y familias incocentes". </h1>
            <p>Llamó a "combatir el crimen organizado"</p><p>El presidente de Brasil anunció la creación de la Oficina de Emergencia de Enfrentamiento al Crimen Organizado, una entidad conjunta entre el Gobierno nacional y el regional del estado de Río de Janeiro para enfrentar la actual crisis.</p><p>Se creó la Oficina de Emergencia de Enfrentamiento al Crimen Organizado</p><p>El presidente brasileño, Luiz Inácio Lula da Silva, pidió este miércoles que se combata el crimen organizado de forma que no ponga en peligro a policías ni civiles, tras la megaoperación policial más mortal de Brasil que dejó hasta el momento al menos 121 fallecidos. Al mismo tiempo, anunció la creación de la Oficina de Emergencia de Enfrentamiento al Crimen Organizado, una entidad conjunta entre el Gobierno nacional de Brasil y el regional del estado de Río de Janeiro para enfrentar la actual crisis.</p><p>"No podemos aceptar que el crimen organizado continúe destruyendo familias, oprimiendo vecinos y esparciendo drogas y violencia por las ciudades. Necesitamos un trabajo coordinado que ataque la raíz del narcotráfico sin poner en riesgo a policías inocentes, niños y familias", afirmó Lula en X.</p><p>"Esta mañana me reuní con ministros de mi gobierno y les di instrucciones al Ministro de Justicia y al Director General de la Policía Federal para que fueran a Río a reunirse con el gobernador", añadió. En ese sentido, informó que "con la aprobación de la Enmienda de Seguridad, que presentamos al Congreso Nacional, garantizaremos que las diferentes fuerzas policiales actúen conjuntamente para enfrentar a las facciones criminales".</p><p>El Gobierno nacional de Brasil y el regional del estado de Río de Janeiro anunciaron este miércoles la creación de una entidad conjunta de combate al crimen organizado como respuesta a la crisis de seguridad. La misma fue anunciada en una rueda de prensa tras la reunión que tuvieron el ministro de Justicia, Ricardo Lewandowski, y el gobernador de Río de Janeiro, Cláudio Castro.</p><p>El encuentro fue solicitado por el propio presidente Lula, luego de que el gobernador de Río afirmara que en la operación policial del martes, la más letal en la historia de Brasil, solo participaron fuerzas regionales debido a que el Gobierno nacional se ha negado a colaborar en el combate al narcotráfico en esta ciudad.</p><p>La operación tenía por objetivo la captura de los principales cabecillas del Comando Vermelho, la más antigua y poderosa organización criminal de Río, pero que tiene ramificaciones en todo el país. "Decidimos adoptar en conjunto algunas medidas de emergencia, como la Oficina de Emergencia de Combate al Crimen Organizado, que reunirá las fuerzas nacionales y las regionales para enfrentar la actual crisis", afirmó Lewandowski.</p><p>El ministro agregó que la entidad no tendrá carácter permanente y servirá como un fórum para que las fuerzas puedan actuar conjuntamente y tomar decisiones de forma más rápida.</p><p>Lewandowski afirmó que, tras ser informado sobre lo sucedido en la madrugada de este miércoles, al desembarcar en Brasil procedente de una gira por Asia, Lula determinó que los principales responsables por la seguridad pública de Brasil viajasen a Río de Janeiro a ofrecer apoyo al gobierno regional y a la población en un momento de crisis.</p><p>Agregó que en la reunión fueron acordadas otras medidas de emergencia, aunque aclaró que el apoyo será limitado por la escasez de recursos financieros.</p><p>Según el ministro, el Gobierno nacional le ofreció al regional cupos en los presidios federales de máxima seguridad para que Río de Janeiro pueda aislar en las mismas a los principales dirigentes del Comando Vermelho.</p><p>El funcionario dijo igualmente que el Gobierno nacional enviará a Río diferentes técnicos, médicos y peritos legales para ayudar en la identificación de los muertos en la operación, que la gobernación regional asegura tratarse de cuatro policías y 117 miembros del grupo criminal.</p><p>Aunque el gobierno regional de Río de Janeiro sólo confirmó 121 muertos, la Defensoría Pública, una institución pública que recopiló los datos en los institutos forenses y en el lugar de los hechos, asegura que fueron 132 víctimas.</p><p></p>
        </div>
        <br><br><br>
            <div style="display: none;">
                <label for="voiceSelect">Seleccionar voz:</label>
                <select id="voiceSelect"></select>
            </div>
            <div class="controls">
                <button onclick="startReading()" id="playButton">
                    🔊 Leer
                </button>
                <button onclick="pauseReading()" id="pauseButton" disabled style="display: none;">
                    ⏸️ Pausar
                </button>
                <button onclick="resumeReading()" id="resumeButton" disabled style="display: none;">
                    ▶️ Continuar
                </button>
                <button onclick="stopReading()" id="stopButton" disabled>
                    ⏹️ Detener
                </button>
            </div>
            <div id="progress" style="display: none;"></div>
        <br><br><br>
        <button class="btnL" onclick="compartir()">Compartir</button>
        <br><br><br>
        <button class="btnL" onclick="window.location.href='https://www.pagina12.com.ar/869960-lula-pidio-por-un-trabajo-coordinado-sin-poner-en-riesgo-a-p'">Ver en web original</button>
        <br><br><br>
        <!-- <button class="btnL" onclick="window.location.href='https://matenews.github.io/MateNews/'">Volver a la página principal</button>
        <br><br><br> -->


        <script>
            function compartir() {
            if (navigator.share) {
                navigator.share({
                title: 'La primera declaración de Lula tras la masacre en Río. Llamó a "combatir el crimen organizado" pero "sin poner en riesgo a policías, niños y familias incocentes". ', // Opcional, pero recomendado     
                text: 'La primera declaración de Lula tras la masacre en Río. Llamó a "combatir el crimen organizado" pero "sin poner en riesgo a policías, niños y familias incocentes". ',  // Opcional
                url: 'https://www.pagina12.com.ar/869960-lula-pidio-por-un-trabajo-coordinado-sin-poner-en-riesgo-a-p'
                })
                .then(() => console.log('Contenido compartido exitosamente'))
                .catch((error) => console.error('Error al compartir:', error));
            } else {
                // Código alternativo si la API Web Share no está disponible
                console.log("Web Share API no soportada");
                // Puedes usar aquí la opción 2 (botones personalizados con JavaScript) de mi respuesta anterior
            }
            }
        </script>


        <script>
            let speechSynthesis = window.speechSynthesis;
            let currentUtterance = null;
            let isPaused = false;
            let isReading = false;
            let textBlocks = [];
            let currentBlockIndex = 0;
            let lastSpokenIndex = 0;
            const BLOCK_SIZE = 800;

            function updateButtons(speaking) {
                document.getElementById('playButton').disabled = speaking;
                document.getElementById('pauseButton').disabled = !speaking;
                document.getElementById('resumeButton').disabled = !isPaused;
                document.getElementById('stopButton').disabled = !speaking;
            }

            function updateProgress() {
                const progressDiv = document.getElementById('progress');
                if (isReading) {
                    progressDiv.textContent = `Leyendo bloque ${currentBlockIndex + 1} de ${textBlocks.length}`;
                } else {
                    progressDiv.textContent = '';
                }
            }

            function splitIntoBlocks(text) {
                // Dividir el texto en oraciones usando puntuación común
                const sentences = text.replace(/([.!?])\s+/g, "$1|").split("|");

                let blocks = [];
                let currentBlock = '';

                sentences.forEach(sentence => {
                    // Si la oración es muy larga, dividirla en la coma más cercana al BLOCK_SIZE
                    if (sentence.length > BLOCK_SIZE) {
                        let subSentences = sentence.replace(/,\s+/g, ",|").split("|");
                        subSentences.forEach(subSentence => {
                            if (currentBlock.length + subSentence.length > BLOCK_SIZE) {
                                if (currentBlock) blocks.push(currentBlock.trim());
                                currentBlock = subSentence;
                            } else {
                                currentBlock += (currentBlock ? ' ' : '') + subSentence;
                            }
                        });
                    } else {
                        if (currentBlock.length + sentence.length > BLOCK_SIZE) {
                            blocks.push(currentBlock.trim());
                            currentBlock = sentence;
                        } else {
                            currentBlock += (currentBlock ? ' ' : '') + sentence;
                        }
                    }
                });

                if (currentBlock) blocks.push(currentBlock.trim());
                return blocks;
            }

            function speakBlock(index) {
                if (index >= textBlocks.length) {
                    isReading = false;
                    updateButtons(false);
                    updateProgress();
                    return;
                }

                currentUtterance = new SpeechSynthesisUtterance(textBlocks[index]);
                currentUtterance.rate = parseFloat(1.3);
                lastSpokenIndex = index;


                currentUtterance.onend = function() {
                    if (isReading && !isPaused) {
                        currentBlockIndex++;
                        updateProgress();
                        speakBlock(currentBlockIndex);
                    }
                };

                currentUtterance.onerror = function(event) {
                    console.error('Error en la lectura:', event);
                    isReading = false;
                    updateButtons(false);
                    updateProgress();
                };

                speechSynthesis.speak(currentUtterance);
            }

            function startReading() {
                const text = document.getElementById('texto').innerText;
                if (!text) return;

                // Detener cualquier lectura previa
                stop();

                // Preparar nueva lectura
                textBlocks = splitIntoBlocks(text);
                currentBlockIndex = 0;
                isReading = true;
                isPaused = false;

                updateButtons(true);
                updateProgress();
                speakBlock(currentBlockIndex);
            }

            function pause() {
                speechSynthesis.pause();
                isPaused = true;
                updateButtons(true);
            }

            function resume() {
                speechSynthesis.resume();
                isPaused = false;
                updateButtons(true);
            }

            function stop() {
                speechSynthesis.cancel();
                isReading = false;
                isPaused = false;
                currentBlockIndex = 0;
                updateButtons(false);
                updateProgress();
            }

            function pauseReading() {
                if (!isReading) return;

                speechSynthesis.pause();
                isPaused = true;
                isReading = false;
                updateButtons(true);
                updateProgress();
            }

            function resumeReading() {
                if (!isPaused) return;

                isPaused = false;
                isReading = true;

                // Si el utterance actual ya terminó, comenzar con el siguiente bloque
                if (lastSpokenIndex === currentBlockIndex) {
                    currentBlockIndex++;
                }

                updateButtons(true);
                updateProgress();

                // Si hay un utterance pausado, resumirlo
                if (speechSynthesis.paused) {
                    speechSynthesis.resume();
                } else {
                    // Si no hay utterance pausado, comenzar desde el bloque actual
                    speakBlock(currentBlockIndex);
                }
            }

            function stopReading() {
                speechSynthesis.cancel();
                finishReading();
            }

            function finishReading() {
                isReading = false;
                isPaused = false;
                currentBlockIndex = 0;
                lastSpokenIndex = -1;
                currentUtterance = null;
                updateButtons(false);
                updateProgress();
            }

        </script>        

        <script>

            var elem = document.documentElement;
            var fullscreenButton = document.getElementById("fullscreenButton");
            var fullscreenIcon = document.getElementById("fullscreenIcon");

            fullscreenButton.addEventListener("click", function() {
            if (document.fullscreenElement || document.mozFullScreenElement || document.webkitFullscreenElement || document.msFullscreenElement) {
                if (document.exitFullscreen) {
                document.exitFullscreen();
                } else if (document.mozCancelFullScreen) { /* Firefox */
                document.mozCancelFullScreen();
                } else if (document.webkitExitFullscreen) { /* Chrome, Safari and Opera */
                document.webkitExitFullscreen();
                } else if (document.msExitFullscreen) { /* IE/Edge */
                document.msExitFullscreen();
                }
            } else {
                if (elem.requestFullscreen) {
                elem.requestFullscreen();
                } else if (elem.mozRequestFullScreen) { /* Firefox */
                elem.mozRequestFullScreen();
                } else if (elem.webkitRequestFullscreen) { /* Chrome, Safari and Opera */
                elem.webkitRequestFullscreen();
                } else if (elem.msRequestFullscreen) { /* IE/Edge */
                elem.msRequestFullscreen();
                }
            }
            });

            document.addEventListener('fullscreenchange', (event) => {
            if (!document.fullscreenElement) {
                fullscreenIcon.innerHTML = '<path d="M5 5h5v5H5zM14 5h5v5h-5zM5 14h5v5H5zM14 14h5v5h-5z"/>';
            } else {
                fullscreenIcon.innerHTML = '<path d="M7 14H5v5h5v-2H7v-3zm-2-4h2V7h3V5H5v5zm12 7h-3v2h5v-5h-2v3zM14 5v2h3v3h2V5h-5z"/>';
            }
            });
        </script>

    </body>
    </html>