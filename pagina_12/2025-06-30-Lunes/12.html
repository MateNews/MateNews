<!DOCTYPE html>
    <html lang="es">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>Fantasmas. Contratapa. </title>
        <style>
            body {
                max-width: 800px;
                margin: auto;
                padding: 5%;
            }
            .btnL {
                background: #d1d1d1;
                border-radius: 7px;
                padding: 18px;
                min-width: 100%;
                color: #000000;
                font-size: medium;
                min-height: 70px;
            }
            button {
                background-color: #d1d1d1;
                color: white;
                padding: 10px 20px;
                border: none;
                border-radius: 4px;
                cursor: pointer;
                margin: 5px;
            }
            button:disabled {
                background-color: #d1d1d1;
                cursor: not-available;
            }
            button:hover:not(:disabled) {
                background-color: #d1d1d1;
            }
            #voiceSelect {
                margin: 10px 0;
                padding: 5px;
            }
            .controls {
                margin: 10px 0;
            }

            #fullscreenButton {
                position: fixed;
                top: 20px;
                right: 20px;
                padding: 10px;
                background-color: transparent;
                border: none;
                cursor: pointer;
                border-radius: 5px;
            }

            #fullscreenIcon {
                width: 24px;
                height: 24px;
            }

        </style>
    </head>
    <body>
        <button id="fullscreenButton">
        <svg id="fullscreenIcon" viewBox="0 0 24 24" fill="currentColor">
            <path d="M5 5h5v5H5zM14 5h5v5h-5zM5 14h5v5H5zM14 14h5v5h-5z"/>
        </svg>
        </button>

        <div id="texto">
            <h1>Fantasmas. Contratapa. </h1>
            <p></p><p>¿Qué es una utopía sino un fantasma que asedia desde su posibilidad? ¿Qué es la memoria sino un fantasma que reclama una ética de la verdad? Y entre una cosa y la otra, la experiencia subjetiva del tiempo, esa dilatación del alma que tanto desveló a San Agustín.</p><p>Se ha dicho mucho que vivimos un tiempo que parece salido de El cuento de la criada de Margaret Adwood, ese donde las mujeres sólo tienen destino de esposas, vasijas donde se reproduce la especie, sirvientas o prostitutas. Como si el presente se hubiera dislocado y de pronto estuviéramos viviendo en la Edad Media. Un asombro que es privilegio de clase y de género. Recuerdo que un señoro me dijo que no quería acompañarme a un viaje que me habían propuesto para presentar mi obra porque ahí sólo “iba a ser el marido de”. Eso le parecía intolerable. Sin embargo, a nadie se le cae una pestaña por recordar a Elena Garro, la grandísima escritora mexicana, como “la esposa de Octavio Paz”.</p><p>Elena Garro escribió un libro monumental. Además de muchas obras de teatro, cuentos y otras novelas, Los recuerdos del porvenir es la inauguración de lo que luego se llamó “realismo mágico”. Ese boom latinoamericano que nunca la tuvo en cuenta. Tampoco el anti-boom latinoamericano la tuvo en cuenta. Para lo primero, García Márquez --por supuesto--, Alejo Carpentier, Vargas Llosas, etc. Para lo segundo, Caicedo, Bolaños, Di Benedetto, etc. Sin embargo, ella, Elena, con su novela del oxímoron perfecto (recordar el porvenir), lo hizo todo y tan, pero tan bien.</p><p>El lugar es Ixtepec, un pueblo chiquito, y botón de muestra de tantísimos otros. El tiempo es cuando la revolución mexicana quedó en manos de los que no eran, ni de lejos, Emiliano Zapata o Pancho Villa. El narrador es el propio pueblo. Ixtepec, que se sienta en una “piedra aparente” y empieza a contar. Así, sentado sobre sí mismo, arma una primera persona que a veces es singular y a veces es plural, y a veces habla en tercera como inmortalizó Maradona. Cuenta la historia de militares crueles que hacen amanecer cada mañana los árboles florecidos de colgados, con sus lenguas al aire y sus piernas flacas. Mujeres que están educadas para repetir como un mantra “en boca cerrada no entran moscas”, o son robadas en algún otro pueblo, parecido a este pero lejano, para ser queridas de los militares crueles. O son prostitutas pobres para ser compradas por soldados pobres. O sirvientas solícitas que viven en las cocinas. En ese pueblo que hace memoria sobre sí mismo, los militares y los curas entran en la Guerra Cristera, ese conflicto que dejó millares de cadáveres para que esos, que nunca mueren ni matan con sus propias manos, se quedaran con todas las tierras. Abro un paréntesis caprichoso: Plutarco Elías Calles, presidente mexicano tras la revolución (y asesinato de Zapata y luego de Villa) impulsó una ley que separaba la iglesia del Estado. Parece algo bueno (ya se sabe, Iglesia y Estado, asuntos separados). Sin embargo, este amante del progreso (ya se sabe también que las rutas y los bancos nacionales están hechas de ladrillos de sangre de pueblo), creador del partido que sería antecesor del PRI, comandó unas Fuerzas Armadas que quemaron iglesias e hicieron grandes piras con santos, vírgenes y rosarios. La iglesia --institución-- no se quedó de brazos cruzados, pero fue la gente de a pie la que pintó en las paredes “Viva Cristo Rey”, y sacó sus armas de debajo de las camas para luchar por su Jesucito. Los ritos, la conversación con los dioses que escuchan los pensamientos y ayudan a descubrir qué es lo que se quiere y cómo se lo quiere pedir, el lugar de encuentro; todo eso es un templo para una comunidad. Habría que pensar, antes de incendiar los símbolos de las creencias ajenas, que con los fantasmas no se juega. Al menos no se juega sin esperar que haya consecuencias. Cierro paréntesis caprichoso.</p><p>Estábamos con Elena Garro. La señora que decía que ella no escribía ningún realismo mágico, que lo que hacía era conectar con las poblaciones de “indios” con las que se había criado, y tratar de pensar y sentir como ellos. En definitiva, por qué sería más mágica esa realidad que la de la paloma engendrando un niño. También fue la señora que amaba a los gatos, tanto como para traérselos de Europa cuando por fin logró sacarse de encima a Octavio. Tan premio Nobel él, tan aplastada por su violencia ella.</p><p>Estábamos, en realidad, con Los recuerdos del porvenir. No quisiera detenerme en el argumento --búsquenlo, léanlo, cada oración es una fiesta--, sino en la materia más difícil de atrapar con la que trabaja: el tiempo. Una de las familias protagonistas, los Moncada, tiene un reloj cucú en la pared. Todas las tardes, se sientan en el salón a hacer sus tareas de ocio. Madre que borda, padre que lee, hijos varones que vuelven de la calle, hija que se impacienta. Cuando la luz se empieza a opacar, Félix, el sirviente de la casa, se acerca y le saca el péndulo para que deje de sonar, y así la familia pueda detener el tiempo. Elena Garro escribe sobre el padre, Martín Moncada: “Nunca se decía: ‘el lunes haré tal cosa’, porque entre ese lunes y él había una multitud de recuerdos no vividos”. Así, la memoria no recuerda lo que pasó, sino que tracciona lo que sucederá. No exactamente como eso de “los pueblos que no tienen memoria están condenados a repetir su propia historia”, sino más bien a la inversa. Los pueblos, cuyos únicos fantasmas son del pasado, viven un tiempo circular que no puede no ser agotador: todo lo que sucede ya sucedió y volverá a suceder.</p><p>Jaques Derrida también habló del tiempo y de los fantasmas. Su texto Los espectros de Marx es un clásico de clásicos. Para él, el tiempo, también es circular, contrario a esa linealidad a la que nos acostumbró el progresismo occidental. Los fantasmas, sin embargo, no sólo vienen del pasado. También vienen del futuro. Ya lo sabía bien Dickens, que en su Cuento de Navidad atormentaba a Scrooge con sus fantasmas del pasado y del futuro. Pero el fantasma del futuro de Derrida no es una imagen aleccionadora. No es lo que seremos si no dejamos de ser amarretes o malas personas. Es, como el comunismo, que parece estar en el pasado y sin embargo es un fantasma que asedia desde su posibilidad. Por eso, los fantasmas que ululan en las noches argentinas, todas esas almas en pena que no encontraron sepultura, todos esos seres que murieron tan mal, siguen rondándonos porque no quieren seguir en el pasado. No quieren ser memoria de un tiempo muerto. Tan muerto que ni siquiera convoca para conversar. Ya nadie parece pelearse con esos muertos. Nadie les discute, ni les reclama lo que hicieron mal o lo que no hicieron. Nadie tampoco les festeja todas esas pequeñas victorias que fueron la llama que los fue encendiendo. Las fotos en las pancartas, las letras en las baldosas, los nombres en las placas, angustian a unas almas que lo que quieren es insistir desde el futuro.</p><p>Pero los fantasmas no pueden traspasar los portales así, como se les da la gana. Como nos ha enseñado toda la literatura sobre espectros, los fantasmas tratan de llamar la atención de los vivos para que realicen aquellas cosas que les permitirán, si hay suerte, descansar en paz. En una paz, que ya se sabe, no es la de los cementerios. Si algo no querían nuestros muertos es morirse. Siguen sin querer. Quieren seguir siendo fantasmas, con sepultura, sin ella, con mármoles con epitafios o con epitafios escritos en las paredes.</p><p></p><p>Quieren ser esos fantasmas con los que todas las generaciones discuten levantando la voz, para después pedirles que sostengan las banderas en la calle. Quieren ser esos espectros que asustan hasta el terror a los militantes de la derecha, que parecen muy estúpidos, pero tienen al menos esa inteligencia: de los fantasmas del comunismo tienen que huir como de la lepra.</p><p></p>
        </div>
        <br><br><br>
            <div style="display: none;">
                <label for="voiceSelect">Seleccionar voz:</label>
                <select id="voiceSelect"></select>
            </div>
            <div class="controls">
                <button onclick="startReading()" id="playButton">
                    🔊 Leer
                </button>
                <button onclick="pauseReading()" id="pauseButton" disabled style="display: none;">
                    ⏸️ Pausar
                </button>
                <button onclick="resumeReading()" id="resumeButton" disabled style="display: none;">
                    ▶️ Continuar
                </button>
                <button onclick="stopReading()" id="stopButton" disabled>
                    ⏹️ Detener
                </button>
            </div>
            <div id="progress" style="display: none;"></div>
        <br><br><br>
        <button class="btnL" onclick="compartir()">Compartir</button>
        <br><br><br>
        <button class="btnL" onclick="window.location.href='https://www.pagina12.com.ar/838285-fantasmas'">Ver en web original</button>
        <br><br><br>
        <!-- <button class="btnL" onclick="window.location.href='https://matenews.github.io/MateNews/'">Volver a la página principal</button>
        <br><br><br> -->


        <script>
            function compartir() {
            if (navigator.share) {
                navigator.share({
                title: 'Fantasmas. Contratapa. ', // Opcional, pero recomendado     
                text: 'Fantasmas. Contratapa. ',  // Opcional
                url: 'https://www.pagina12.com.ar/838285-fantasmas'
                })
                .then(() => console.log('Contenido compartido exitosamente'))
                .catch((error) => console.error('Error al compartir:', error));
            } else {
                // Código alternativo si la API Web Share no está disponible
                console.log("Web Share API no soportada");
                // Puedes usar aquí la opción 2 (botones personalizados con JavaScript) de mi respuesta anterior
            }
            }
        </script>


        <script>
            let speechSynthesis = window.speechSynthesis;
            let currentUtterance = null;
            let isPaused = false;
            let isReading = false;
            let textBlocks = [];
            let currentBlockIndex = 0;
            let lastSpokenIndex = 0;
            const BLOCK_SIZE = 800;

            function updateButtons(speaking) {
                document.getElementById('playButton').disabled = speaking;
                document.getElementById('pauseButton').disabled = !speaking;
                document.getElementById('resumeButton').disabled = !isPaused;
                document.getElementById('stopButton').disabled = !speaking;
            }

            function updateProgress() {
                const progressDiv = document.getElementById('progress');
                if (isReading) {
                    progressDiv.textContent = `Leyendo bloque ${currentBlockIndex + 1} de ${textBlocks.length}`;
                } else {
                    progressDiv.textContent = '';
                }
            }

            function splitIntoBlocks(text) {
                // Dividir el texto en oraciones usando puntuación común
                const sentences = text.replace(/([.!?])\s+/g, "$1|").split("|");

                let blocks = [];
                let currentBlock = '';

                sentences.forEach(sentence => {
                    // Si la oración es muy larga, dividirla en la coma más cercana al BLOCK_SIZE
                    if (sentence.length > BLOCK_SIZE) {
                        let subSentences = sentence.replace(/,\s+/g, ",|").split("|");
                        subSentences.forEach(subSentence => {
                            if (currentBlock.length + subSentence.length > BLOCK_SIZE) {
                                if (currentBlock) blocks.push(currentBlock.trim());
                                currentBlock = subSentence;
                            } else {
                                currentBlock += (currentBlock ? ' ' : '') + subSentence;
                            }
                        });
                    } else {
                        if (currentBlock.length + sentence.length > BLOCK_SIZE) {
                            blocks.push(currentBlock.trim());
                            currentBlock = sentence;
                        } else {
                            currentBlock += (currentBlock ? ' ' : '') + sentence;
                        }
                    }
                });

                if (currentBlock) blocks.push(currentBlock.trim());
                return blocks;
            }

            function speakBlock(index) {
                if (index >= textBlocks.length) {
                    isReading = false;
                    updateButtons(false);
                    updateProgress();
                    return;
                }

                currentUtterance = new SpeechSynthesisUtterance(textBlocks[index]);
                currentUtterance.rate = parseFloat(1.3);
                lastSpokenIndex = index;


                currentUtterance.onend = function() {
                    if (isReading && !isPaused) {
                        currentBlockIndex++;
                        updateProgress();
                        speakBlock(currentBlockIndex);
                    }
                };

                currentUtterance.onerror = function(event) {
                    console.error('Error en la lectura:', event);
                    isReading = false;
                    updateButtons(false);
                    updateProgress();
                };

                speechSynthesis.speak(currentUtterance);
            }

            function startReading() {
                const text = document.getElementById('texto').innerText;
                if (!text) return;

                // Detener cualquier lectura previa
                stop();

                // Preparar nueva lectura
                textBlocks = splitIntoBlocks(text);
                currentBlockIndex = 0;
                isReading = true;
                isPaused = false;

                updateButtons(true);
                updateProgress();
                speakBlock(currentBlockIndex);
            }

            function pause() {
                speechSynthesis.pause();
                isPaused = true;
                updateButtons(true);
            }

            function resume() {
                speechSynthesis.resume();
                isPaused = false;
                updateButtons(true);
            }

            function stop() {
                speechSynthesis.cancel();
                isReading = false;
                isPaused = false;
                currentBlockIndex = 0;
                updateButtons(false);
                updateProgress();
            }

            function pauseReading() {
                if (!isReading) return;

                speechSynthesis.pause();
                isPaused = true;
                isReading = false;
                updateButtons(true);
                updateProgress();
            }

            function resumeReading() {
                if (!isPaused) return;

                isPaused = false;
                isReading = true;

                // Si el utterance actual ya terminó, comenzar con el siguiente bloque
                if (lastSpokenIndex === currentBlockIndex) {
                    currentBlockIndex++;
                }

                updateButtons(true);
                updateProgress();

                // Si hay un utterance pausado, resumirlo
                if (speechSynthesis.paused) {
                    speechSynthesis.resume();
                } else {
                    // Si no hay utterance pausado, comenzar desde el bloque actual
                    speakBlock(currentBlockIndex);
                }
            }

            function stopReading() {
                speechSynthesis.cancel();
                finishReading();
            }

            function finishReading() {
                isReading = false;
                isPaused = false;
                currentBlockIndex = 0;
                lastSpokenIndex = -1;
                currentUtterance = null;
                updateButtons(false);
                updateProgress();
            }

        </script>        

        <script>

            var elem = document.documentElement;
            var fullscreenButton = document.getElementById("fullscreenButton");
            var fullscreenIcon = document.getElementById("fullscreenIcon");

            fullscreenButton.addEventListener("click", function() {
            if (document.fullscreenElement || document.mozFullScreenElement || document.webkitFullscreenElement || document.msFullscreenElement) {
                if (document.exitFullscreen) {
                document.exitFullscreen();
                } else if (document.mozCancelFullScreen) { /* Firefox */
                document.mozCancelFullScreen();
                } else if (document.webkitExitFullscreen) { /* Chrome, Safari and Opera */
                document.webkitExitFullscreen();
                } else if (document.msExitFullscreen) { /* IE/Edge */
                document.msExitFullscreen();
                }
            } else {
                if (elem.requestFullscreen) {
                elem.requestFullscreen();
                } else if (elem.mozRequestFullScreen) { /* Firefox */
                elem.mozRequestFullScreen();
                } else if (elem.webkitRequestFullscreen) { /* Chrome, Safari and Opera */
                elem.webkitRequestFullscreen();
                } else if (elem.msRequestFullscreen) { /* IE/Edge */
                elem.msRequestFullscreen();
                }
            }
            });

            document.addEventListener('fullscreenchange', (event) => {
            if (!document.fullscreenElement) {
                fullscreenIcon.innerHTML = '<path d="M5 5h5v5H5zM14 5h5v5h-5zM5 14h5v5H5zM14 14h5v5h-5z"/>';
            } else {
                fullscreenIcon.innerHTML = '<path d="M7 14H5v5h5v-2H7v-3zm-2-4h2V7h3V5H5v5zm12 7h-3v2h5v-5h-2v3zM14 5v2h3v3h2V5h-5z"/>';
            }
            });
        </script>

    </body>
    </html>