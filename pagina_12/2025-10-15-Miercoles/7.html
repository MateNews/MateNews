<!DOCTYPE html>
    <html lang="es">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>Una explosi贸n en un colegio de Palermo dej贸 5 estudiantes heridos. Tras un experimento. </title>
        <style>
            body {
                max-width: 800px;
                margin: auto;
                padding: 5%;
            }
            .btnL {
                background: #d1d1d1;
                border-radius: 7px;
                padding: 18px;
                min-width: 100%;
                color: #000000;
                font-size: medium;
                min-height: 70px;
            }
            button {
                background-color: #d1d1d1;
                color: white;
                padding: 10px 20px;
                border: none;
                border-radius: 4px;
                cursor: pointer;
                margin: 5px;
            }
            button:disabled {
                background-color: #d1d1d1;
                cursor: not-available;
            }
            button:hover:not(:disabled) {
                background-color: #d1d1d1;
            }
            #voiceSelect {
                margin: 10px 0;
                padding: 5px;
            }
            .controls {
                margin: 10px 0;
            }

            #fullscreenButton {
                position: fixed;
                top: 20px;
                right: 20px;
                padding: 10px;
                background-color: transparent;
                border: none;
                cursor: pointer;
                border-radius: 5px;
            }

            #fullscreenIcon {
                width: 24px;
                height: 24px;
            }

        </style>
    </head>
    <body>
        <button id="fullscreenButton">
        <svg id="fullscreenIcon" viewBox="0 0 24 24" fill="currentColor">
            <path d="M5 5h5v5H5zM14 5h5v5h-5zM5 14h5v5H5zM14 14h5v5h-5z"/>
        </svg>
        </button>

        <div id="texto">
            <h1>Una explosi贸n en un colegio de Palermo dej贸 5 estudiantes heridos. Tras un experimento. </h1>
            <p>"Estaban manipulando alcohol y fuego"</p><p>Dos j贸venes fueron trasladados a distintos centros de salud de la Ciudad con lesiones graves por las quemaduras. Otras tres personas fueron atendidas en el lugar por el Same.</p><p>Explosi贸n en un colegio de Palermo: c贸mo fueron los hechos</p><p>Al menos cinco estudiantes de del Colegio Guadalupe de Palermo sufrieron quemaduras durante un experimento que realizaban en el marco de una clase conjunta de qu铆mica llevada adelante por estudiantes de cuarto y quinto a帽o de la instituci贸n. Los hechos recuerdan el grave incidente ocurrido la semana pasada en Pergamino, cuando un experimento que emulaba la erupci贸n de un volc谩n dej贸 un saldo de 10 chicos heridos.</p><p>De a cuerdo a lo informado por el Same, que se hizo presente en la escuela para socorrer a los afectados, un adolescente de 16 a帽os fue trasladado al Hospital Guti茅rrez con el 35 por ciento de la superficie corporal quemada. Puntualmente, sufri贸 lesiones en el abdomen, tronco, cuello y rostro. El joven se encuentra internado en terapia intensiva.</p><p>Otro de los heridos, un preadolescente de 13 a帽os, fue trasladado inicialmente al Hospital Fern谩ndez, pero luego derivado al Hospital de Quemados e ingresado a la salade terapia intermedia. El chico presenta entre el 15 y el 20 por ciento de superficie corporal quemada, con lesiones principalmente en el tronco, rostro y espalda.</p><p>Adicionalmente, otras tres personas sufrieron quemaduras leves, una de ellas un adulto. Sin embargo, todas ellas fueron atendidas en el lugar y no requirieron su traslado a un centro de salud.</p><p>Desde el Ministerio de Educaci贸n de la Ciudad de Buenos Aires informaron que trabajan en un protocolo para implementar en este tipo de experimentos o ferias de ciencias con el fin de "reducir el m铆nimo los riesgos de accidentes o siniestros". Se espera que en los pr贸ximos d铆as sea publicada una resoluci贸n firmada por la ministra de Educaci贸n, Mercedes Miguel.</p><p>Federico, un estudiante de tercer a帽o del  colegio Guadalupe que presenci贸 la explosi贸n, relat贸 que sus compa帽eros "estaban haciendo un experimento" en el que"estaban manipulando alcohol y fuego" cu谩ndo ocurri贸 el accidente y "un chico se prendi贸 fuego de pies a cabeza".</p><p>Tras la aparici贸n de las llamas, "un profesor le tir贸 un guardapolvo encima y despu茅s otro se tir贸 con su propio cuerpo para apagarlo", detall贸 el joven que es conocido de uno de los heridos. "No hab铆a ning煤n tipo de matafuegos ni extintor", lament贸 Federico.</p><p>Por su parte, la madre de una estudiante de primer a帽o cont贸 a los m贸viles de televisi贸n que, cuando ocurri贸 la explosi贸n en el patio del colegio, los estudiantes "salieron todos corriendo", seg煤n el relato de su hija. Se escucharon gritos, chicos llorando, e incluso lleg贸 a ver a un par de nenes "con la ropa incendiada", agreg贸 la madre de la adolescente.</p><p>"Hab铆a dos chicos heridos, una m谩s leve, de primer a帽o, y un chico m谩s comprometido, de cuarto a帽o (...) se le prendi贸 fuego la remera, despu茅s le tom贸 el cuerpo y la cara", agreg贸 el padre de otro estudiante.</p><p>Finalmente, la madre de otro estudiante de la escuela, reconstruy贸 que en el momento del accidente los j贸venes estaban manipulando un mechero. "El chico quiso tocar algo, le qued贸 alcohol en la mano y se prendi贸 fuego", lament贸.</p><p></p>
        </div>
        <br><br><br>
            <div style="display: none;">
                <label for="voiceSelect">Seleccionar voz:</label>
                <select id="voiceSelect"></select>
            </div>
            <div class="controls">
                <button onclick="startReading()" id="playButton">
                     Leer
                </button>
                <button onclick="pauseReading()" id="pauseButton" disabled style="display: none;">
                    革 Pausar
                </button>
                <button onclick="resumeReading()" id="resumeButton" disabled style="display: none;">
                    讹 Continuar
                </button>
                <button onclick="stopReading()" id="stopButton" disabled>
                    癸 Detener
                </button>
            </div>
            <div id="progress" style="display: none;"></div>
        <br><br><br>
        <button class="btnL" onclick="compartir()">Compartir</button>
        <br><br><br>
        <button class="btnL" onclick="window.location.href='https://www.pagina12.com.ar/866018-una-explosion-en-un-colegio-de-palermo-dejo-5-estudiantes-he'">Ver en web original</button>
        <br><br><br>
        <!-- <button class="btnL" onclick="window.location.href='https://matenews.github.io/MateNews/'">Volver a la p谩gina principal</button>
        <br><br><br> -->


        <script>
            function compartir() {
            if (navigator.share) {
                navigator.share({
                title: 'Una explosi贸n en un colegio de Palermo dej贸 5 estudiantes heridos. Tras un experimento. ', // Opcional, pero recomendado     
                text: 'Una explosi贸n en un colegio de Palermo dej贸 5 estudiantes heridos. Tras un experimento. ',  // Opcional
                url: 'https://www.pagina12.com.ar/866018-una-explosion-en-un-colegio-de-palermo-dejo-5-estudiantes-he'
                })
                .then(() => console.log('Contenido compartido exitosamente'))
                .catch((error) => console.error('Error al compartir:', error));
            } else {
                // C贸digo alternativo si la API Web Share no est谩 disponible
                console.log("Web Share API no soportada");
                // Puedes usar aqu铆 la opci贸n 2 (botones personalizados con JavaScript) de mi respuesta anterior
            }
            }
        </script>


        <script>
            let speechSynthesis = window.speechSynthesis;
            let currentUtterance = null;
            let isPaused = false;
            let isReading = false;
            let textBlocks = [];
            let currentBlockIndex = 0;
            let lastSpokenIndex = 0;
            const BLOCK_SIZE = 800;

            function updateButtons(speaking) {
                document.getElementById('playButton').disabled = speaking;
                document.getElementById('pauseButton').disabled = !speaking;
                document.getElementById('resumeButton').disabled = !isPaused;
                document.getElementById('stopButton').disabled = !speaking;
            }

            function updateProgress() {
                const progressDiv = document.getElementById('progress');
                if (isReading) {
                    progressDiv.textContent = `Leyendo bloque ${currentBlockIndex + 1} de ${textBlocks.length}`;
                } else {
                    progressDiv.textContent = '';
                }
            }

            function splitIntoBlocks(text) {
                // Dividir el texto en oraciones usando puntuaci贸n com煤n
                const sentences = text.replace(/([.!?])\s+/g, "$1|").split("|");

                let blocks = [];
                let currentBlock = '';

                sentences.forEach(sentence => {
                    // Si la oraci贸n es muy larga, dividirla en la coma m谩s cercana al BLOCK_SIZE
                    if (sentence.length > BLOCK_SIZE) {
                        let subSentences = sentence.replace(/,\s+/g, ",|").split("|");
                        subSentences.forEach(subSentence => {
                            if (currentBlock.length + subSentence.length > BLOCK_SIZE) {
                                if (currentBlock) blocks.push(currentBlock.trim());
                                currentBlock = subSentence;
                            } else {
                                currentBlock += (currentBlock ? ' ' : '') + subSentence;
                            }
                        });
                    } else {
                        if (currentBlock.length + sentence.length > BLOCK_SIZE) {
                            blocks.push(currentBlock.trim());
                            currentBlock = sentence;
                        } else {
                            currentBlock += (currentBlock ? ' ' : '') + sentence;
                        }
                    }
                });

                if (currentBlock) blocks.push(currentBlock.trim());
                return blocks;
            }

            function speakBlock(index) {
                if (index >= textBlocks.length) {
                    isReading = false;
                    updateButtons(false);
                    updateProgress();
                    return;
                }

                currentUtterance = new SpeechSynthesisUtterance(textBlocks[index]);
                currentUtterance.rate = parseFloat(1.3);
                lastSpokenIndex = index;


                currentUtterance.onend = function() {
                    if (isReading && !isPaused) {
                        currentBlockIndex++;
                        updateProgress();
                        speakBlock(currentBlockIndex);
                    }
                };

                currentUtterance.onerror = function(event) {
                    console.error('Error en la lectura:', event);
                    isReading = false;
                    updateButtons(false);
                    updateProgress();
                };

                speechSynthesis.speak(currentUtterance);
            }

            function startReading() {
                const text = document.getElementById('texto').innerText;
                if (!text) return;

                // Detener cualquier lectura previa
                stop();

                // Preparar nueva lectura
                textBlocks = splitIntoBlocks(text);
                currentBlockIndex = 0;
                isReading = true;
                isPaused = false;

                updateButtons(true);
                updateProgress();
                speakBlock(currentBlockIndex);
            }

            function pause() {
                speechSynthesis.pause();
                isPaused = true;
                updateButtons(true);
            }

            function resume() {
                speechSynthesis.resume();
                isPaused = false;
                updateButtons(true);
            }

            function stop() {
                speechSynthesis.cancel();
                isReading = false;
                isPaused = false;
                currentBlockIndex = 0;
                updateButtons(false);
                updateProgress();
            }

            function pauseReading() {
                if (!isReading) return;

                speechSynthesis.pause();
                isPaused = true;
                isReading = false;
                updateButtons(true);
                updateProgress();
            }

            function resumeReading() {
                if (!isPaused) return;

                isPaused = false;
                isReading = true;

                // Si el utterance actual ya termin贸, comenzar con el siguiente bloque
                if (lastSpokenIndex === currentBlockIndex) {
                    currentBlockIndex++;
                }

                updateButtons(true);
                updateProgress();

                // Si hay un utterance pausado, resumirlo
                if (speechSynthesis.paused) {
                    speechSynthesis.resume();
                } else {
                    // Si no hay utterance pausado, comenzar desde el bloque actual
                    speakBlock(currentBlockIndex);
                }
            }

            function stopReading() {
                speechSynthesis.cancel();
                finishReading();
            }

            function finishReading() {
                isReading = false;
                isPaused = false;
                currentBlockIndex = 0;
                lastSpokenIndex = -1;
                currentUtterance = null;
                updateButtons(false);
                updateProgress();
            }

        </script>        

        <script>

            var elem = document.documentElement;
            var fullscreenButton = document.getElementById("fullscreenButton");
            var fullscreenIcon = document.getElementById("fullscreenIcon");

            fullscreenButton.addEventListener("click", function() {
            if (document.fullscreenElement || document.mozFullScreenElement || document.webkitFullscreenElement || document.msFullscreenElement) {
                if (document.exitFullscreen) {
                document.exitFullscreen();
                } else if (document.mozCancelFullScreen) { /* Firefox */
                document.mozCancelFullScreen();
                } else if (document.webkitExitFullscreen) { /* Chrome, Safari and Opera */
                document.webkitExitFullscreen();
                } else if (document.msExitFullscreen) { /* IE/Edge */
                document.msExitFullscreen();
                }
            } else {
                if (elem.requestFullscreen) {
                elem.requestFullscreen();
                } else if (elem.mozRequestFullScreen) { /* Firefox */
                elem.mozRequestFullScreen();
                } else if (elem.webkitRequestFullscreen) { /* Chrome, Safari and Opera */
                elem.webkitRequestFullscreen();
                } else if (elem.msRequestFullscreen) { /* IE/Edge */
                elem.msRequestFullscreen();
                }
            }
            });

            document.addEventListener('fullscreenchange', (event) => {
            if (!document.fullscreenElement) {
                fullscreenIcon.innerHTML = '<path d="M5 5h5v5H5zM14 5h5v5h-5zM5 14h5v5H5zM14 14h5v5h-5z"/>';
            } else {
                fullscreenIcon.innerHTML = '<path d="M7 14H5v5h5v-2H7v-3zm-2-4h2V7h3V5H5v5zm12 7h-3v2h5v-5h-2v3zM14 5v2h3v3h2V5h-5z"/>';
            }
            });
        </script>

    </body>
    </html>