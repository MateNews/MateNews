<!DOCTYPE html>
    <html lang="es">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>River arranc贸 muy bien y cerr贸 muy mal ante Palmeiras: adi贸s Libertadores. "Cuando baja el nivel de atenci贸n, lo pag谩s caro", dispar贸 Gallardo. </title>
        <style>
            body {
                max-width: 800px;
                margin: auto;
                padding: 5%;
            }
            .btnL {
                background: #d1d1d1;
                border-radius: 7px;
                padding: 18px;
                min-width: 100%;
                color: #000000;
                font-size: medium;
                min-height: 70px;
            }
            button {
                background-color: #d1d1d1;
                color: white;
                padding: 10px 20px;
                border: none;
                border-radius: 4px;
                cursor: pointer;
                margin: 5px;
            }
            button:disabled {
                background-color: #d1d1d1;
                cursor: not-available;
            }
            button:hover:not(:disabled) {
                background-color: #d1d1d1;
            }
            #voiceSelect {
                margin: 10px 0;
                padding: 5px;
            }
            .controls {
                margin: 10px 0;
            }

            #fullscreenButton {
                position: fixed;
                top: 20px;
                right: 20px;
                padding: 10px;
                background-color: transparent;
                border: none;
                cursor: pointer;
                border-radius: 5px;
            }

            #fullscreenIcon {
                width: 24px;
                height: 24px;
            }

        </style>
    </head>
    <body>
        <button id="fullscreenButton">
        <svg id="fullscreenIcon" viewBox="0 0 24 24" fill="currentColor">
            <path d="M5 5h5v5H5zM14 5h5v5h-5zM5 14h5v5H5zM14 14h5v5h-5z"/>
        </svg>
        </button>

        <div id="texto">
            <h1>River arranc贸 muy bien y cerr贸 muy mal ante Palmeiras: adi贸s Libertadores. "Cuando baja el nivel de atenci贸n, lo pag谩s caro", dispar贸 Gallardo. </h1>
            <p>"Cuando baja el nivel de atenci贸n, lo pag谩s caro", dispar贸 Gallardo</p><p>El equipo del Mu帽eco jug贸 una gran primera parte y ganaba con gol de Maxi Salas, pero en la segunda se complic贸. Vitor Roque puso el 1-1 r谩pidamente y, sobre el final, rein贸 el caos. El global fue contundente: 5 a 2.</p><p>El sue帽o de River dur贸 apenas un tiempo en Brasil. Fue derrota 3 a 1 ante Palmeiras y eliminaci贸n en cuartos de final de la Copa Libertadores. En semis, los paulistas esperan por el vencedor de Liga de Quito (2) y San Pablo, su cl谩sico rival, que jugar谩n la revancha este jueves en Brasil desde las 19.</p><p>"Cuando baja el nivel de atenci贸n, lo pag谩s caro", dispar贸 Marcelo Gallardo en la conferencia de prensa post partido, claramente ofuscado con c贸mo sus dirigidos cerraron el partido.</p><p>Teniendo en cuenta lo sucedido en el arranque del partido de ida, con Palmeiras arrollando a River, el Mu帽eco opt贸 por un planteo un tanto conservador para salir a jugarle en San Pablo, con Maxi Salas como solitario delantero y un mediocampo muy poblado para entorpecer los circuitos de juego de los brasile帽os. Y la cosa le funcion贸 al DT durante toda la primera parte, potenciado acaso por el gol tempranero del propio Salas, de cabeza tras un centro de c贸rner a los 8 minutos.</p><p>Del otro lado, aunque Palmeiras jug贸 unos 45 minutos iniciales muy malos, Franco Armani tuvo tarea y salv贸 a los suyos con un par de atajadas dignas de su excelente carrera.</p><p>A River no le sobraron ocasiones de gol -la m谩s clara la tuvo el colombiano Casta帽o, quien se quiso pasar al arquero en lugar de definir-, pero parec铆a tener controlada la historia ante un localincomodado t谩cticamente. Incluso la salida por lesi贸n de Portillo y el ingreso de Enzo P茅rez a los 25 minutos, no modificaron la t贸nica de las acciones.</p><p>En la segunda parte todo cambi贸. Armani dej贸 de ser el uno invencible de los mejores River y dio un rebote complicado ante un cabezazo de Vitor Roque, capitalizado por el propio delantero, quien de todos modos apareci贸 muy solo dentro del 谩rea en un centro de c贸rner.</p><p>De nuevo arriba en el global (3 a 2 ) a los 51 minutos, Palmeiras pareci贸 tranquilizarle y tomar control de las acciones. Gallardo empez贸 a mover el banco a los 60, con las salidas de Juanfer Quintero y Nacho Fern谩ndez, de discreta actuaci贸n ambos, por Colidio y el pibe Lencina. Pero reci茅n con el ingreso de Borja a los 70 (por Galoppo), el Millonario pudo preocupar a Weverton. El colombiano, de buen ingreso, se ingeni贸 un remate que oblig贸 a una respuesta estupenda del arquero local.</p><p>Los minutos finales encontraron a un River desconcentrado, contrariamente al buen partido que ven铆a haciendo.A los 86, nadie presion贸 un tiro libre que sali贸 casi desde el 谩rea de Palmeiras -Salas qued贸 en la foto pero casi todos estaban dados vuelta- y el uruguayo Torres se fue solo contra Armani. Acu帽a tuvo que derribarlo dentro del 谩rea: penal y expulsi贸n para el zurdo, que se hab铆a salvado antes de la roja luego de empujar a un rival e intentar darle un cabezazo a un suplente de Palmeiras. El exLan煤s Jos茅 L贸pez lo canje贸 por gol a los 91 y, como si fuera poco, tres minutos despu茅s se arm贸 un muy lindo tanto para dejar el resultado global en goleada y maquillar su actuaci贸n individual, hasta entonces muy baja.</p><p>"Bronca, bronca. Porque se nos escapa un partido que pudimos pasar a ganarlo r谩pidamente. Creo que jugamos un buen partido. Despu茅s, bueno, nos empatan pero as铆 todo est谩bamos en partido. Tuvimos algunas ocasiones. No me gust贸 lo que pas贸 en los 煤ltimos cinco minutos de partido, donde est谩bamos en juego. Hay desconcentraciones que se pagan caro", se lament贸 Gallardo.</p><p></p><p></p>
        </div>
        <br><br><br>
            <div style="display: none;">
                <label for="voiceSelect">Seleccionar voz:</label>
                <select id="voiceSelect"></select>
            </div>
            <div class="controls">
                <button onclick="startReading()" id="playButton">
                     Leer
                </button>
                <button onclick="pauseReading()" id="pauseButton" disabled style="display: none;">
                    革 Pausar
                </button>
                <button onclick="resumeReading()" id="resumeButton" disabled style="display: none;">
                    讹 Continuar
                </button>
                <button onclick="stopReading()" id="stopButton" disabled>
                    癸 Detener
                </button>
            </div>
            <div id="progress" style="display: none;"></div>
        <br><br><br>
        <button class="btnL" onclick="compartir()">Compartir</button>
        <br><br><br>
        <button class="btnL" onclick="window.location.href='https://www.pagina12.com.ar/860592-river-arranco-muy-bien-y-cerro-muy-mal-ante-palmeiras-y-adio'">Ver en web original</button>
        <br><br><br>
        <!-- <button class="btnL" onclick="window.location.href='https://matenews.github.io/MateNews/'">Volver a la p谩gina principal</button>
        <br><br><br> -->


        <script>
            function compartir() {
            if (navigator.share) {
                navigator.share({
                title: 'River arranc贸 muy bien y cerr贸 muy mal ante Palmeiras: adi贸s Libertadores. "Cuando baja el nivel de atenci贸n, lo pag谩s caro", dispar贸 Gallardo. ', // Opcional, pero recomendado     
                text: 'River arranc贸 muy bien y cerr贸 muy mal ante Palmeiras: adi贸s Libertadores. "Cuando baja el nivel de atenci贸n, lo pag谩s caro", dispar贸 Gallardo. ',  // Opcional
                url: 'https://www.pagina12.com.ar/860592-river-arranco-muy-bien-y-cerro-muy-mal-ante-palmeiras-y-adio'
                })
                .then(() => console.log('Contenido compartido exitosamente'))
                .catch((error) => console.error('Error al compartir:', error));
            } else {
                // C贸digo alternativo si la API Web Share no est谩 disponible
                console.log("Web Share API no soportada");
                // Puedes usar aqu铆 la opci贸n 2 (botones personalizados con JavaScript) de mi respuesta anterior
            }
            }
        </script>


        <script>
            let speechSynthesis = window.speechSynthesis;
            let currentUtterance = null;
            let isPaused = false;
            let isReading = false;
            let textBlocks = [];
            let currentBlockIndex = 0;
            let lastSpokenIndex = 0;
            const BLOCK_SIZE = 800;

            function updateButtons(speaking) {
                document.getElementById('playButton').disabled = speaking;
                document.getElementById('pauseButton').disabled = !speaking;
                document.getElementById('resumeButton').disabled = !isPaused;
                document.getElementById('stopButton').disabled = !speaking;
            }

            function updateProgress() {
                const progressDiv = document.getElementById('progress');
                if (isReading) {
                    progressDiv.textContent = `Leyendo bloque ${currentBlockIndex + 1} de ${textBlocks.length}`;
                } else {
                    progressDiv.textContent = '';
                }
            }

            function splitIntoBlocks(text) {
                // Dividir el texto en oraciones usando puntuaci贸n com煤n
                const sentences = text.replace(/([.!?])\s+/g, "$1|").split("|");

                let blocks = [];
                let currentBlock = '';

                sentences.forEach(sentence => {
                    // Si la oraci贸n es muy larga, dividirla en la coma m谩s cercana al BLOCK_SIZE
                    if (sentence.length > BLOCK_SIZE) {
                        let subSentences = sentence.replace(/,\s+/g, ",|").split("|");
                        subSentences.forEach(subSentence => {
                            if (currentBlock.length + subSentence.length > BLOCK_SIZE) {
                                if (currentBlock) blocks.push(currentBlock.trim());
                                currentBlock = subSentence;
                            } else {
                                currentBlock += (currentBlock ? ' ' : '') + subSentence;
                            }
                        });
                    } else {
                        if (currentBlock.length + sentence.length > BLOCK_SIZE) {
                            blocks.push(currentBlock.trim());
                            currentBlock = sentence;
                        } else {
                            currentBlock += (currentBlock ? ' ' : '') + sentence;
                        }
                    }
                });

                if (currentBlock) blocks.push(currentBlock.trim());
                return blocks;
            }

            function speakBlock(index) {
                if (index >= textBlocks.length) {
                    isReading = false;
                    updateButtons(false);
                    updateProgress();
                    return;
                }

                currentUtterance = new SpeechSynthesisUtterance(textBlocks[index]);
                currentUtterance.rate = parseFloat(1.3);
                lastSpokenIndex = index;


                currentUtterance.onend = function() {
                    if (isReading && !isPaused) {
                        currentBlockIndex++;
                        updateProgress();
                        speakBlock(currentBlockIndex);
                    }
                };

                currentUtterance.onerror = function(event) {
                    console.error('Error en la lectura:', event);
                    isReading = false;
                    updateButtons(false);
                    updateProgress();
                };

                speechSynthesis.speak(currentUtterance);
            }

            function startReading() {
                const text = document.getElementById('texto').innerText;
                if (!text) return;

                // Detener cualquier lectura previa
                stop();

                // Preparar nueva lectura
                textBlocks = splitIntoBlocks(text);
                currentBlockIndex = 0;
                isReading = true;
                isPaused = false;

                updateButtons(true);
                updateProgress();
                speakBlock(currentBlockIndex);
            }

            function pause() {
                speechSynthesis.pause();
                isPaused = true;
                updateButtons(true);
            }

            function resume() {
                speechSynthesis.resume();
                isPaused = false;
                updateButtons(true);
            }

            function stop() {
                speechSynthesis.cancel();
                isReading = false;
                isPaused = false;
                currentBlockIndex = 0;
                updateButtons(false);
                updateProgress();
            }

            function pauseReading() {
                if (!isReading) return;

                speechSynthesis.pause();
                isPaused = true;
                isReading = false;
                updateButtons(true);
                updateProgress();
            }

            function resumeReading() {
                if (!isPaused) return;

                isPaused = false;
                isReading = true;

                // Si el utterance actual ya termin贸, comenzar con el siguiente bloque
                if (lastSpokenIndex === currentBlockIndex) {
                    currentBlockIndex++;
                }

                updateButtons(true);
                updateProgress();

                // Si hay un utterance pausado, resumirlo
                if (speechSynthesis.paused) {
                    speechSynthesis.resume();
                } else {
                    // Si no hay utterance pausado, comenzar desde el bloque actual
                    speakBlock(currentBlockIndex);
                }
            }

            function stopReading() {
                speechSynthesis.cancel();
                finishReading();
            }

            function finishReading() {
                isReading = false;
                isPaused = false;
                currentBlockIndex = 0;
                lastSpokenIndex = -1;
                currentUtterance = null;
                updateButtons(false);
                updateProgress();
            }

        </script>        

        <script>

            var elem = document.documentElement;
            var fullscreenButton = document.getElementById("fullscreenButton");
            var fullscreenIcon = document.getElementById("fullscreenIcon");

            fullscreenButton.addEventListener("click", function() {
            if (document.fullscreenElement || document.mozFullScreenElement || document.webkitFullscreenElement || document.msFullscreenElement) {
                if (document.exitFullscreen) {
                document.exitFullscreen();
                } else if (document.mozCancelFullScreen) { /* Firefox */
                document.mozCancelFullScreen();
                } else if (document.webkitExitFullscreen) { /* Chrome, Safari and Opera */
                document.webkitExitFullscreen();
                } else if (document.msExitFullscreen) { /* IE/Edge */
                document.msExitFullscreen();
                }
            } else {
                if (elem.requestFullscreen) {
                elem.requestFullscreen();
                } else if (elem.mozRequestFullScreen) { /* Firefox */
                elem.mozRequestFullScreen();
                } else if (elem.webkitRequestFullscreen) { /* Chrome, Safari and Opera */
                elem.webkitRequestFullscreen();
                } else if (elem.msRequestFullscreen) { /* IE/Edge */
                elem.msRequestFullscreen();
                }
            }
            });

            document.addEventListener('fullscreenchange', (event) => {
            if (!document.fullscreenElement) {
                fullscreenIcon.innerHTML = '<path d="M5 5h5v5H5zM14 5h5v5h-5zM5 14h5v5H5zM14 14h5v5h-5z"/>';
            } else {
                fullscreenIcon.innerHTML = '<path d="M7 14H5v5h5v-2H7v-3zm-2-4h2V7h3V5H5v5zm12 7h-3v2h5v-5h-2v3zM14 5v2h3v3h2V5h-5z"/>';
            }
            });
        </script>

    </body>
    </html>