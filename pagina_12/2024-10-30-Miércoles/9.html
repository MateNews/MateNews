
    <!DOCTYPE html>
    <html lang="es">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>River no tuvo su noche gloriosa y se despidió de la Copa. Empató sin goles ante Atlético Mineiro de Brasil. </title>
        <style>
            body {
                max-width: 800px;
                margin: auto;
                padding: 5%;
            }
            .btnL {
                background: #d1d1d1;
                border-radius: 7px;
                padding: 18px;
                min-width: 100%;
                color: #000000;
                font-size: medium;
                min-height: 70px;
            }

            button {
                background-color: #d1d1d1;
                color: white;
                padding: 10px 20px;
                border: none;
                border-radius: 4px;
                cursor: pointer;
                margin: 5px;
            }
            button:disabled {
                background-color: #d1d1d1;
                cursor: not-available;
            }
            button:hover:not(:disabled) {
                background-color: #d1d1d1;
            }
            #voiceSelect {
                margin: 10px 0;
                padding: 5px;
            }
            .controls {
                margin: 10px 0;
            }


        </style>
    </head>
    <body>
        <div id="texto">
            <h1>River no tuvo su noche gloriosa y se despidió de la Copa. Empató sin goles ante Atlético Mineiro de Brasil. </h1>
            <p>El local empató sin goles ante Atlético Mineiro de Brasil. La falta de juego asociado en la zona de ataque volvió a ser el déficit del equipo de Gallardo, que tuvo insistencia pero no pudo convertir ni un gol.. La urgencia que tenía River para revertir la desventaja de tres goles, hizo que iniciara el partido con la ansiedad lógica de ir en busca del arco rival. El empuje de la gente también era otro factor que se hacía notar desde afuera, y el nerviosismo se apoderó rápidamente de todo el estadio.</p><p>La aceleración por lanzarse al ataque provocó que muchas veces la pelota no tuviera el destino elegido, y la claridad no aparecía en el conjunto local. Los desbordes por afuera y el lanzamiento de la pelota al área era la fórmula de River. Borja, en esa vorágine, cabeceó dos veces con peligro.</p><p>El fútbol que necesitaba River no aparecía, y el apuro hacía que las acciones simples no pudieran plasmarse. Kranevitter, luego de que la pelota quedara en el borde del área, remató pero con poca dirección.</p><p>Mineiro se mantenía expectante, y cuando lograba recuperar la pelota la trasladaba con más precisión, aunque no tenía profundidad para inquietar al arquero. Los brasileños aprovechaban también para dejar pasar los minutos ante cada situación, y por ello Everson recibió la tarjeta amarilla a los 27.</p><p>El problema que tenía River era la falta de un jugador con capacidad para armar jugadas en ofensiva. Meza y Simón no se concectaban en el mediocampo, Solari y Colidio se retrasaban para tener contacto con la pelota, pero ninguno de los cuatro organizaba el juego colectivo. Los avances desembocaban en lanzar la pelota al área para encontrar a alguien que pudiera conectar con la cabeza.</p><p>Los espacios empezaron a aparecer para Mineiro, cuando River perdía la pelota en el campo rival. Kranevitter era el que se posicionaba como relevo, pero en algunas ocasiones falló y Armani tuvo que aparecer para evitar la caída. La tensión iba en aumento, y la gente exigía más entrega de los futbolistas. Inclusive, se los vio a Kranevitter y Borja discutir en la mitad de la cancha.</p><p>La incertidumbre creció más en el segundo tiempo: Scarpa hizo estrellar la pelota en el travesaño, cuando apenas se jugaban dos minutos. River no había modificado nada de lo hecho en la primera parte, y el desarrollo era el mismo.</p><p>Gallardo se dio cuenta y realizó tres cambios juntos: Echeverri, Mastantuono y Villagra ingresaron para tratar de revertir la situación. El primero, en una intervención seria, tuvo una gran chance, pero el arquero tapó su remate.</p><p>El tiempo transcurría y River no encontraba los caminos para acercarse en el marcador. Everson respondió bien ante un remate de media distancia de Echeverri, y Armani también ante una llegada de Mineiro por la izquierda. Pero la impotencia del local era contra su propio rendimiento.</p><p>River insistió, buscó y asedió a Mineiro la mayor parte del encuentro, pero la lucidez futbolística no la tuvo. El que recibió una pequeña ovación y mostró voluntad para desequilibrar fue Gonzalo Martínez, quien podrá ser una renovación para el equipo en el futuro.</p><p>Las luces que volvieron a aparecer en el final desde las tribunas, no tuvieron la misma repercusión dentro del campo de juego. La Copa Libertadores quedó atrás para equipo de Gallardo, y no podrá ser parte del encuentro decisivo que se jugará en su propia cancha.</p><p>[email protected]</p><p></p><p></p>
        </div>
        <br><br><br>
            <div style="display: none;">
                <label for="voiceSelect">Seleccionar voz:</label>
                <select id="voiceSelect"></select>
            </div>
            <div class="controls">
                <button onclick="startReading()" id="playButton">
                    🔊 Leer
                </button>
                <button onclick="pauseReading()" id="pauseButton" disabled style="display: none;">
                    ⏸️ Pausar
                </button>
                <button onclick="resumeReading()" id="resumeButton" disabled style="display: none;">
                    ▶️ Continuar
                </button>
                <button onclick="stopReading()" id="stopButton" disabled>
                    ⏹️ Detener
                </button>
            </div>
            <div id="progress" style="display: none;"></div>
        <br><br><br>
        <button class="btnL" onclick="compartir()">Compartir</button>
        <br><br><br>
        <button class="btnL" onclick="window.location.href='https://www.pagina12.com.ar/778694-river-no-tuvo-su-noche-gloriosa-y-se-despidio-de-la-copa-lib'">Ver en web original</button>
        <br><br><br>
        <button class="btnL" onclick="window.location.href='https://matenews.github.io/MateNews/'">Volver a la página principal</button>
        <br><br><br>


        <script>
            function compartir() {
            if (navigator.share) {
                navigator.share({
                title: 'River no tuvo su noche gloriosa y se despidió de la Copa. Empató sin goles ante Atlético Mineiro de Brasil. ', // Opcional, pero recomendado
                text: 'River no tuvo su noche gloriosa y se despidió de la Copa. Empató sin goles ante Atlético Mineiro de Brasil. ',  // Opcional
                url: 'https://www.pagina12.com.ar/778694-river-no-tuvo-su-noche-gloriosa-y-se-despidio-de-la-copa-lib'
                })
                .then(() => console.log('Contenido compartido exitosamente'))
                .catch((error) => console.error('Error al compartir:', error));
            } else {
                // Código alternativo si la API Web Share no está disponible
                console.log("Web Share API no soportada");
                // Puedes usar aquí la opción 2 (botones personalizados con JavaScript) de mi respuesta anterior
            }
            }
        </script>


          <script>
            let speechSynthesis = window.speechSynthesis;
            let currentUtterance = null;
            let isPaused = false;
            let isReading = false;
            let textBlocks = [];
            let currentBlockIndex = 0;
            let lastSpokenIndex = 0;
            const BLOCK_SIZE = 800;

            function updateButtons(speaking) {
                document.getElementById('playButton').disabled = speaking;
                document.getElementById('pauseButton').disabled = !speaking;
                document.getElementById('resumeButton').disabled = !isPaused;
                document.getElementById('stopButton').disabled = !speaking;
            }

            function updateProgress() {
                const progressDiv = document.getElementById('progress');
                if (isReading) {
                    progressDiv.textContent = `Leyendo bloque ${currentBlockIndex + 1} de ${textBlocks.length}`;
                } else {
                    progressDiv.textContent = '';
                }
            }

            function splitIntoBlocks(text) {
                // Dividir el texto en oraciones usando puntuación común
                const sentences = text.replace(/([.!?])\s+/g, "$1|").split("|");

                let blocks = [];
                let currentBlock = '';

                sentences.forEach(sentence => {
                    // Si la oración es muy larga, dividirla en la coma más cercana al BLOCK_SIZE
                    if (sentence.length > BLOCK_SIZE) {
                        let subSentences = sentence.replace(/,\s+/g, ",|").split("|");
                        subSentences.forEach(subSentence => {
                            if (currentBlock.length + subSentence.length > BLOCK_SIZE) {
                                if (currentBlock) blocks.push(currentBlock.trim());
                                currentBlock = subSentence;
                            } else {
                                currentBlock += (currentBlock ? ' ' : '') + subSentence;
                            }
                        });
                    } else {
                        if (currentBlock.length + sentence.length > BLOCK_SIZE) {
                            blocks.push(currentBlock.trim());
                            currentBlock = sentence;
                        } else {
                            currentBlock += (currentBlock ? ' ' : '') + sentence;
                        }
                    }
                });

                if (currentBlock) blocks.push(currentBlock.trim());
                return blocks;
            }

            function speakBlock(index) {
                if (index >= textBlocks.length) {
                    isReading = false;
                    updateButtons(false);
                    updateProgress();
                    return;
                }

                currentUtterance = new SpeechSynthesisUtterance(textBlocks[index]);
                currentUtterance.rate = parseFloat(1.3);
                lastSpokenIndex = index;


                currentUtterance.onend = function() {
                    if (isReading && !isPaused) {
                        currentBlockIndex++;
                        updateProgress();
                        speakBlock(currentBlockIndex);
                    }
                };

                currentUtterance.onerror = function(event) {
                    console.error('Error en la lectura:', event);
                    isReading = false;
                    updateButtons(false);
                    updateProgress();
                };

                speechSynthesis.speak(currentUtterance);
            }

            function startReading() {
                const text = document.getElementById('texto').innerText;
                if (!text) return;

                // Detener cualquier lectura previa
                stop();

                // Preparar nueva lectura
                textBlocks = splitIntoBlocks(text);
                currentBlockIndex = 0;
                isReading = true;
                isPaused = false;

                updateButtons(true);
                updateProgress();
                speakBlock(currentBlockIndex);
            }

            function pause() {
                speechSynthesis.pause();
                isPaused = true;
                updateButtons(true);
            }

            function resume() {
                speechSynthesis.resume();
                isPaused = false;
                updateButtons(true);
            }

            function stop() {
                speechSynthesis.cancel();
                isReading = false;
                isPaused = false;
                currentBlockIndex = 0;
                updateButtons(false);
                updateProgress();
            }

            function pauseReading() {
                if (!isReading) return;

                speechSynthesis.pause();
                isPaused = true;
                isReading = false;
                updateButtons(true);
                updateProgress();
            }

            function resumeReading() {
                if (!isPaused) return;

                isPaused = false;
                isReading = true;

                // Si el utterance actual ya terminó, comenzar con el siguiente bloque
                if (lastSpokenIndex === currentBlockIndex) {
                    currentBlockIndex++;
                }

                updateButtons(true);
                updateProgress();

                // Si hay un utterance pausado, resumirlo
                if (speechSynthesis.paused) {
                    speechSynthesis.resume();
                } else {
                    // Si no hay utterance pausado, comenzar desde el bloque actual
                    speakBlock(currentBlockIndex);
                }
            }

            function stopReading() {
                speechSynthesis.cancel();
                finishReading();
            }

            function finishReading() {
                isReading = false;
                isPaused = false;
                currentBlockIndex = 0;
                lastSpokenIndex = -1;
                currentUtterance = null;
                updateButtons(false);
                updateProgress();
            }

        </script>

    </body>
    </html>
    