<!DOCTYPE html>
    <html lang="es">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>El uno por uno de Argentina. Lionel Messi tuvo una despedida oficial a puro lujo. </title>
        <style>
            body {
                max-width: 800px;
                margin: auto;
                padding: 5%;
            }
            .btnL {
                background: #d1d1d1;
                border-radius: 7px;
                padding: 18px;
                min-width: 100%;
                color: #000000;
                font-size: medium;
                min-height: 70px;
            }
            button {
                background-color: #d1d1d1;
                color: white;
                padding: 10px 20px;
                border: none;
                border-radius: 4px;
                cursor: pointer;
                margin: 5px;
            }
            button:disabled {
                background-color: #d1d1d1;
                cursor: not-available;
            }
            button:hover:not(:disabled) {
                background-color: #d1d1d1;
            }
            #voiceSelect {
                margin: 10px 0;
                padding: 5px;
            }
            .controls {
                margin: 10px 0;
            }

            #fullscreenButton {
                position: fixed;
                top: 20px;
                right: 20px;
                padding: 10px;
                background-color: transparent;
                border: none;
                cursor: pointer;
                border-radius: 5px;
            }

            #fullscreenIcon {
                width: 24px;
                height: 24px;
            }

        </style>
    </head>
    <body>
        <button id="fullscreenButton">
        <svg id="fullscreenIcon" viewBox="0 0 24 24" fill="currentColor">
            <path d="M5 5h5v5H5zM14 5h5v5h-5zM5 14h5v5H5zM14 14h5v5h-5z"/>
        </svg>
        </button>

        <div id="texto">
            <h1>El uno por uno de Argentina. Lionel Messi tuvo una despedida oficial a puro lujo. </h1>
            <p>El rosarino Lionel Messi tuvo una despedida oficial a puro lujo</p><p>El capitán del seleccionado apareció con dos goles y todo su repertorio para golear a Venezuela en la penúltima fecha de las eliminatorias.</p><p>E. Martínez (7): con poca actividad en la primera parte, ya que Venezuela no tuvo tiros francos al arco. La participación volvió a ser escasa en el complemento, por el poco poder ofensivo que ofreció Venezuela. No se complicó cuando tuvo que participar con los pies, y ordenó en varias ocasiones a los defensores con sus indicaciones.</p><p>Molina (6): se mostró contenido en los primeros instantes, debido a que Venezuela presentó cinco hombres en la última línea, para evitar precisamente la subida de los laterales locales. Cuando se decidió a ser más profundo, llegó hasta el fondo en los primeros minutos del segundo tiempo, y un pase suyo al medio no pudo ser interceptado por nadie por el centro del ataque.</p><p>Romero (8): con firmeza y seguridad, como de costumbre, no le dejó espacios a Rondón para que pueda girar y quedar de frente al arco. Lo siguió por todo el frente de ataque y prevaleció en la mayoría de los duelos. El ingreso de Joseph Martínez tampoco fue una complicación, y lo mantuvo controlado cundo estuvo del medio hacia la derecha.</p><p>Otamendi (8): fue cauteloso y no se adelantó para cortar las jugadas de Venezuela en la mitad de la cancha. Le tocó seguir a Savarino y lo controló sin inconvenientes. Se complementa cada vez mejor con su compañero de zaga, y la experiencia le permite tener el mando en ese sector de la cancha.</p><p>Tagliafico (7): protagonizó la segunda chance para que Argentina se ponga en ventaja, pero la pelota fue rechazada por el arquero. A diferencia de Molina, buscó con mayor frecuencia filtrarse por su sector para aparecer por sorpresa.</p><p>De Paul (8): el despliegue habitual del medio hacia la derecha, exhibiendo sacrificio para aparecer en la zona de ataque, y también más retrasado para contribuir en la recuperación de la pelota.</p><p>Paredes (9): uno de los mejores de Argentina. Al igual que lo hace en Boca, se fue adueñando de la zona media y desde ahí se convirtio en un asistidor preciso. Se afirmó como el líder del mediocampo, y acomodó al resto de sus compañeros desde ese lugar. El inició la jugada del primer gol de Messi, con una gran habilitación a Julián Alvarez.</p><p>Almada (7): comenzó el partido sobre la izquierda, demasiado cerca de la línea lateral, y eso le quitó poder de influencia. El exVélez estuvo más activo en el segundo tiempo, cuando el conjunto local trasladó el juego sobre la izquierda. La aparición de Nicolás González lo obligó a pasar a jugar por la derecha, y con una aparición suya por esa zona le cedió la pelota a Messi para que marcara el tercer gol.</p><p>Mastantuono (6): jugó por primera vez como titular, el mismo día que Messi se despidió oficialmente en el país. El volante se desplazó sobre la derecha y tuvo poca gravitación en ofensiva. Las combinaciones con Almada no aparecieron, y Argentina sintió la falta de elaboración cerca del área rival.</p><p>Messi (10): la emoción en su rostro fue evidente, inclusive desde el momento de los himnos, en el cual fue acompañado por sus tres hijos. Los venezolanos lo rodearon con acierto para que no pueda encarar en velocidad. Sin embargo, cuando sus marcadores se descuidaron apareció por el centro para marcar un gol, el 113 en el seleccionado, con un toque suave ante la salida del arquero. La noche la completó con otro gol en los últimos diez minutos, y que su despedia oficial sea estelar.</p><p>J. Alvarez (7): tuvo la primera opción para convertir a los tres minutos, y Romo reaccionó a tiempo para sacar la pelota por arriba. El delantero apareció a toda velocidad por la derecha, cerca del final del primer tiempo, para enganchar y cederle la pelota a Messi, quien se encargó de definir a pura categoría.</p><p>N. González: ingresó por Mastantuono y fue directamente a jugar sobre la izquierda, cambiando su lugar con Almada. Tuvo una oportunidad clara para aumentar la ventaja, pero su remate de zurda fue al cuerpo del arquero. Un desborde de él sobre la izquierda desembocó en el segundo gol convertido por Lautaro Martínez.</p><p>Palacios: se instaló en el centro de la línea media, y desde allí trató de imitar a una de las figura de cancha, Leandro Paredes.</p><p>L. Martínez: el primer contacto que tuvo con la pelota terminó en el segundo gol. Se lanzó en el área chica para cabecear la pelota enviada por Nicolás González.</p><p>Simeone: ingresó en los últimos instantes y se movió del centro hacia la derecha del ataque.</p><p>Paz: la función de enlace es la que mejor le ocupa. Se asoció en algunas ocasiones con Messi para que Argentina avanzara en el campo.</p><p></p>
        </div>
        <br><br><br>
            <div style="display: none;">
                <label for="voiceSelect">Seleccionar voz:</label>
                <select id="voiceSelect"></select>
            </div>
            <div class="controls">
                <button onclick="startReading()" id="playButton">
                    🔊 Leer
                </button>
                <button onclick="pauseReading()" id="pauseButton" disabled style="display: none;">
                    ⏸️ Pausar
                </button>
                <button onclick="resumeReading()" id="resumeButton" disabled style="display: none;">
                    ▶️ Continuar
                </button>
                <button onclick="stopReading()" id="stopButton" disabled>
                    ⏹️ Detener
                </button>
            </div>
            <div id="progress" style="display: none;"></div>
        <br><br><br>
        <button class="btnL" onclick="compartir()">Compartir</button>
        <br><br><br>
        <button class="btnL" onclick="window.location.href='https://www.pagina12.com.ar/855199-el-uno-por-uno-de-argentina'">Ver en web original</button>
        <br><br><br>
        <!-- <button class="btnL" onclick="window.location.href='https://matenews.github.io/MateNews/'">Volver a la página principal</button>
        <br><br><br> -->


        <script>
            function compartir() {
            if (navigator.share) {
                navigator.share({
                title: 'El uno por uno de Argentina. Lionel Messi tuvo una despedida oficial a puro lujo. ', // Opcional, pero recomendado     
                text: 'El uno por uno de Argentina. Lionel Messi tuvo una despedida oficial a puro lujo. ',  // Opcional
                url: 'https://www.pagina12.com.ar/855199-el-uno-por-uno-de-argentina'
                })
                .then(() => console.log('Contenido compartido exitosamente'))
                .catch((error) => console.error('Error al compartir:', error));
            } else {
                // Código alternativo si la API Web Share no está disponible
                console.log("Web Share API no soportada");
                // Puedes usar aquí la opción 2 (botones personalizados con JavaScript) de mi respuesta anterior
            }
            }
        </script>


        <script>
            let speechSynthesis = window.speechSynthesis;
            let currentUtterance = null;
            let isPaused = false;
            let isReading = false;
            let textBlocks = [];
            let currentBlockIndex = 0;
            let lastSpokenIndex = 0;
            const BLOCK_SIZE = 800;

            function updateButtons(speaking) {
                document.getElementById('playButton').disabled = speaking;
                document.getElementById('pauseButton').disabled = !speaking;
                document.getElementById('resumeButton').disabled = !isPaused;
                document.getElementById('stopButton').disabled = !speaking;
            }

            function updateProgress() {
                const progressDiv = document.getElementById('progress');
                if (isReading) {
                    progressDiv.textContent = `Leyendo bloque ${currentBlockIndex + 1} de ${textBlocks.length}`;
                } else {
                    progressDiv.textContent = '';
                }
            }

            function splitIntoBlocks(text) {
                // Dividir el texto en oraciones usando puntuación común
                const sentences = text.replace(/([.!?])\s+/g, "$1|").split("|");

                let blocks = [];
                let currentBlock = '';

                sentences.forEach(sentence => {
                    // Si la oración es muy larga, dividirla en la coma más cercana al BLOCK_SIZE
                    if (sentence.length > BLOCK_SIZE) {
                        let subSentences = sentence.replace(/,\s+/g, ",|").split("|");
                        subSentences.forEach(subSentence => {
                            if (currentBlock.length + subSentence.length > BLOCK_SIZE) {
                                if (currentBlock) blocks.push(currentBlock.trim());
                                currentBlock = subSentence;
                            } else {
                                currentBlock += (currentBlock ? ' ' : '') + subSentence;
                            }
                        });
                    } else {
                        if (currentBlock.length + sentence.length > BLOCK_SIZE) {
                            blocks.push(currentBlock.trim());
                            currentBlock = sentence;
                        } else {
                            currentBlock += (currentBlock ? ' ' : '') + sentence;
                        }
                    }
                });

                if (currentBlock) blocks.push(currentBlock.trim());
                return blocks;
            }

            function speakBlock(index) {
                if (index >= textBlocks.length) {
                    isReading = false;
                    updateButtons(false);
                    updateProgress();
                    return;
                }

                currentUtterance = new SpeechSynthesisUtterance(textBlocks[index]);
                currentUtterance.rate = parseFloat(1.3);
                lastSpokenIndex = index;


                currentUtterance.onend = function() {
                    if (isReading && !isPaused) {
                        currentBlockIndex++;
                        updateProgress();
                        speakBlock(currentBlockIndex);
                    }
                };

                currentUtterance.onerror = function(event) {
                    console.error('Error en la lectura:', event);
                    isReading = false;
                    updateButtons(false);
                    updateProgress();
                };

                speechSynthesis.speak(currentUtterance);
            }

            function startReading() {
                const text = document.getElementById('texto').innerText;
                if (!text) return;

                // Detener cualquier lectura previa
                stop();

                // Preparar nueva lectura
                textBlocks = splitIntoBlocks(text);
                currentBlockIndex = 0;
                isReading = true;
                isPaused = false;

                updateButtons(true);
                updateProgress();
                speakBlock(currentBlockIndex);
            }

            function pause() {
                speechSynthesis.pause();
                isPaused = true;
                updateButtons(true);
            }

            function resume() {
                speechSynthesis.resume();
                isPaused = false;
                updateButtons(true);
            }

            function stop() {
                speechSynthesis.cancel();
                isReading = false;
                isPaused = false;
                currentBlockIndex = 0;
                updateButtons(false);
                updateProgress();
            }

            function pauseReading() {
                if (!isReading) return;

                speechSynthesis.pause();
                isPaused = true;
                isReading = false;
                updateButtons(true);
                updateProgress();
            }

            function resumeReading() {
                if (!isPaused) return;

                isPaused = false;
                isReading = true;

                // Si el utterance actual ya terminó, comenzar con el siguiente bloque
                if (lastSpokenIndex === currentBlockIndex) {
                    currentBlockIndex++;
                }

                updateButtons(true);
                updateProgress();

                // Si hay un utterance pausado, resumirlo
                if (speechSynthesis.paused) {
                    speechSynthesis.resume();
                } else {
                    // Si no hay utterance pausado, comenzar desde el bloque actual
                    speakBlock(currentBlockIndex);
                }
            }

            function stopReading() {
                speechSynthesis.cancel();
                finishReading();
            }

            function finishReading() {
                isReading = false;
                isPaused = false;
                currentBlockIndex = 0;
                lastSpokenIndex = -1;
                currentUtterance = null;
                updateButtons(false);
                updateProgress();
            }

        </script>        

        <script>

            var elem = document.documentElement;
            var fullscreenButton = document.getElementById("fullscreenButton");
            var fullscreenIcon = document.getElementById("fullscreenIcon");

            fullscreenButton.addEventListener("click", function() {
            if (document.fullscreenElement || document.mozFullScreenElement || document.webkitFullscreenElement || document.msFullscreenElement) {
                if (document.exitFullscreen) {
                document.exitFullscreen();
                } else if (document.mozCancelFullScreen) { /* Firefox */
                document.mozCancelFullScreen();
                } else if (document.webkitExitFullscreen) { /* Chrome, Safari and Opera */
                document.webkitExitFullscreen();
                } else if (document.msExitFullscreen) { /* IE/Edge */
                document.msExitFullscreen();
                }
            } else {
                if (elem.requestFullscreen) {
                elem.requestFullscreen();
                } else if (elem.mozRequestFullScreen) { /* Firefox */
                elem.mozRequestFullScreen();
                } else if (elem.webkitRequestFullscreen) { /* Chrome, Safari and Opera */
                elem.webkitRequestFullscreen();
                } else if (elem.msRequestFullscreen) { /* IE/Edge */
                elem.msRequestFullscreen();
                }
            }
            });

            document.addEventListener('fullscreenchange', (event) => {
            if (!document.fullscreenElement) {
                fullscreenIcon.innerHTML = '<path d="M5 5h5v5H5zM14 5h5v5h-5zM5 14h5v5H5zM14 14h5v5h-5z"/>';
            } else {
                fullscreenIcon.innerHTML = '<path d="M7 14H5v5h5v-2H7v-3zm-2-4h2V7h3V5H5v5zm12 7h-3v2h5v-5h-2v3zM14 5v2h3v3h2V5h-5z"/>';
            }
            });
        </script>

    </body>
    </html>