<!DOCTYPE html>
    <html lang="es">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>El uno por uno de Argentina. Lionel Messi tuvo una despedida oficial a puro lujo. </title>
        <style>
            body {
                max-width: 800px;
                margin: auto;
                padding: 5%;
            }
            .btnL {
                background: #d1d1d1;
                border-radius: 7px;
                padding: 18px;
                min-width: 100%;
                color: #000000;
                font-size: medium;
                min-height: 70px;
            }
            button {
                background-color: #d1d1d1;
                color: white;
                padding: 10px 20px;
                border: none;
                border-radius: 4px;
                cursor: pointer;
                margin: 5px;
            }
            button:disabled {
                background-color: #d1d1d1;
                cursor: not-available;
            }
            button:hover:not(:disabled) {
                background-color: #d1d1d1;
            }
            #voiceSelect {
                margin: 10px 0;
                padding: 5px;
            }
            .controls {
                margin: 10px 0;
            }

            #fullscreenButton {
                position: fixed;
                top: 20px;
                right: 20px;
                padding: 10px;
                background-color: transparent;
                border: none;
                cursor: pointer;
                border-radius: 5px;
            }

            #fullscreenIcon {
                width: 24px;
                height: 24px;
            }

        </style>
    </head>
    <body>
        <button id="fullscreenButton">
        <svg id="fullscreenIcon" viewBox="0 0 24 24" fill="currentColor">
            <path d="M5 5h5v5H5zM14 5h5v5h-5zM5 14h5v5H5zM14 14h5v5h-5z"/>
        </svg>
        </button>

        <div id="texto">
            <h1>El uno por uno de Argentina. Lionel Messi tuvo una despedida oficial a puro lujo. </h1>
            <p>El rosarino Lionel Messi tuvo una despedida oficial a puro lujo</p><p>El capit谩n del seleccionado apareci贸 con dos goles y todo su repertorio para golear a Venezuela en la pen煤ltima fecha de las eliminatorias.</p><p>E. Mart铆nez (7): con poca actividad en la primera parte, ya que Venezuela no tuvo tiros francos al arco. La participaci贸n volvi贸 a ser escasa en el complemento, por el poco poder ofensivo que ofreci贸 Venezuela. No se complic贸 cuando tuvo que participar con los pies, y orden贸 en varias ocasiones a los defensores con sus indicaciones.</p><p>Molina (6): se mostr贸 contenido en los primeros instantes, debido a que Venezuela present贸 cinco hombres en la 煤ltima l铆nea, para evitar precisamente la subida de los laterales locales. Cuando se decidi贸 a ser m谩s profundo, lleg贸 hasta el fondo en los primeros minutos del segundo tiempo, y un pase suyo al medio no pudo ser interceptado por nadie por el centro del ataque.</p><p>Romero (8): con firmeza y seguridad, como de costumbre, no le dej贸 espacios a Rond贸n para que pueda girar y quedar de frente al arco. Lo sigui贸 por todo el frente de ataque y prevaleci贸 en la mayor铆a de los duelos. El ingreso de Joseph Mart铆nez tampoco fue una complicaci贸n, y lo mantuvo controlado cundo estuvo del medio hacia la derecha.</p><p>Otamendi (8): fue cauteloso y no se adelant贸 para cortar las jugadas de Venezuela en la mitad de la cancha. Le toc贸 seguir a Savarino y lo control贸 sin inconvenientes. Se complementa cada vez mejor con su compa帽ero de zaga, y la experiencia le permite tener el mando en ese sector de la cancha.</p><p>Tagliafico (7): protagoniz贸 la segunda chance para que Argentina se ponga en ventaja, pero la pelota fue rechazada por el arquero. A diferencia de Molina, busc贸 con mayor frecuencia filtrarse por su sector para aparecer por sorpresa.</p><p>De Paul (8): el despliegue habitual del medio hacia la derecha, exhibiendo sacrificio para aparecer en la zona de ataque, y tambi茅n m谩s retrasado para contribuir en la recuperaci贸n de la pelota.</p><p>Paredes (9):uno de los mejores de Argentina. Al igual que lo hace en Boca, se fue adue帽ando de la zona media y desde ah铆 se convirtio en un asistidor preciso. Se afirm贸 como el l铆der del mediocampo, y acomod贸 al resto de sus compa帽eros desde ese lugar. El inici贸 la jugada del primer gol de Messi, con una gran habilitaci贸n a Juli谩n Alvarez.</p><p>Almada (7): comenz贸 el partido sobre la izquierda, demasiado cerca de la l铆nea lateral, y eso le quit贸 poder de influencia. El exV茅lez estuvo m谩s activo en el segundo tiempo, cuando el conjunto local traslad贸 el juego sobre la izquierda. La aparici贸n de Nicol谩s Gonz谩lez lo oblig贸 a pasar a jugar por la derecha, y con una aparici贸n suya por esa zona le cedi贸 la pelota a Messi para que marcara el tercer gol.</p><p>Mastantuono (6): jug贸 por primera vez como titular, el mismo d铆a que Messi se despidi贸 oficialmente en el pa铆s. El volante se desplaz贸 sobre la derecha y tuvo poca gravitaci贸n en ofensiva. Las combinaciones con Almada no aparecieron, y Argentina sinti贸 la falta de elaboraci贸n cerca del 谩rea rival.</p><p>Messi (10): la emoci贸n en su rostro fue evidente, inclusive desde el momento de los himnos, en el cual fue acompa帽ado por sus tres hijos. Los venezolanos lo rodearon con acierto para que no pueda encarar en velocidad. Sin embargo, cuando sus marcadores se descuidaron apareci贸 por el centro para marcar un gol, el 113 en el seleccionado, con un toque suave ante la salida del arquero. La noche la complet贸 con otro gol en los 煤ltimos diez minutos, y que su despedia oficial sea estelar.</p><p>J. Alvarez (7): tuvo la primera opci贸n para convertir a los tres minutos, y Romo reaccion贸 a tiempo para sacar la pelota por arriba. El delantero apareci贸 a toda velocidad por la derecha, cerca del final del primer tiempo, para enganchar y cederle la pelota a Messi, quien se encarg贸 de definir a pura categor铆a.</p><p>N. Gonz谩lez: ingres贸 por Mastantuono y fue directamente a jugar sobre la izquierda, cambiando su lugar con Almada. Tuvo una oportunidad clara para aumentar la ventaja, pero su remate de zurda fue al cuerpo del arquero. Un desborde de 茅l sobre la izquierda desemboc贸 en el segundo gol convertido por Lautaro Mart铆nez.</p><p>Palacios: se instal贸 en el centro de la l铆nea media, y desde all铆 trat贸 de imitar a una de las figura de cancha, Leandro Paredes.</p><p>L. Mart铆nez: el primer contacto que tuvo con la pelota termin贸 en el segundo gol. Se lanz贸 en el 谩rea chica para cabecear la pelota enviada por Nicol谩s Gonz谩lez.</p><p>Simeone: ingres贸 en los 煤ltimos instantes y se movi贸 del centro hacia la derecha del ataque.</p><p>Paz: la funci贸n de enlace es la que mejor le ocupa. Se asoci贸 en algunas ocasiones con Messi para que Argentina avanzara en el campo.</p><p></p>
        </div>
        <br><br><br>
            <div style="display: none;">
                <label for="voiceSelect">Seleccionar voz:</label>
                <select id="voiceSelect"></select>
            </div>
            <div class="controls">
                <button onclick="startReading()" id="playButton">
                     Leer
                </button>
                <button onclick="pauseReading()" id="pauseButton" disabled style="display: none;">
                    革 Pausar
                </button>
                <button onclick="resumeReading()" id="resumeButton" disabled style="display: none;">
                    讹 Continuar
                </button>
                <button onclick="stopReading()" id="stopButton" disabled>
                    癸 Detener
                </button>
            </div>
            <div id="progress" style="display: none;"></div>
        <br><br><br>
        <button class="btnL" onclick="compartir()">Compartir</button>
        <br><br><br>
        <button class="btnL" onclick="window.location.href='https://www.pagina12.com.ar/855199-el-uno-por-uno-de-argentina'">Ver en web original</button>
        <br><br><br>
        <!-- <button class="btnL" onclick="window.location.href='https://matenews.github.io/MateNews/'">Volver a la p谩gina principal</button>
        <br><br><br> -->


        <script>
            function compartir() {
            if (navigator.share) {
                navigator.share({
                title: 'El uno por uno de Argentina. Lionel Messi tuvo una despedida oficial a puro lujo. ', // Opcional, pero recomendado     
                text: 'El uno por uno de Argentina. Lionel Messi tuvo una despedida oficial a puro lujo. ',  // Opcional
                url: 'https://www.pagina12.com.ar/855199-el-uno-por-uno-de-argentina'
                })
                .then(() => console.log('Contenido compartido exitosamente'))
                .catch((error) => console.error('Error al compartir:', error));
            } else {
                // C贸digo alternativo si la API Web Share no est谩 disponible
                console.log("Web Share API no soportada");
                // Puedes usar aqu铆 la opci贸n 2 (botones personalizados con JavaScript) de mi respuesta anterior
            }
            }
        </script>


        <script>
            let speechSynthesis = window.speechSynthesis;
            let currentUtterance = null;
            let isPaused = false;
            let isReading = false;
            let textBlocks = [];
            let currentBlockIndex = 0;
            let lastSpokenIndex = 0;
            const BLOCK_SIZE = 800;

            function updateButtons(speaking) {
                document.getElementById('playButton').disabled = speaking;
                document.getElementById('pauseButton').disabled = !speaking;
                document.getElementById('resumeButton').disabled = !isPaused;
                document.getElementById('stopButton').disabled = !speaking;
            }

            function updateProgress() {
                const progressDiv = document.getElementById('progress');
                if (isReading) {
                    progressDiv.textContent = `Leyendo bloque ${currentBlockIndex + 1} de ${textBlocks.length}`;
                } else {
                    progressDiv.textContent = '';
                }
            }

            function splitIntoBlocks(text) {
                // Dividir el texto en oraciones usando puntuaci贸n com煤n
                const sentences = text.replace(/([.!?])\s+/g, "$1|").split("|");

                let blocks = [];
                let currentBlock = '';

                sentences.forEach(sentence => {
                    // Si la oraci贸n es muy larga, dividirla en la coma m谩s cercana al BLOCK_SIZE
                    if (sentence.length > BLOCK_SIZE) {
                        let subSentences = sentence.replace(/,\s+/g, ",|").split("|");
                        subSentences.forEach(subSentence => {
                            if (currentBlock.length + subSentence.length > BLOCK_SIZE) {
                                if (currentBlock) blocks.push(currentBlock.trim());
                                currentBlock = subSentence;
                            } else {
                                currentBlock += (currentBlock ? ' ' : '') + subSentence;
                            }
                        });
                    } else {
                        if (currentBlock.length + sentence.length > BLOCK_SIZE) {
                            blocks.push(currentBlock.trim());
                            currentBlock = sentence;
                        } else {
                            currentBlock += (currentBlock ? ' ' : '') + sentence;
                        }
                    }
                });

                if (currentBlock) blocks.push(currentBlock.trim());
                return blocks;
            }

            function speakBlock(index) {
                if (index >= textBlocks.length) {
                    isReading = false;
                    updateButtons(false);
                    updateProgress();
                    return;
                }

                currentUtterance = new SpeechSynthesisUtterance(textBlocks[index]);
                currentUtterance.rate = parseFloat(1.3);
                lastSpokenIndex = index;


                currentUtterance.onend = function() {
                    if (isReading && !isPaused) {
                        currentBlockIndex++;
                        updateProgress();
                        speakBlock(currentBlockIndex);
                    }
                };

                currentUtterance.onerror = function(event) {
                    console.error('Error en la lectura:', event);
                    isReading = false;
                    updateButtons(false);
                    updateProgress();
                };

                speechSynthesis.speak(currentUtterance);
            }

            function startReading() {
                const text = document.getElementById('texto').innerText;
                if (!text) return;

                // Detener cualquier lectura previa
                stop();

                // Preparar nueva lectura
                textBlocks = splitIntoBlocks(text);
                currentBlockIndex = 0;
                isReading = true;
                isPaused = false;

                updateButtons(true);
                updateProgress();
                speakBlock(currentBlockIndex);
            }

            function pause() {
                speechSynthesis.pause();
                isPaused = true;
                updateButtons(true);
            }

            function resume() {
                speechSynthesis.resume();
                isPaused = false;
                updateButtons(true);
            }

            function stop() {
                speechSynthesis.cancel();
                isReading = false;
                isPaused = false;
                currentBlockIndex = 0;
                updateButtons(false);
                updateProgress();
            }

            function pauseReading() {
                if (!isReading) return;

                speechSynthesis.pause();
                isPaused = true;
                isReading = false;
                updateButtons(true);
                updateProgress();
            }

            function resumeReading() {
                if (!isPaused) return;

                isPaused = false;
                isReading = true;

                // Si el utterance actual ya termin贸, comenzar con el siguiente bloque
                if (lastSpokenIndex === currentBlockIndex) {
                    currentBlockIndex++;
                }

                updateButtons(true);
                updateProgress();

                // Si hay un utterance pausado, resumirlo
                if (speechSynthesis.paused) {
                    speechSynthesis.resume();
                } else {
                    // Si no hay utterance pausado, comenzar desde el bloque actual
                    speakBlock(currentBlockIndex);
                }
            }

            function stopReading() {
                speechSynthesis.cancel();
                finishReading();
            }

            function finishReading() {
                isReading = false;
                isPaused = false;
                currentBlockIndex = 0;
                lastSpokenIndex = -1;
                currentUtterance = null;
                updateButtons(false);
                updateProgress();
            }

        </script>        

        <script>

            var elem = document.documentElement;
            var fullscreenButton = document.getElementById("fullscreenButton");
            var fullscreenIcon = document.getElementById("fullscreenIcon");

            fullscreenButton.addEventListener("click", function() {
            if (document.fullscreenElement || document.mozFullScreenElement || document.webkitFullscreenElement || document.msFullscreenElement) {
                if (document.exitFullscreen) {
                document.exitFullscreen();
                } else if (document.mozCancelFullScreen) { /* Firefox */
                document.mozCancelFullScreen();
                } else if (document.webkitExitFullscreen) { /* Chrome, Safari and Opera */
                document.webkitExitFullscreen();
                } else if (document.msExitFullscreen) { /* IE/Edge */
                document.msExitFullscreen();
                }
            } else {
                if (elem.requestFullscreen) {
                elem.requestFullscreen();
                } else if (elem.mozRequestFullScreen) { /* Firefox */
                elem.mozRequestFullScreen();
                } else if (elem.webkitRequestFullscreen) { /* Chrome, Safari and Opera */
                elem.webkitRequestFullscreen();
                } else if (elem.msRequestFullscreen) { /* IE/Edge */
                elem.msRequestFullscreen();
                }
            }
            });

            document.addEventListener('fullscreenchange', (event) => {
            if (!document.fullscreenElement) {
                fullscreenIcon.innerHTML = '<path d="M5 5h5v5H5zM14 5h5v5h-5zM5 14h5v5H5zM14 14h5v5h-5z"/>';
            } else {
                fullscreenIcon.innerHTML = '<path d="M7 14H5v5h5v-2H7v-3zm-2-4h2V7h3V5H5v5zm12 7h-3v2h5v-5h-2v3zM14 5v2h3v3h2V5h-5z"/>';
            }
            });
        </script>

    </body>
    </html>