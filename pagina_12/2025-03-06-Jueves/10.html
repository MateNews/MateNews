<!DOCTYPE html>
    <html lang="es">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>El Papa grab贸 un audio desde el hospital: "Agradezco de coraz贸n las oraciones". El Vaticano difundi贸 el mensaje, a 21 d铆as de su internaci贸n. </title>
        <style>
            body {
                max-width: 800px;
                margin: auto;
                padding: 5%;
            }
            .btnL {
                background: #d1d1d1;
                border-radius: 7px;
                padding: 18px;
                min-width: 100%;
                color: #000000;
                font-size: medium;
                min-height: 70px;
            }
            button {
                background-color: #d1d1d1;
                color: white;
                padding: 10px 20px;
                border: none;
                border-radius: 4px;
                cursor: pointer;
                margin: 5px;
            }
            button:disabled {
                background-color: #d1d1d1;
                cursor: not-available;
            }
            button:hover:not(:disabled) {
                background-color: #d1d1d1;
            }
            #voiceSelect {
                margin: 10px 0;
                padding: 5px;
            }
            .controls {
                margin: 10px 0;
            }

            #fullscreenButton {
                position: fixed;
                top: 20px;
                right: 20px;
                padding: 10px;
                background-color: transparent;
                border: none;
                cursor: pointer;
                border-radius: 5px;
            }

            #fullscreenIcon {
                width: 24px;
                height: 24px;
            }

        </style>
    </head>
    <body>
        <button id="fullscreenButton">
        <svg id="fullscreenIcon" viewBox="0 0 24 24" fill="currentColor">
            <path d="M5 5h5v5H5zM14 5h5v5h-5zM5 14h5v5H5zM14 14h5v5h-5z"/>
        </svg>
        </button>

        <div id="texto">
            <h1>El Papa grab贸 un audio desde el hospital: "Agradezco de coraz贸n las oraciones". El Vaticano difundi贸 el mensaje, a 21 d铆as de su internaci贸n. </h1>
            <p>El Vaticano difundi贸 el mensaje, a 21 d铆as de su internaci贸n</p><p>"Los acompa帽贸 desde ac谩. Que Dios los bendiga y la virgen los cuide", dijo Francisco en un sorpresivo mensaje. El papa permaneci贸 "estable" y no present贸 nuevas crisis respiratorias.</p><p>"Su estado de 谩nimo sigue siendo bueno"</p><p>A 21 d铆as de su internaci贸n en elPolicl铆nico Agostino Gemelli de Roma, los fieles que acudieron este jueves a la Plaza San Pedro para rezar por la salud del papa Francisco escucharon su voz: "Agradezco de todo coraz贸n las oraciones que hacen por mi salud desde la plaza", dijo en un mensaje grabado en espa帽ol que se reprodujo en la previa de la ceremonia del santo rosario. "Los acompa帽贸 desde ac谩. Que Dios los bendiga y que la virgen los cuide", cerr贸 Francisco su sorpresivo mensaje.</p><p>En una fr铆a noche de fines de invierno en Italia, los cientos de fieles y cardenales presentes en la plaza San Pedro del Vaticano recibieron con aplausos el mensaje, en el que se escucha la entrecortada respiraci贸n de Francisco. El mensaje llega tras la aparici贸n de numerosas noticias falsas sobre la salud del papa y de que este mismo jueves fuentes vaticanas, consultadas sobre si se iba a publicar una imagen del papa en el hospital, indicaran que "cada uno es libre de elegir c贸mo y cu谩ndo hacerse ver, especialmente cuando est谩s hospitalizado".</p><p>"Me impact贸 o铆rlo tan cansado", asegur贸 a la agencia AFP Claudia Bianchi, una fiel italiana de 50 a帽os. "Fue una se帽al positiva. Da esperanzas que a煤n tenga fuerzas para hablar y parece que siempre quiere estar con nosotros", abund贸 Alessandra Dalboni, de 53 a帽os. John Maloney, un ingl茅s de 76 a帽os, no esperaba "escucharlo tan r谩pido" dadas las noticias sobre su salud. "Es una buena se帽al que realmente sea capaz de hablar", agreg贸 el hombre que se encuentra en Roma de peregrinaje por el Jubileo.</p><p>Antes de escuchar la voz de un Francisco agotado por los tratamientos m茅dicos y la larga internaci贸n por una bronquitis y una neumon铆a bilateral, la oficina de prensa del Vaticano difundi贸 el parte de salud en el que se destaca que el papa permaneci贸 "estable" y no present贸 nuevas crisis de insuficiencia respiratoria. El informe signific贸 una buena noticia tras las dos crisis que Francisco, a sus 88 a帽os, sufri贸 el lunes pasado.</p><p>Seg煤n el reporte oficial, el papa contin煤a con fisioterapia respiratoria y motora, mientras que la presi贸n y an谩lisis de sangre se mantuvieron estables. Otro par谩metro positivo de la evoluci贸n de su salud es que no present贸 un nuevo cuadro febril, aunque su pron贸stico contin煤a siendo "reservado".</p><p>En el Policl铆nico Gemelli, Francisco realiz贸 actividades de trabajo durante la ma帽ana y la tarde del jueves, mientras que altern贸 el descanso con la oraci贸n y antes del almuerzo recibi贸 la Eucarist铆a. Durante la noche recibi贸 ventilaci贸n mec谩nica no invasiva tras haber sido sometido a oxigenoterapia de alto flujo durante el d铆a, indic贸 el parte oficial y destac贸 que "el papa est谩 cooperando con las terapias y su estado de 谩nimo sigue siendo bueno".</p><p>Esta hospitalizaci贸n, la cuarta y m谩s larga desde 2021, genera preocupaci贸n por los problemas previos que debilitaron la salud de Jorge Bergoglio en los 煤ltimos a帽os: operaciones en el colon y el abdomen, y dificultades para caminar. La situaci贸n reabri贸 adem谩s los interrogantes sobre su capacidad para desempe帽ar sus funciones, m谩s a煤n cuando el derecho can贸nico no prev茅 ninguna disposici贸n en caso de un problema grave que pueda afectar a su lucidez.</p><p>Francisco, que en los 煤ltimos tiempos descart贸 la idea de renunciar al cargo como lo hiciera su predecesor Benedicto XVI en 2013, se ausent贸 el mi茅rcoles de la principal misa de imposici贸n de Cenizas, que marca el inicio de Cuaresma. Este rito activ贸 la cuenta atr谩s de 40 d铆as hasta la Pascua, la fiesta m谩s importante del calendario cat贸lico.</p><p></p>
        </div>
        <br><br><br>
            <div style="display: none;">
                <label for="voiceSelect">Seleccionar voz:</label>
                <select id="voiceSelect"></select>
            </div>
            <div class="controls">
                <button onclick="startReading()" id="playButton">
                     Leer
                </button>
                <button onclick="pauseReading()" id="pauseButton" disabled style="display: none;">
                    革 Pausar
                </button>
                <button onclick="resumeReading()" id="resumeButton" disabled style="display: none;">
                    讹 Continuar
                </button>
                <button onclick="stopReading()" id="stopButton" disabled>
                    癸 Detener
                </button>
            </div>
            <div id="progress" style="display: none;"></div>
        <br><br><br>
        <button class="btnL" onclick="compartir()">Compartir</button>
        <br><br><br>
        <button class="btnL" onclick="window.location.href='https://www.pagina12.com.ar/808865-el-papa-grabo-un-audio-desde-el-hospital-agradezco-de-corazo'">Ver en web original</button>
        <br><br><br>
        <!-- <button class="btnL" onclick="window.location.href='https://matenews.github.io/MateNews/'">Volver a la p谩gina principal</button>
        <br><br><br> -->


        <script>
            function compartir() {
            if (navigator.share) {
                navigator.share({
                title: 'El Papa grab贸 un audio desde el hospital: "Agradezco de coraz贸n las oraciones". El Vaticano difundi贸 el mensaje, a 21 d铆as de su internaci贸n. ', // Opcional, pero recomendado     
                text: 'El Papa grab贸 un audio desde el hospital: "Agradezco de coraz贸n las oraciones". El Vaticano difundi贸 el mensaje, a 21 d铆as de su internaci贸n. ',  // Opcional
                url: 'https://www.pagina12.com.ar/808865-el-papa-grabo-un-audio-desde-el-hospital-agradezco-de-corazo'
                })
                .then(() => console.log('Contenido compartido exitosamente'))
                .catch((error) => console.error('Error al compartir:', error));
            } else {
                // C贸digo alternativo si la API Web Share no est谩 disponible
                console.log("Web Share API no soportada");
                // Puedes usar aqu铆 la opci贸n 2 (botones personalizados con JavaScript) de mi respuesta anterior
            }
            }
        </script>


        <script>
            let speechSynthesis = window.speechSynthesis;
            let currentUtterance = null;
            let isPaused = false;
            let isReading = false;
            let textBlocks = [];
            let currentBlockIndex = 0;
            let lastSpokenIndex = 0;
            const BLOCK_SIZE = 800;

            function updateButtons(speaking) {
                document.getElementById('playButton').disabled = speaking;
                document.getElementById('pauseButton').disabled = !speaking;
                document.getElementById('resumeButton').disabled = !isPaused;
                document.getElementById('stopButton').disabled = !speaking;
            }

            function updateProgress() {
                const progressDiv = document.getElementById('progress');
                if (isReading) {
                    progressDiv.textContent = `Leyendo bloque ${currentBlockIndex + 1} de ${textBlocks.length}`;
                } else {
                    progressDiv.textContent = '';
                }
            }

            function splitIntoBlocks(text) {
                // Dividir el texto en oraciones usando puntuaci贸n com煤n
                const sentences = text.replace(/([.!?])\s+/g, "$1|").split("|");

                let blocks = [];
                let currentBlock = '';

                sentences.forEach(sentence => {
                    // Si la oraci贸n es muy larga, dividirla en la coma m谩s cercana al BLOCK_SIZE
                    if (sentence.length > BLOCK_SIZE) {
                        let subSentences = sentence.replace(/,\s+/g, ",|").split("|");
                        subSentences.forEach(subSentence => {
                            if (currentBlock.length + subSentence.length > BLOCK_SIZE) {
                                if (currentBlock) blocks.push(currentBlock.trim());
                                currentBlock = subSentence;
                            } else {
                                currentBlock += (currentBlock ? ' ' : '') + subSentence;
                            }
                        });
                    } else {
                        if (currentBlock.length + sentence.length > BLOCK_SIZE) {
                            blocks.push(currentBlock.trim());
                            currentBlock = sentence;
                        } else {
                            currentBlock += (currentBlock ? ' ' : '') + sentence;
                        }
                    }
                });

                if (currentBlock) blocks.push(currentBlock.trim());
                return blocks;
            }

            function speakBlock(index) {
                if (index >= textBlocks.length) {
                    isReading = false;
                    updateButtons(false);
                    updateProgress();
                    return;
                }

                currentUtterance = new SpeechSynthesisUtterance(textBlocks[index]);
                currentUtterance.rate = parseFloat(1.3);
                lastSpokenIndex = index;


                currentUtterance.onend = function() {
                    if (isReading && !isPaused) {
                        currentBlockIndex++;
                        updateProgress();
                        speakBlock(currentBlockIndex);
                    }
                };

                currentUtterance.onerror = function(event) {
                    console.error('Error en la lectura:', event);
                    isReading = false;
                    updateButtons(false);
                    updateProgress();
                };

                speechSynthesis.speak(currentUtterance);
            }

            function startReading() {
                const text = document.getElementById('texto').innerText;
                if (!text) return;

                // Detener cualquier lectura previa
                stop();

                // Preparar nueva lectura
                textBlocks = splitIntoBlocks(text);
                currentBlockIndex = 0;
                isReading = true;
                isPaused = false;

                updateButtons(true);
                updateProgress();
                speakBlock(currentBlockIndex);
            }

            function pause() {
                speechSynthesis.pause();
                isPaused = true;
                updateButtons(true);
            }

            function resume() {
                speechSynthesis.resume();
                isPaused = false;
                updateButtons(true);
            }

            function stop() {
                speechSynthesis.cancel();
                isReading = false;
                isPaused = false;
                currentBlockIndex = 0;
                updateButtons(false);
                updateProgress();
            }

            function pauseReading() {
                if (!isReading) return;

                speechSynthesis.pause();
                isPaused = true;
                isReading = false;
                updateButtons(true);
                updateProgress();
            }

            function resumeReading() {
                if (!isPaused) return;

                isPaused = false;
                isReading = true;

                // Si el utterance actual ya termin贸, comenzar con el siguiente bloque
                if (lastSpokenIndex === currentBlockIndex) {
                    currentBlockIndex++;
                }

                updateButtons(true);
                updateProgress();

                // Si hay un utterance pausado, resumirlo
                if (speechSynthesis.paused) {
                    speechSynthesis.resume();
                } else {
                    // Si no hay utterance pausado, comenzar desde el bloque actual
                    speakBlock(currentBlockIndex);
                }
            }

            function stopReading() {
                speechSynthesis.cancel();
                finishReading();
            }

            function finishReading() {
                isReading = false;
                isPaused = false;
                currentBlockIndex = 0;
                lastSpokenIndex = -1;
                currentUtterance = null;
                updateButtons(false);
                updateProgress();
            }

        </script>        

        <script>

            var elem = document.documentElement;
            var fullscreenButton = document.getElementById("fullscreenButton");
            var fullscreenIcon = document.getElementById("fullscreenIcon");

            fullscreenButton.addEventListener("click", function() {
            if (document.fullscreenElement || document.mozFullScreenElement || document.webkitFullscreenElement || document.msFullscreenElement) {
                if (document.exitFullscreen) {
                document.exitFullscreen();
                } else if (document.mozCancelFullScreen) { /* Firefox */
                document.mozCancelFullScreen();
                } else if (document.webkitExitFullscreen) { /* Chrome, Safari and Opera */
                document.webkitExitFullscreen();
                } else if (document.msExitFullscreen) { /* IE/Edge */
                document.msExitFullscreen();
                }
            } else {
                if (elem.requestFullscreen) {
                elem.requestFullscreen();
                } else if (elem.mozRequestFullScreen) { /* Firefox */
                elem.mozRequestFullScreen();
                } else if (elem.webkitRequestFullscreen) { /* Chrome, Safari and Opera */
                elem.webkitRequestFullscreen();
                } else if (elem.msRequestFullscreen) { /* IE/Edge */
                elem.msRequestFullscreen();
                }
            }
            });

            document.addEventListener('fullscreenchange', (event) => {
            if (!document.fullscreenElement) {
                fullscreenIcon.innerHTML = '<path d="M5 5h5v5H5zM14 5h5v5h-5zM5 14h5v5H5zM14 14h5v5h-5z"/>';
            } else {
                fullscreenIcon.innerHTML = '<path d="M7 14H5v5h5v-2H7v-3zm-2-4h2V7h3V5H5v5zm12 7h-3v2h5v-5h-2v3zM14 5v2h3v3h2V5h-5z"/>';
            }
            });
        </script>

    </body>
    </html>