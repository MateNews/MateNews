<!DOCTYPE html>
    <html lang="es">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>La ciudad feliz. Contratapa. </title>
        <style>
            body {
                max-width: 800px;
                margin: auto;
                padding: 5%;
            }
            .btnL {
                background: #d1d1d1;
                border-radius: 7px;
                padding: 18px;
                min-width: 100%;
                color: #000000;
                font-size: medium;
                min-height: 70px;
            }
            button {
                background-color: #d1d1d1;
                color: white;
                padding: 10px 20px;
                border: none;
                border-radius: 4px;
                cursor: pointer;
                margin: 5px;
            }
            button:disabled {
                background-color: #d1d1d1;
                cursor: not-available;
            }
            button:hover:not(:disabled) {
                background-color: #d1d1d1;
            }
            #voiceSelect {
                margin: 10px 0;
                padding: 5px;
            }
            .controls {
                margin: 10px 0;
            }

            #fullscreenButton {
                position: fixed;
                top: 20px;
                right: 20px;
                padding: 10px;
                background-color: transparent;
                border: none;
                cursor: pointer;
                border-radius: 5px;
            }

            #fullscreenIcon {
                width: 24px;
                height: 24px;
            }

        </style>
    </head>
    <body>
        <button id="fullscreenButton">
        <svg id="fullscreenIcon" viewBox="0 0 24 24" fill="currentColor">
            <path d="M5 5h5v5H5zM14 5h5v5h-5zM5 14h5v5H5zM14 14h5v5h-5z"/>
        </svg>
        </button>

        <div id="texto">
            <h1>La ciudad feliz. Contratapa. </h1>
            <p></p><p>Hab√≠a que hacer algo para levantar el espanto de tanta oferta de toldo marplatense sin demanda. Es como si Mar del Plata se hubiera preparado para volver a ser preperonista, como si una inercia de clase le hubiera brotado del inconsciente colectivo, y la recorriera un aire a Peralta Ramos, a Victoria Ocampo, una vieja esencia elitista que se evapor√≥ con Per√≥n, cuando la invadieron los grasitas.</p><p>La Mar del Plata que amamos es la popular, no la exclusiva. Y es obvio que es posible veranear en Mar del Plata con el mismo presupuesto que en otro lugar de la costa, pero la Mar del Plata televisada, la que mostraba todos los a√±os la Bristol pero se deten√≠a y hac√≠a notas con famosos en Punta Mogotes o m√°s arriba, est√° desierta, sencillamente porque queda dentro de la Argentina. Hay lugares m√°s caros que la Mar del Plata cara, y puede que tengan su p√∫blico abc1. El tema es que los que se gastan esas fortunas no eligen Mar del Plata porque es popular.</p><p>Quiz√° esa ciudad hermosa, multifac√©tica y tan revisitada en los √∫ltimos tiempos, con un cambio de foco sobre los lobos de la Rambla, que est√°n en muchas de nuestras fotos familiares de nuestra infancia y hasta de la juventud de nuestros padres, est√© somatizando, si se me permite la licencia, esta puja bestial entre lo popular y lo megaelitista.</p><p>Est√°n chocando los planetas, claro que s√≠. Est√° chocando todo. Choc√≥ Scioli, con su tard√≠o intento de revivir la temporada cuando record√≥ que es secretario de Turismo de la Argentina, no de Brasil. Y meti√≥ nom√°s la foto de 2011, atestada, colorida, festiva, llena de vida. Eso pasaba con Cristina.</p><p>Cuando lo escuch√© decir que a Milei deber√≠an darle el Premio Nobel de Econom√≠a, pens√© que estaba borracho. Pero no. Era Scioli. Que siempre debe haber sido as√≠, como un borracho. Y no lo digo por ninguna asociaci√≥n con el alcohol, sino por la falta de reflejos y capacidad de raciocinio.</p><p>Scioli es m√°s que Scioli, como Mar del Plata es m√°s que Mar del Plata, y como la mentira de la foto es m√°s que un descuido, una chantada, una desprolijidad. Es un me cago en la verdad del que estamos total, absoluta y completamente hartos, pero del que no podemos salir. Avanza la mentira porque es la columna vertebral del mundo que trae consigo la ultraderecha. Con la verdad, ofenden y temen.</p><p>Tipos como Scioli contribuyeron enormemente a que millones de personas crean que la pol√≠tica no sirve para nada. Ese aire contemporizador, esa aparente mesura, esa afectaci√≥n y debilidad por la far√°ndula, ese ni ni, esos infaltables negocios y contactos, tributaron con ganas a la idea que impulsa hoy la ultraderecha y es que los pol√≠ticos son una mierda y la pol√≠tica es una estafa.</p><p>A Scioli lo militamos y lo votamos. Y tengo ganas de ir a tocarle el timbre y pedirle que me devuelva el voto. Y no le echo la culpa a Cristina como hacen tantos superados √∫ltimamente, como si esta sociedad racista, clasista y colonizada hubiese soportado una profundizaci√≥n del modelo inclusivo. Ah√≠ arranca la pregunta que tenemos que hacernos. Por qu√© est√° tan incrustado el prejuicio antiperonista, hasta el punto de la propia autodestrucci√≥n. Y por qu√© cuando el 56 por ciento decide algo radical, algo extremo, algo totalmente distinto a lo conocido, elige algo mucho peor que todo lo conocido. Y por qu√© nuestras diferencias dom√©sticas nos est√°n atontando y agriando, en un contexto desesperado.</p><p>La pregunta es por qui√©nes somos, y por qu√© hay que extinguir la posibilidad de otros Sciolis, un tipo al que le vino bien jugar una candidatura con Alberto, ser embajador en Brasil del gobierno que est√° destrozando al pa√≠s, hacerse devoto de un fascista, y entonces... metamos la foto de la Mar del Plata populista. Durante demasiado tiempo nos hemos conformado con muy poco. Con muchos Sciolis haci√©ndose pasar por representantes populares.</p><p>No se puede estar bien con dios y con el diablo. No se puede girar a la izquierda y a la derecha al mismo tiempo, ni quedarse en el centro cuando uno es funcionario de un gobierno infame. No se puede convivir con esa gente, ni tolerarla, ni consentir la mala pr√°ctica pol√≠tica, porque hay que reconstruir un patr√≥n √©tico con urgencia en un pa√≠s que ha perdido la noci√≥n de la verdad y que consume mentiras con avidez.</p><p>Tienen en mente un mundo donde la noci√≥n de verdad desaparezca. Elon Musk est√° en el n√∫cleo del proyecto de gobernanza global de los tecnoaut√≥cratas. En Europa ya est√°n bajo ataque de mentiras masivas para derrocar a los actuales gobiernos y facilitar el ascenso de m√°s ultraderechas. No piensan en alimentar personas, sino m√°quinas. Por eso Trump quiere comprar Groenlandia.</p><p></p><p>Creo que no est√° de m√°s agregar que esto no se puede abordar con ninguna de las l√≥gicas pol√≠ticas que conocemos, porque la situaci√≥n es grave y extraordinaria en su capacidad de da√±o. No estamos para copiar y pegar. Hay que inventar, y unidos.</p><p></p>
        </div>
        <br><br><br>
            <div style="display: none;">
                <label for="voiceSelect">Seleccionar voz:</label>
                <select id="voiceSelect"></select>
            </div>
            <div class="controls">
                <button onclick="startReading()" id="playButton">
                    üîä Leer
                </button>
                <button onclick="pauseReading()" id="pauseButton" disabled style="display: none;">
                    ‚è∏Ô∏è Pausar
                </button>
                <button onclick="resumeReading()" id="resumeButton" disabled style="display: none;">
                    ‚ñ∂Ô∏è Continuar
                </button>
                <button onclick="stopReading()" id="stopButton" disabled>
                    ‚èπÔ∏è Detener
                </button>
            </div>
            <div id="progress" style="display: none;"></div>
        <br><br><br>
        <button class="btnL" onclick="compartir()">Compartir</button>
        <br><br><br>
        <button class="btnL" onclick="window.location.href='https://www.pagina12.com.ar/796041-la-ciudad-feliz'">Ver en web original</button>
        <br><br><br>
        <!-- <button class="btnL" onclick="window.location.href='https://matenews.github.io/MateNews/'">Volver a la p√°gina principal</button>
        <br><br><br> -->


        <script>
            function compartir() {
            if (navigator.share) {
                navigator.share({
                title: 'La ciudad feliz. Contratapa. ', // Opcional, pero recomendado     
                text: 'La ciudad feliz. Contratapa. ',  // Opcional
                url: 'https://www.pagina12.com.ar/796041-la-ciudad-feliz'
                })
                .then(() => console.log('Contenido compartido exitosamente'))
                .catch((error) => console.error('Error al compartir:', error));
            } else {
                // C√≥digo alternativo si la API Web Share no est√° disponible
                console.log("Web Share API no soportada");
                // Puedes usar aqu√≠ la opci√≥n 2 (botones personalizados con JavaScript) de mi respuesta anterior
            }
            }
        </script>


        <script>
            let speechSynthesis = window.speechSynthesis;
            let currentUtterance = null;
            let isPaused = false;
            let isReading = false;
            let textBlocks = [];
            let currentBlockIndex = 0;
            let lastSpokenIndex = 0;
            const BLOCK_SIZE = 800;

            function updateButtons(speaking) {
                document.getElementById('playButton').disabled = speaking;
                document.getElementById('pauseButton').disabled = !speaking;
                document.getElementById('resumeButton').disabled = !isPaused;
                document.getElementById('stopButton').disabled = !speaking;
            }

            function updateProgress() {
                const progressDiv = document.getElementById('progress');
                if (isReading) {
                    progressDiv.textContent = `Leyendo bloque ${currentBlockIndex + 1} de ${textBlocks.length}`;
                } else {
                    progressDiv.textContent = '';
                }
            }

            function splitIntoBlocks(text) {
                // Dividir el texto en oraciones usando puntuaci√≥n com√∫n
                const sentences = text.replace(/([.!?])\s+/g, "$1|").split("|");

                let blocks = [];
                let currentBlock = '';

                sentences.forEach(sentence => {
                    // Si la oraci√≥n es muy larga, dividirla en la coma m√°s cercana al BLOCK_SIZE
                    if (sentence.length > BLOCK_SIZE) {
                        let subSentences = sentence.replace(/,\s+/g, ",|").split("|");
                        subSentences.forEach(subSentence => {
                            if (currentBlock.length + subSentence.length > BLOCK_SIZE) {
                                if (currentBlock) blocks.push(currentBlock.trim());
                                currentBlock = subSentence;
                            } else {
                                currentBlock += (currentBlock ? ' ' : '') + subSentence;
                            }
                        });
                    } else {
                        if (currentBlock.length + sentence.length > BLOCK_SIZE) {
                            blocks.push(currentBlock.trim());
                            currentBlock = sentence;
                        } else {
                            currentBlock += (currentBlock ? ' ' : '') + sentence;
                        }
                    }
                });

                if (currentBlock) blocks.push(currentBlock.trim());
                return blocks;
            }

            function speakBlock(index) {
                if (index >= textBlocks.length) {
                    isReading = false;
                    updateButtons(false);
                    updateProgress();
                    return;
                }

                currentUtterance = new SpeechSynthesisUtterance(textBlocks[index]);
                currentUtterance.rate = parseFloat(1.3);
                lastSpokenIndex = index;


                currentUtterance.onend = function() {
                    if (isReading && !isPaused) {
                        currentBlockIndex++;
                        updateProgress();
                        speakBlock(currentBlockIndex);
                    }
                };

                currentUtterance.onerror = function(event) {
                    console.error('Error en la lectura:', event);
                    isReading = false;
                    updateButtons(false);
                    updateProgress();
                };

                speechSynthesis.speak(currentUtterance);
            }

            function startReading() {
                const text = document.getElementById('texto').innerText;
                if (!text) return;

                // Detener cualquier lectura previa
                stop();

                // Preparar nueva lectura
                textBlocks = splitIntoBlocks(text);
                currentBlockIndex = 0;
                isReading = true;
                isPaused = false;

                updateButtons(true);
                updateProgress();
                speakBlock(currentBlockIndex);
            }

            function pause() {
                speechSynthesis.pause();
                isPaused = true;
                updateButtons(true);
            }

            function resume() {
                speechSynthesis.resume();
                isPaused = false;
                updateButtons(true);
            }

            function stop() {
                speechSynthesis.cancel();
                isReading = false;
                isPaused = false;
                currentBlockIndex = 0;
                updateButtons(false);
                updateProgress();
            }

            function pauseReading() {
                if (!isReading) return;

                speechSynthesis.pause();
                isPaused = true;
                isReading = false;
                updateButtons(true);
                updateProgress();
            }

            function resumeReading() {
                if (!isPaused) return;

                isPaused = false;
                isReading = true;

                // Si el utterance actual ya termin√≥, comenzar con el siguiente bloque
                if (lastSpokenIndex === currentBlockIndex) {
                    currentBlockIndex++;
                }

                updateButtons(true);
                updateProgress();

                // Si hay un utterance pausado, resumirlo
                if (speechSynthesis.paused) {
                    speechSynthesis.resume();
                } else {
                    // Si no hay utterance pausado, comenzar desde el bloque actual
                    speakBlock(currentBlockIndex);
                }
            }

            function stopReading() {
                speechSynthesis.cancel();
                finishReading();
            }

            function finishReading() {
                isReading = false;
                isPaused = false;
                currentBlockIndex = 0;
                lastSpokenIndex = -1;
                currentUtterance = null;
                updateButtons(false);
                updateProgress();
            }

        </script>        

        <script>

            var elem = document.documentElement;
            var fullscreenButton = document.getElementById("fullscreenButton");
            var fullscreenIcon = document.getElementById("fullscreenIcon");

            fullscreenButton.addEventListener("click", function() {
            if (document.fullscreenElement || document.mozFullScreenElement || document.webkitFullscreenElement || document.msFullscreenElement) {
                if (document.exitFullscreen) {
                document.exitFullscreen();
                } else if (document.mozCancelFullScreen) { /* Firefox */
                document.mozCancelFullScreen();
                } else if (document.webkitExitFullscreen) { /* Chrome, Safari and Opera */
                document.webkitExitFullscreen();
                } else if (document.msExitFullscreen) { /* IE/Edge */
                document.msExitFullscreen();
                }
            } else {
                if (elem.requestFullscreen) {
                elem.requestFullscreen();
                } else if (elem.mozRequestFullScreen) { /* Firefox */
                elem.mozRequestFullScreen();
                } else if (elem.webkitRequestFullscreen) { /* Chrome, Safari and Opera */
                elem.webkitRequestFullscreen();
                } else if (elem.msRequestFullscreen) { /* IE/Edge */
                elem.msRequestFullscreen();
                }
            }
            });

            document.addEventListener('fullscreenchange', (event) => {
            if (!document.fullscreenElement) {
                fullscreenIcon.innerHTML = '<path d="M5 5h5v5H5zM14 5h5v5h-5zM5 14h5v5H5zM14 14h5v5h-5z"/>';
            } else {
                fullscreenIcon.innerHTML = '<path d="M7 14H5v5h5v-2H7v-3zm-2-4h2V7h3V5H5v5zm12 7h-3v2h5v-5h-2v3zM14 5v2h3v3h2V5h-5z"/>';
            }
            });
        </script>

    </body>
    </html>