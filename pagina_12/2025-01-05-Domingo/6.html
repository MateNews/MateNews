<!DOCTYPE html>
    <html lang="es">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>La bicicleta financiera en Argentina, una nutrida historia de auge y crisis. Carry trade modelo 2024. </title>
        <style>
            body {
                max-width: 800px;
                margin: auto;
                padding: 5%;
            }
            .btnL {
                background: #d1d1d1;
                border-radius: 7px;
                padding: 18px;
                min-width: 100%;
                color: #000000;
                font-size: medium;
                min-height: 70px;
            }
            button {
                background-color: #d1d1d1;
                color: white;
                padding: 10px 20px;
                border: none;
                border-radius: 4px;
                cursor: pointer;
                margin: 5px;
            }
            button:disabled {
                background-color: #d1d1d1;
                cursor: not-available;
            }
            button:hover:not(:disabled) {
                background-color: #d1d1d1;
            }
            #voiceSelect {
                margin: 10px 0;
                padding: 5px;
            }
            .controls {
                margin: 10px 0;
            }

            #fullscreenButton {
                position: fixed;
                top: 20px;
                right: 20px;
                padding: 10px;
                background-color: transparent;
                border: none;
                cursor: pointer;
                border-radius: 5px;
            }

            #fullscreenIcon {
                width: 24px;
                height: 24px;
            }

        </style>
    </head>
    <body>
        <button id="fullscreenButton">
        <svg id="fullscreenIcon" viewBox="0 0 24 24" fill="currentColor">
            <path d="M5 5h5v5H5zM14 5h5v5h-5zM5 14h5v5H5zM14 14h5v5h-5z"/>
        </svg>
        </button>

        <div id="texto">
            <h1>La bicicleta financiera en Argentina, una nutrida historia de auge y crisis. Carry trade modelo 2024. </h1>
            <p>Carry trade modelo 2024</p><p>El carry trade se basa en la b√∫squeda de rentabilidad mediante operaciones de endeudamiento e inversi√≥n en monedas con diferentes tasas de inter√©s. Esta estrategia conlleva riesgos especialmente altos en econom√≠as emergentes con volatilidad macroecon√≥mica. La experiencia demuestra que los inversionistas internacionales entran al comienzo de la fiesta y suelen irse antes de que se retiren todos los invitados. En Argentina, el modelo del carry trade amplifica las vulnerabilidades externas y genera enormes costos sociales.</p><p>Carry trade</p><p>Bicicleta financiera</p><p>La "tablita"</p><p>La Convertibilidad</p><p>"El Messi de las finanzas"</p><p>Motosierra y bicicleta</p><p>Costo social</p><p>Conclusiones</p><p>El carry trade se basa en la b√∫squeda de rentabilidad mediante el endeudamiento en una moneda con baja tasa de inter√©s, para invertir en otra moneda con alta tasa de inter√©s. La diferencia entre ambas tasas, ajustada por la variaci√≥n del tipo de cambio, constituye la ganancia potencial.</p><p>Esta estrategia conlleva riesgos inherentes, especialmente en econom√≠as emergentes con alta volatilidad macroecon√≥mica. La experiencia demuestra que los inversionistas internacionales entran al comienzo de la fiesta y suelen irse antes de que se retiren todos los invitados.</p><p>En Argentina, el modelo basado en el carry trade es insostenible y amplifica las vulnerabilidades externas. Para mitigar los riesgos del carry trade se requiere un enfoque integral que combine pol√≠ticas macroecon√≥micas prudentes, un manejo responsable de la deuda p√∫blica y medidas para fortalecer el mercado interno y promover la inversi√≥n productiva.</p><p>El carry trade es legal y es una estrategia definitivamente usual en los mercados internacionales. No obstante, los asuntos relacionados con tasa de cambio y tasas de inter√©s tienen dificultades aun en los ‚Äúpa√≠ses serios‚Äù. Solo por citar dos ejemplos: i) los reguladores de Estados Unidos, Gran Breta√±a y Suiza obligaron a Citibank, HSBC, JPMorgan, RBS y UBS a pagar unos 3.300 millones de d√≥lares por la manipulaci√≥n en el mercado de divisas; y ii) un antiguo operador de Barclays, Andy Verity, fue encarcelado a causa del esc√°ndalo de 9.000 millones de d√≥lares por manipulaci√≥n de tipos de inter√©s.</p><p>En cualquier pa√≠s con funcionarios p√∫blicos provenientes del sector financiero internacional privado, podr√≠a haber conflicto de intereses en caso que se filtrara informaci√≥n o se hicieran acuerdos no p√∫blicos para disminuir los riesgos y costos asociados a la estrategia del inversor.</p><p>Las fluctuaciones en el tipo de cambio, planificadas o no, pueden potenciar, erosionar o incluso revertir las ganancias esperadas. Establecidos los c√°lculos que cierran con las expectativas de los inversores, en contextos de alta incertidumbre, la salida repentina de capitales puede generar una crisis cambiaria y financiera, como la que ocurri√≥ en 2018 con las LEBACs en la Argentina.</p><p>Finalmente, para mantener altas tasas de inter√©s y atraer capitales especulativos, un gobierno puede incurrir en un elevado costo fiscal o cuasi fiscal, aumentando la deuda p√∫blica o los instrumentos de regulaci√≥n monetaria, como sucede desde inicios del actual gobierno, en que la deuda p√∫blica aument√≥ 91.880 millones de d√≥lares al 31 de octubre, seg√∫n la Secretar√≠a de Finanzas. Sin embargo, con el tiempo, la mayor√≠a de las veces que se han implementado estas estrategias, terminaron de una manera abrupta.</p><p>Las operaciones de carry trade est√°n expuestas a riesgos financieros sustanciales y tienen una alta rentabilidad. Jord√† y Taylor (2012) descartan la rentabilidad del carry trade ingenuo, basado solo en diferenciales de inter√©s, dado su desempe√±o en la crisis financiera de 2008. La elecci√≥n de la moneda de referencia es muy importante y la pol√≠tica cambiaria, tambi√©n.</p><p>Las operaciones de carry trade tienden a tener un rendimiento deficiente durante per√≠odos de creciente aversi√≥n al riesgo y volatilidad cambiaria inesperadamente alta. Emp√≠ricamente, los retornos de las operaciones de carry trade est√°n sistem√°ticamente vinculados a los cambios en las condiciones monetarias. La previsibilidad de las primas de riesgo cambiario proporciona una informaci√≥n sumamente valiosa.</p><p>El funcionamiento del mercado de divisas durante la crisis financiera 2008 puso en tela de juicio algunos de estos asuntos. Los inversores que utilizaron estrategias puramente de carry tuvieron un desempe√±o realmente muy malo. Por su parte, el √∫ltimo tramo de Luis Caputo en 2018 dej√≥ atascado algunos inversores que se quedaron hasta el final de la celebraci√≥n financiera, cuando el precio de los d√≥lares que compraban ya no cerraba con las expectativas de rendimiento.</p><p>Se ha explorado en diversos estudios si los rendimientos de las divisas son predecibles y la simple l√≥gica del ‚Äúcarry trade‚Äù de operaciones basadas en el diferencial de intereses son consistentes. Se han utilizado varias m√©tricas para evaluar la previsibilidad y la rentabilidad de los pron√≥sticos del tipo de cambio y los resultados han sido: ‚ÄúNo se crea ning√∫n consenso‚Äù.</p><p>Concurrentemente, en los momentos clave, los mercados de derivados funcionan mal y los riesgos de contraparte ya no pueden ignorarse. Esto plante√≥ cuestiones sobre las estrategias de seguro basadas en opciones, en pa√≠ses de mayor grado de desarrollo.</p><p>Han aparecido estrategias alternativas con retornos atractivos y protecci√≥n contra incidentes. Estos podr√≠an describirse como modelos de ‚Äúcarry aumentado‚Äù, ya que explotan informaci√≥n de condicionamiento adicional.</p><p>El carry trade ha sido un factor recurrente en la historia econ√≥mica argentina. Los pr√≥ximos p√°rrafos analizan las din√°micas, riesgos y costos en el contexto espec√≠fico de la econom√≠a argentina, con un enfoque particular en su impacto macroecon√≥mico y social. Se explorar√°n los per√≠odos de 1977-1981, 1991-2001, 2015-2018, as√≠ como el actual per√≠odo desde diciembre de 2023 para comprender las continuidades y particularidades del carry trade a lo largo del tiempo.</p><p>Esta operatoria ha sido invariable en la historia econ√≥mica argentina de los √∫ltimos 47 a√±os, manifest√°ndose como una estrategia recurrente de diferenciales de tasas de inter√©s y tipo de cambio. Aunque estas pr√°cticas han generado retornos elevados para ciertos sectores financieros, tambi√©n han impuesto costos significativos al pa√≠s, exacerbando la fragilidad macroecon√≥mica.</p><p>El per√≠odo 1977-1981 estuvo marcado por la implementaci√≥n de un r√©gimen de liberalizaci√≥n financiera promovido por el ministro de Econom√≠a, Jos√© Alfredo Mart√≠nez de Hoz, que sent√≥ las bases permanentes para un auge especulativo. Bajo la Reforma Financiera de 1977 (Adolfo Diz, presidente del BCRA), se implement√≥ una pol√≠tica de altas tasas de inter√©s reales con imposiciones a plazos de 7 d√≠as, para atraer capitales y sostener el tipo de cambio fijo y semifijo (tablita cambiaria).</p><p>As√≠ se generaron ganancias exorbitantes, culminando en una extraordinaria crisis cambiaria en 1981, con una devaluaci√≥n tras otra y un aumento exponencial de la deuda externa.</p><p>El desequilibrio fiscal y de cuenta corriente de la balanza de pagos del periodo se cubri√≥ con endeudamiento externo, as√≠ se repetir√≠a en el futuro, en varias oportunidades, contray√©ndose endeudamiento en una moneda que el pa√≠s no emite.</p><p>Este endeudamiento para financiar d√©ficits gemelos que ‚Äúplancha el d√≥lar‚Äù, junto con las altas tasas de inter√©s en pesos, cre√≥ un c√≠rculo vicioso que aument√≥ la vulnerabilidad a los shocks ex√≥genos (problemas internacionales, no controlables desde la Argentina).</p><p>En los a√±os '90, con la Convertibilidad, los diferenciales fueron constantes. Existe abundante y disponible bibliograf√≠a y papers sobre el periodo. A grandes rasgos, esta etapa se caracteriz√≥ por la implementaci√≥n del modelo de Convertibilidad por parte del ministro de Econom√≠a Domingo Felipe Cavallo, que fijaba ‚Äúuno a uno‚Äù (un peso igual a un d√≥lar) por Ley, el valor del peso argentino al d√≥lar estadounidense.</p><p>La influencia del modelo de Jos√© Alfredo Mart√≠nez de Hoz sobre la pol√≠tica econ√≥mica de Cavallo, era innegable, as√≠ lo reconoc√≠a el pionero. Las altas tasas de inter√©s implementadas durante la convertibilidad, junto con el financiamiento externo, crearon el escenario propicio para el carry trade por 10 a√±os.</p><p>Autores como Rapaport y Basualdo son nuestros sugeridos desde esta columna, como referencias para profundizar el an√°lisis de estos per√≠odos. Si bien durante la Convertibilidad se logr√≥ controlar la hiperinflaci√≥n, se generaron distorsiones en la econom√≠a real, como la sobrevaluaci√≥n del peso y la p√©rdida de competitividad de nuestras exportaciones, la destrucci√≥n de buena parte de la industria argentina y las pymes.</p><p>El d√©ficit fiscal se financi√≥ con un aumento de la deuda p√∫blica de 92.000 millones de d√≥lares de hace 30 a√±os. Si bien no es lo mismo el valor del d√≥lar de los a√±os noventa respecto del actual, es curioso que la velocidad de tomar prestado entre 90.000 y 100.000 millones de d√≥lares, pas√≥ de 10 a√±os con el presidente Menem a 2 a√±os con el presidente Macri y, solo 11 meses con el presidente Milei.</p><p>La crisis de la Convertibilidad parec√≠a un punto de inflexi√≥n en la historia econ√≥mica argentina, marcando el colapso del modelo. Enfoc√°ndonos en el objeto del art√≠culo, podemos decir que fue una etapa en que se evidenciaron los desajustes macroecon√≥micos derivados del carry trade.</p><p>La crisis de 2001 fue provocada en parte por la insostenibilidad del modelo de convertibilidad y la acumulaci√≥n de deuda externa, con impacto devastador en la econom√≠a argentina y en la sociedad.</p><p>El ominoso ciclo de carry trade bajo la administraci√≥n de Mauricio Macri reprodujo una din√°mica similar mediante instrumentos financieros de regulaci√≥n monetaria, como las LEBACs y un enfoque monetarista que prioriz√≥ la atracci√≥n de capitales especulativos.</p><p>Con Federico Sturzenegger en la poltrona del BCRA, se repiti√≥ la f√≥rmula ‚Äúaltas tasas de inter√©s‚Äù, utilizando instrumentos como las LEBAC para estabilizar el tipo de cambio. Reiteradamente, la inversi√≥n en LEBACs atrajo capitales especulativos que en 17 meses multiplicaron por tres el instrumento, dejando ganancias en d√≥lares de una dimensi√≥n extravagante, generando al mismo tiempo los m√°s altos d√©ficits gemelos en 35 a√±os.</p><p>Todo culmin√≥ en una crisis de confianza con una fuerte y repetida devaluaci√≥n del peso durante 2018 y 2019. El gobierno de Mauricio Macri tambi√©n recurri√≥ a elevadas tasas de inter√©s (Badlar y LEBAC) para estabilizar el tipo de cambio, lo que incentiv√≥ el carry trade. El endeudamiento externo y la reducci√≥n de controles cambiarios durante este per√≠odo amplificaron tambi√©n la vulnerabilidad a la fuga de capitales y un mayor endeudamiento externo.</p><p>Finalmente, el reciente per√≠odo bajo el gobierno de Javier Milei y Luis Caputo ha llevado el carry trade a niveles hist√≥ricos de rentabilidad, consolidando a la Argentina como uno de los mercados m√°s atractivos del mundo para estas operaciones.</p><p>Con una particularidad. Por primera vez se consum√≥ la operatoria con tasas de inter√©s reales negativas, dado el fogonazo inflacionario inicial que encubri√≥ la operatoria, haciendo pasar inadvertida una extraordinaria tasa real positiva en d√≥lares, que luc√≠a real negativa en pesos.</p><p>Recuerde que al comienzo y por largo tiempo se les pagaba a los bancos 100% a un d√≠a por el desarme de LELIQs. La tasa equivalente efectiva anual (TEA) 171,45%, tasa efectiva mensual 8,67% (TEM) con una devaluaci√≥n de 2%. Es decir, la tasa en pesos era 4,33 veces la tasa de devaluaci√≥n.</p><p>Las simulaciones sugieren que, en el actual per√≠odo, bajo un escenario de alta inflaci√≥n y tasas de inter√©s elevadas, el carry trade aun viene generando ganancias significativas en d√≥lares. Hasta noviembre, las tasas de un banco privado del sistema con la inflaci√≥n escrita en el presupuesto, generaba alrededor de 24% en d√≥lares.</p><p>Seg√∫n, GMA Capital la ‚Äúbicicleta financiera‚Äù implementada por Caputo y Milei en 2024 result√≥ la mayor rentabilidad en d√≥lares en al menos 32 a√±os, alcanzando un 45% en los primeros once meses. Claro que 45% con respecto a la tasa Badlar, porque si tomamos el apalancamiento para invertir en acciones de bancos, las cifras de ganancias ser√≠an de tres d√≠gitos en d√≥lares.</p><p>En las √∫ltimas dos semanas, la suba de los d√≥lares paralelos fue un aviso: El tipo de cambio real multilateral actual est√° 35% debajo del valor que el FMI sugiri√≥ en agosto 2023, cuando determin√≥ la viabilidad de un desembolso de 6.400 millones de d√≥lares a una devaluaci√≥n del 20% al ex ministro Massa. Para volver a ese nivel, hay que devaluar 50%. Adem√°s, en relaci√≥n con Brasil, el tipo de cambio real bilateral ha alcanzado niveles m√≠nimos desde la explosi√≥n del plan de Convertibilidad.</p><p>M√°s all√° de los costos macroecon√≥micos, el carry trade tiene un impacto social negativo. Fomenta la dependencia del capital especulativo a corto plazo, en detrimento de la inversi√≥n productiva y el desarrollo a largo plazo. Los beneficios se concentran en sectores financieros y especulativos, mientras que los costos se distribuyen en la sociedad a trav√©s de la inflaci√≥n, la devaluaci√≥n y las crisis recurrentes.</p><p>Para evitar el c√≠rculo vicioso del carry trade, Argentina necesita buscar fuentes de financiamiento alternativas al capital especulativo, como la (IEDS) ‚Äúinversi√≥n extranjera directa sustentable‚Äù (Karl Sauvant) y el desarrollo de mercados de capitales locales. Es necesario fomentar la estabilidad macroecon√≥mica y reducir la volatilidad cambiaria para desalentar la especulaci√≥n, priorizando el desarrollo econ√≥mico sostenible y la reducci√≥n de la desigualdad por encima de las ganancias financieras de inmediatez novelesca.</p><p>El carry trade, adem√°s, al atraer capitales especulativos de corto plazo, genera un vaciado de divisas a trav√©s de la fuga de capitales. Esto se debe a que los inversores buscan obtener ganancias r√°pidas y luego retiran sus fondos, debilitando el peso argentino.</p><p>Para concluir, recuerde que la emisi√≥n de LEBAC y LELIQ para sostener las altas tasas de inter√©s incrementaron el llamado d√©ficit cuasifiscal. Esto va a representar en el futuro un costo adicional para el Estado y los contribuyentes, por el hecho de haberse estatizado la deuda del BCRA con el sistema financiero, endos√°ndosela al Tesoro. En art√≠culos anteriores hemos advertido como esta decisi√≥n de las autoridades, en adelante puede comprometer la sostenibilidad de las finanzas p√∫blicas.</p><p>El carry trade, si bien puede generar ganancias a corto plazo para ciertos sectores, tiene altos costos econ√≥micos para Argentina. Estos costos incluyen:</p><p>Desequilibrios fiscales</p><p>Aumento del d√©ficit cuasifiscal</p><p>Endeudamiento externo</p><p>Fuga de capitales</p><p>Vulnerabilidad a crisis cambiarias</p><p>Crisis cambiarias recurrentes</p><p>Altas tasas de inter√©s activas que perjudican a la industria y las Pymes</p><p>Pol√≠ticas de liberalizaci√≥n financiera que paralizan la actividad y la inversi√≥n</p><p>Desempleo</p><p>Ca√≠da del salario</p><p>Pobreza e indigencia</p><p>Profundizaci√≥n de la desigualdad, entre otras muchas cuestiones.</p><p>Es importante destacar y repetir, que la sostenibilidad del carry trade es fr√°gil y depende de factores externos e internos que pueden cambiar r√°pidamente. Romper el c√≠rculo implica reducir la dependencia del capital financiero externo de corto plazo y buscar fuentes de financiamiento m√°s estables y de largo plazo.</p><p>Actualmente, la deuda externa privada volvi√≥ a constituirse como una alternativa expl√≠cita para atraer d√≥lares, lo que ha incentivado a las empresas a tomar cr√©dito en d√≥lares en el mercado internacional. Esta estrategia, de endeudamiento en moneda extranjera, puede hacerse insostenible si el carry trade se utiliza para inversiones no productivas que no generen ingresos en d√≥lares.</p><p>En nuestro √∫ltimo libro en desarrollo, nominado interinamente La segunda d√©cada infame, periodizaremos 2015-2025, dos gestiones de las cuales Luis Caputo y otros miembros de su actual equipo y el Poder Ejecutivo jugaron un papel clave.</p><p>Estos funcionarios explicaron en tres a√±os de gesti√≥n m√°s del 40% de la deuda p√∫blica argentina total, tomando compromisos por alrededor de 200.000 millones de d√≥lares nuevos. Solo desde 2015 a 2019, la relaci√≥n deuda/PBI pas√≥ del 49% en diciembre de 2015 al 94% en septiembre de 2019, seg√∫n datos del Cippec.</p><p>*Director de Fundaci√≥n Esperanza. M√°ster en Pol√≠tica Econ√≥mica Internacional, Doctor en Ciencia Pol√≠tica. Autor de 6 libros.</p><p></p><p></p><p></p>
        </div>
        <br><br><br>
            <div style="display: none;">
                <label for="voiceSelect">Seleccionar voz:</label>
                <select id="voiceSelect"></select>
            </div>
            <div class="controls">
                <button onclick="startReading()" id="playButton">
                    üîä Leer
                </button>
                <button onclick="pauseReading()" id="pauseButton" disabled style="display: none;">
                    ‚è∏Ô∏è Pausar
                </button>
                <button onclick="resumeReading()" id="resumeButton" disabled style="display: none;">
                    ‚ñ∂Ô∏è Continuar
                </button>
                <button onclick="stopReading()" id="stopButton" disabled>
                    ‚èπÔ∏è Detener
                </button>
            </div>
            <div id="progress" style="display: none;"></div>
        <br><br><br>
        <button class="btnL" onclick="compartir()">Compartir</button>
        <br><br><br>
        <button class="btnL" onclick="window.location.href='https://www.pagina12.com.ar/794288-la-bicicleta-financiera-en-argentina-una-nutrida-historia-de'">Ver en web original</button>
        <br><br><br>
        <!-- <button class="btnL" onclick="window.location.href='https://matenews.github.io/MateNews/'">Volver a la p√°gina principal</button>
        <br><br><br> -->


        <script>
            function compartir() {
            if (navigator.share) {
                navigator.share({
                title: 'La bicicleta financiera en Argentina, una nutrida historia de auge y crisis. Carry trade modelo 2024. ', // Opcional, pero recomendado     
                text: 'La bicicleta financiera en Argentina, una nutrida historia de auge y crisis. Carry trade modelo 2024. ',  // Opcional
                url: 'https://www.pagina12.com.ar/794288-la-bicicleta-financiera-en-argentina-una-nutrida-historia-de'
                })
                .then(() => console.log('Contenido compartido exitosamente'))
                .catch((error) => console.error('Error al compartir:', error));
            } else {
                // C√≥digo alternativo si la API Web Share no est√° disponible
                console.log("Web Share API no soportada");
                // Puedes usar aqu√≠ la opci√≥n 2 (botones personalizados con JavaScript) de mi respuesta anterior
            }
            }
        </script>


        <script>
            let speechSynthesis = window.speechSynthesis;
            let currentUtterance = null;
            let isPaused = false;
            let isReading = false;
            let textBlocks = [];
            let currentBlockIndex = 0;
            let lastSpokenIndex = 0;
            const BLOCK_SIZE = 800;

            function updateButtons(speaking) {
                document.getElementById('playButton').disabled = speaking;
                document.getElementById('pauseButton').disabled = !speaking;
                document.getElementById('resumeButton').disabled = !isPaused;
                document.getElementById('stopButton').disabled = !speaking;
            }

            function updateProgress() {
                const progressDiv = document.getElementById('progress');
                if (isReading) {
                    progressDiv.textContent = `Leyendo bloque ${currentBlockIndex + 1} de ${textBlocks.length}`;
                } else {
                    progressDiv.textContent = '';
                }
            }

            function splitIntoBlocks(text) {
                // Dividir el texto en oraciones usando puntuaci√≥n com√∫n
                const sentences = text.replace(/([.!?])\s+/g, "$1|").split("|");

                let blocks = [];
                let currentBlock = '';

                sentences.forEach(sentence => {
                    // Si la oraci√≥n es muy larga, dividirla en la coma m√°s cercana al BLOCK_SIZE
                    if (sentence.length > BLOCK_SIZE) {
                        let subSentences = sentence.replace(/,\s+/g, ",|").split("|");
                        subSentences.forEach(subSentence => {
                            if (currentBlock.length + subSentence.length > BLOCK_SIZE) {
                                if (currentBlock) blocks.push(currentBlock.trim());
                                currentBlock = subSentence;
                            } else {
                                currentBlock += (currentBlock ? ' ' : '') + subSentence;
                            }
                        });
                    } else {
                        if (currentBlock.length + sentence.length > BLOCK_SIZE) {
                            blocks.push(currentBlock.trim());
                            currentBlock = sentence;
                        } else {
                            currentBlock += (currentBlock ? ' ' : '') + sentence;
                        }
                    }
                });

                if (currentBlock) blocks.push(currentBlock.trim());
                return blocks;
            }

            function speakBlock(index) {
                if (index >= textBlocks.length) {
                    isReading = false;
                    updateButtons(false);
                    updateProgress();
                    return;
                }

                currentUtterance = new SpeechSynthesisUtterance(textBlocks[index]);
                currentUtterance.rate = parseFloat(1.3);
                lastSpokenIndex = index;


                currentUtterance.onend = function() {
                    if (isReading && !isPaused) {
                        currentBlockIndex++;
                        updateProgress();
                        speakBlock(currentBlockIndex);
                    }
                };

                currentUtterance.onerror = function(event) {
                    console.error('Error en la lectura:', event);
                    isReading = false;
                    updateButtons(false);
                    updateProgress();
                };

                speechSynthesis.speak(currentUtterance);
            }

            function startReading() {
                const text = document.getElementById('texto').innerText;
                if (!text) return;

                // Detener cualquier lectura previa
                stop();

                // Preparar nueva lectura
                textBlocks = splitIntoBlocks(text);
                currentBlockIndex = 0;
                isReading = true;
                isPaused = false;

                updateButtons(true);
                updateProgress();
                speakBlock(currentBlockIndex);
            }

            function pause() {
                speechSynthesis.pause();
                isPaused = true;
                updateButtons(true);
            }

            function resume() {
                speechSynthesis.resume();
                isPaused = false;
                updateButtons(true);
            }

            function stop() {
                speechSynthesis.cancel();
                isReading = false;
                isPaused = false;
                currentBlockIndex = 0;
                updateButtons(false);
                updateProgress();
            }

            function pauseReading() {
                if (!isReading) return;

                speechSynthesis.pause();
                isPaused = true;
                isReading = false;
                updateButtons(true);
                updateProgress();
            }

            function resumeReading() {
                if (!isPaused) return;

                isPaused = false;
                isReading = true;

                // Si el utterance actual ya termin√≥, comenzar con el siguiente bloque
                if (lastSpokenIndex === currentBlockIndex) {
                    currentBlockIndex++;
                }

                updateButtons(true);
                updateProgress();

                // Si hay un utterance pausado, resumirlo
                if (speechSynthesis.paused) {
                    speechSynthesis.resume();
                } else {
                    // Si no hay utterance pausado, comenzar desde el bloque actual
                    speakBlock(currentBlockIndex);
                }
            }

            function stopReading() {
                speechSynthesis.cancel();
                finishReading();
            }

            function finishReading() {
                isReading = false;
                isPaused = false;
                currentBlockIndex = 0;
                lastSpokenIndex = -1;
                currentUtterance = null;
                updateButtons(false);
                updateProgress();
            }

        </script>        

        <script>

            var elem = document.documentElement;
            var fullscreenButton = document.getElementById("fullscreenButton");
            var fullscreenIcon = document.getElementById("fullscreenIcon");

            fullscreenButton.addEventListener("click", function() {
            if (document.fullscreenElement || document.mozFullScreenElement || document.webkitFullscreenElement || document.msFullscreenElement) {
                if (document.exitFullscreen) {
                document.exitFullscreen();
                } else if (document.mozCancelFullScreen) { /* Firefox */
                document.mozCancelFullScreen();
                } else if (document.webkitExitFullscreen) { /* Chrome, Safari and Opera */
                document.webkitExitFullscreen();
                } else if (document.msExitFullscreen) { /* IE/Edge */
                document.msExitFullscreen();
                }
            } else {
                if (elem.requestFullscreen) {
                elem.requestFullscreen();
                } else if (elem.mozRequestFullScreen) { /* Firefox */
                elem.mozRequestFullScreen();
                } else if (elem.webkitRequestFullscreen) { /* Chrome, Safari and Opera */
                elem.webkitRequestFullscreen();
                } else if (elem.msRequestFullscreen) { /* IE/Edge */
                elem.msRequestFullscreen();
                }
            }
            });

            document.addEventListener('fullscreenchange', (event) => {
            if (!document.fullscreenElement) {
                fullscreenIcon.innerHTML = '<path d="M5 5h5v5H5zM14 5h5v5h-5zM5 14h5v5H5zM14 14h5v5h-5z"/>';
            } else {
                fullscreenIcon.innerHTML = '<path d="M7 14H5v5h5v-2H7v-3zm-2-4h2V7h3V5H5v5zm12 7h-3v2h5v-5h-2v3zM14 5v2h3v3h2V5h-5z"/>';
            }
            });
        </script>

    </body>
    </html>