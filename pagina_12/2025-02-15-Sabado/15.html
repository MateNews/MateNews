<!DOCTYPE html>
    <html lang="es">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>Siglo XX, cambalache. Lindas vacaciones. </title>
        <style>
            body {
                max-width: 800px;
                margin: auto;
                padding: 5%;
            }
            .btnL {
                background: #d1d1d1;
                border-radius: 7px;
                padding: 18px;
                min-width: 100%;
                color: #000000;
                font-size: medium;
                min-height: 70px;
            }
            button {
                background-color: #d1d1d1;
                color: white;
                padding: 10px 20px;
                border: none;
                border-radius: 4px;
                cursor: pointer;
                margin: 5px;
            }
            button:disabled {
                background-color: #d1d1d1;
                cursor: not-available;
            }
            button:hover:not(:disabled) {
                background-color: #d1d1d1;
            }
            #voiceSelect {
                margin: 10px 0;
                padding: 5px;
            }
            .controls {
                margin: 10px 0;
            }

            #fullscreenButton {
                position: fixed;
                top: 20px;
                right: 20px;
                padding: 10px;
                background-color: transparent;
                border: none;
                cursor: pointer;
                border-radius: 5px;
            }

            #fullscreenIcon {
                width: 24px;
                height: 24px;
            }

        </style>
    </head>
    <body>
        <button id="fullscreenButton">
        <svg id="fullscreenIcon" viewBox="0 0 24 24" fill="currentColor">
            <path d="M5 5h5v5H5zM14 5h5v5h-5zM5 14h5v5H5zM14 14h5v5h-5z"/>
        </svg>
        </button>

        <div id="texto">
            <h1>Siglo XX, cambalache. Lindas vacaciones. </h1>
            <p>Lindas vacaciones</p><p></p><p>Quizás  recuerde usted, querido lector, que la semana pasada le conté que comencé el mes de febrero llamando un tanto apresuradamente al Licenciado A., quien, tras escucharme (presumo que atentamente, pero eso solo él lo sabe), me sugirió unas vacaciones. Y que yo le expliqué que me era muy difícil tomarlas, porque adonde yo me iría gustoso de vacaciones era… ¡al siglo XX!</p><p>Así terminaba esa columna, aunque prometía continuación.</p><p>Y ocurrió que en la semana varios varias y varies lectores me preguntaron cómo se hacía para ir, si aceptaba acompañantes, dónde se sacaban los pasajes, y ninguno me preguntó el costo. Calculo que es porque todos habrán hecho la cuenta de que, por caro que fuera ir al siglo XX, este siglo XXI es mucho más caro, sobre todo si sos nativo del XX y migraste. Es más, no me extrañaría que algún Trump de ciencia ficción propusiera enviar de vuelta a nuestra casa a todos los que emigramos del siglo XX. Si tal fuera el caso, no sé si estaría mal la idea…</p><p>Pero, como siempre trato de cumplir la palabra empeñada (frase y costumbre del siglo XX: ahora, por la palabra, no te dan nada en una casa de empeños), continuaré el diálogo con el Licenciado A.</p><p>–¿En serio quiere ir, Rudy? ¿Usted, en sus vacaciones, por casualidad vio Medianoche en París, la peli de Woody Allen donde cada uno regresaba a tiempos ilusoriamente mejores, pero que a los de ese tiempo no les gustaban tanto?</p><p>–La vi en el cine, Licenciado, hace como 14 años, en 2011. ¡Ay, no me haga acordar del 2011, Licenciado, que me pongo a llorar lágrimas de patria grande latinoamericana, derechos, ilusiones y los sueldos más altos del continente en dólares!</p><p>–Bueno, Rudy. Pero fijesé: el 2011 ya era siglo XXI.</p><p>–¡Para usted!  ¡Para mí, el siglo XX terminó en 1989, y el XXI comenzó en la pandemia! Los 30 años del medio fueron el tiempo que le llevó a la gente viajar de un siglo al otro, acomodar sus presupuestos, tirar el deseo por la ventana, volverse ávatar, transformar a los amigos en contactos y a los amores en “match", "tachangous" o algo así; a los cines, en celulares, y a los padres, en electrodomésticos.</p><p>–¡Pero mire que en ese siglo XX estuvieron la Shoá, el genocidio contra los armenios, la dictadura, Hiroshima!</p><p>–Bueno, pero cuando uno va de vacaciones, elige qué partes visita y qué partes no; si yo iba del 45 al 89, de paso me veía a mí mismo de chico, volvía a comer el pan con manteca y anchoas que hacía mi abuela, jugaba al fútbol de mesa con mis primos, veía a Piluso, Pepe BIondi,  Niní Marshall y Gila; jugaba a la pelota, miraba Sábados de Superacción, juntaba figuritas…</p><p>–Ah, pero entonces lo que usted quiere es volver a la niñez.</p><p>–No me psicoanalice, Licenciado.</p><p>–Ejem… Le recuerdo que soy su analista.</p><p>–Sí, pero ahora está usted volviendo de sus vacaciones, y yo, yéndome. Yo no quiero volver a mi niñez, porque nunca me fui de ella, la traje conmigo al siglo XXI, pero la verdad, para ser chico era mejor el siglo XX.</p><p>–¿Por qué?</p><p>–Porque en el siglo XX eras un chico, o, como decía Gila, “un loco bajito”, y ahora sos “un cliente de baja estatura y poca liquidez, pero potencialmente transformable en un gran deudor, que además suele tener garantes que acceden a sus demandas, llamados progenitores”.</p><p>–Bueno, a ver, ¿y antes del siglo XX, no le da curiosidad?</p><p>–Lo pensé, Licenciado, pero mire: a la Edad de Piedra no iba a ir, porque, qué sé yo, un humorista al que le gusta hablar de psicoanálisis no es el mejor integrante de una tribu pleistocénica. Y en Egipto me hubiera tocado de esclavo, en Babilonia también; en Grecia, de “enemigo” y en Roma... me tiraban a los leones.</p><p>–Rudy, a los que tiraban a los leones era a los cristianos, y usted, que yo sepa, es judío.</p><p>–Licenciado, ¿usted cree que los poderosos van a tener esa sutileza a la hora de descartar gente? ¿De verdad cree que los nazis, si no fuera que estaban ahí los judíos, no hubieran matado a nadie? Nooo, licenciado, los leones tienen que comer igual, y los poderosos necesitan un enemigo débil, a veces inexistente, un fantasma al cual echarle la culpa de todo y contra el cual “armar una identidad, unir a la gente”, por nefasto que parezca y sea… A lo sumo, les hubieran dicho: “Perdonus, leónibus, hoy non aviamo multos cristianorum, les ofrecemos iudíus a la circensis”, y los leones, que yo sepa, no comen kasher, tampoco.</p><p>–Bueno, Rudy…, hubo otros tiempos.</p><p>–Sí, Licenciado, hubo un tiempo que fue hermoso y fui libre de verdad, pero ¿en serio? ¿Adónde quiere que vaya? ¿A las Cruzadas, con los cristianos y musulmanes matándose unos a otros, y yo de vacaciones en el medio? ¿Al tiempo de la Inquisición, a explicarle a Fray Torquemada no solamente que soy judío sino que vengo del siglo XX? ¿A la Revolución francesa, a ser un pobre que se moría de hambre, o un “clase media” al que confundían con un noble, y por más Freud que les recitases te guillotinaban igual?  ¿Le parece que da para irme todo junto de vacaciones y volver con la cabeza por un  lado y el cuerpo por el otro?</p><p>–Bueno, Rudy, eso no estaría fuera de época en estos tiempos. ¿No notó usted que mucha gente parece como si estuviera escindida y, por ejemplo, cuando va a votar va el cuerpo solo y se deja la cabeza olvidada?</p><p>–Licenciado, no sea prejuicioso. Ahora la gente no usa más la cabeza porque para eso tiene el celular.</p><p>–Rudy, ¿no le gustaría haber conocido a Napoleón?</p><p>–Ay, Licenciado, se ve que usted no conoce el chiste. Mire: “Dicen que los científicos logran resucitar a Napoleón, y para celebrarlo hacen una gran conferencia, a la cual van los líderes de todo el mundo. Entonces Napoleón cuenta su historia, su gran performance como conquistador, y su derrota final en Waterloo. Y entonces dice Trump: 'Si hubieras tenido mis armas, no te hubieran derrotado'. Y dice Putin: 'Si hubieras tenido mi ejército, no te hubieran derrotado', y dice el líder chino: 'Si hubieras tenido mi tecnología, no te hubieran derrotado'. Y dice finalmente nuestro primer autoritario electo: 'Si hubieras tenido mis armas, mi ejército y mi tecnología, te hubieran derrotado, pero, con mis medios hegemónicos de comunicación, no se hubiera enterado nadie'".</p><p>–Okey, Rudy, ya veo, usted quiere rescatar otros valores.</p><p>–Sí, Licenciado: el cine los grandes directores del siglo XX, la literatura, la discusión política, los clubes, los asados en serio, el debate sobre lo que sea, las ilusiones aunque sean fallidas, la diferencia entre ficción y realidad...</p><p>–Pero Rudy, en el siglo XX también se mataba, se robaba y se mentía.</p><p>–¡Pero estaba mal, Licenciado!; ¡¡¡estaba mal!!!</p><p>Sugiero acompañar esta columna con el video de Rudy –Sanz “Nos lavan la cabeza”</p><p></p><p></p>
        </div>
        <br><br><br>
            <div style="display: none;">
                <label for="voiceSelect">Seleccionar voz:</label>
                <select id="voiceSelect"></select>
            </div>
            <div class="controls">
                <button onclick="startReading()" id="playButton">
                    🔊 Leer
                </button>
                <button onclick="pauseReading()" id="pauseButton" disabled style="display: none;">
                    ⏸️ Pausar
                </button>
                <button onclick="resumeReading()" id="resumeButton" disabled style="display: none;">
                    ▶️ Continuar
                </button>
                <button onclick="stopReading()" id="stopButton" disabled>
                    ⏹️ Detener
                </button>
            </div>
            <div id="progress" style="display: none;"></div>
        <br><br><br>
        <button class="btnL" onclick="compartir()">Compartir</button>
        <br><br><br>
        <button class="btnL" onclick="window.location.href='https://www.pagina12.com.ar/804202-siglo-xx-cambalache'">Ver en web original</button>
        <br><br><br>
        <!-- <button class="btnL" onclick="window.location.href='https://matenews.github.io/MateNews/'">Volver a la página principal</button>
        <br><br><br> -->


        <script>
            function compartir() {
            if (navigator.share) {
                navigator.share({
                title: 'Siglo XX, cambalache. Lindas vacaciones. ', // Opcional, pero recomendado     
                text: 'Siglo XX, cambalache. Lindas vacaciones. ',  // Opcional
                url: 'https://www.pagina12.com.ar/804202-siglo-xx-cambalache'
                })
                .then(() => console.log('Contenido compartido exitosamente'))
                .catch((error) => console.error('Error al compartir:', error));
            } else {
                // Código alternativo si la API Web Share no está disponible
                console.log("Web Share API no soportada");
                // Puedes usar aquí la opción 2 (botones personalizados con JavaScript) de mi respuesta anterior
            }
            }
        </script>


        <script>
            let speechSynthesis = window.speechSynthesis;
            let currentUtterance = null;
            let isPaused = false;
            let isReading = false;
            let textBlocks = [];
            let currentBlockIndex = 0;
            let lastSpokenIndex = 0;
            const BLOCK_SIZE = 800;

            function updateButtons(speaking) {
                document.getElementById('playButton').disabled = speaking;
                document.getElementById('pauseButton').disabled = !speaking;
                document.getElementById('resumeButton').disabled = !isPaused;
                document.getElementById('stopButton').disabled = !speaking;
            }

            function updateProgress() {
                const progressDiv = document.getElementById('progress');
                if (isReading) {
                    progressDiv.textContent = `Leyendo bloque ${currentBlockIndex + 1} de ${textBlocks.length}`;
                } else {
                    progressDiv.textContent = '';
                }
            }

            function splitIntoBlocks(text) {
                // Dividir el texto en oraciones usando puntuación común
                const sentences = text.replace(/([.!?])\s+/g, "$1|").split("|");

                let blocks = [];
                let currentBlock = '';

                sentences.forEach(sentence => {
                    // Si la oración es muy larga, dividirla en la coma más cercana al BLOCK_SIZE
                    if (sentence.length > BLOCK_SIZE) {
                        let subSentences = sentence.replace(/,\s+/g, ",|").split("|");
                        subSentences.forEach(subSentence => {
                            if (currentBlock.length + subSentence.length > BLOCK_SIZE) {
                                if (currentBlock) blocks.push(currentBlock.trim());
                                currentBlock = subSentence;
                            } else {
                                currentBlock += (currentBlock ? ' ' : '') + subSentence;
                            }
                        });
                    } else {
                        if (currentBlock.length + sentence.length > BLOCK_SIZE) {
                            blocks.push(currentBlock.trim());
                            currentBlock = sentence;
                        } else {
                            currentBlock += (currentBlock ? ' ' : '') + sentence;
                        }
                    }
                });

                if (currentBlock) blocks.push(currentBlock.trim());
                return blocks;
            }

            function speakBlock(index) {
                if (index >= textBlocks.length) {
                    isReading = false;
                    updateButtons(false);
                    updateProgress();
                    return;
                }

                currentUtterance = new SpeechSynthesisUtterance(textBlocks[index]);
                currentUtterance.rate = parseFloat(1.3);
                lastSpokenIndex = index;


                currentUtterance.onend = function() {
                    if (isReading && !isPaused) {
                        currentBlockIndex++;
                        updateProgress();
                        speakBlock(currentBlockIndex);
                    }
                };

                currentUtterance.onerror = function(event) {
                    console.error('Error en la lectura:', event);
                    isReading = false;
                    updateButtons(false);
                    updateProgress();
                };

                speechSynthesis.speak(currentUtterance);
            }

            function startReading() {
                const text = document.getElementById('texto').innerText;
                if (!text) return;

                // Detener cualquier lectura previa
                stop();

                // Preparar nueva lectura
                textBlocks = splitIntoBlocks(text);
                currentBlockIndex = 0;
                isReading = true;
                isPaused = false;

                updateButtons(true);
                updateProgress();
                speakBlock(currentBlockIndex);
            }

            function pause() {
                speechSynthesis.pause();
                isPaused = true;
                updateButtons(true);
            }

            function resume() {
                speechSynthesis.resume();
                isPaused = false;
                updateButtons(true);
            }

            function stop() {
                speechSynthesis.cancel();
                isReading = false;
                isPaused = false;
                currentBlockIndex = 0;
                updateButtons(false);
                updateProgress();
            }

            function pauseReading() {
                if (!isReading) return;

                speechSynthesis.pause();
                isPaused = true;
                isReading = false;
                updateButtons(true);
                updateProgress();
            }

            function resumeReading() {
                if (!isPaused) return;

                isPaused = false;
                isReading = true;

                // Si el utterance actual ya terminó, comenzar con el siguiente bloque
                if (lastSpokenIndex === currentBlockIndex) {
                    currentBlockIndex++;
                }

                updateButtons(true);
                updateProgress();

                // Si hay un utterance pausado, resumirlo
                if (speechSynthesis.paused) {
                    speechSynthesis.resume();
                } else {
                    // Si no hay utterance pausado, comenzar desde el bloque actual
                    speakBlock(currentBlockIndex);
                }
            }

            function stopReading() {
                speechSynthesis.cancel();
                finishReading();
            }

            function finishReading() {
                isReading = false;
                isPaused = false;
                currentBlockIndex = 0;
                lastSpokenIndex = -1;
                currentUtterance = null;
                updateButtons(false);
                updateProgress();
            }

        </script>        

        <script>

            var elem = document.documentElement;
            var fullscreenButton = document.getElementById("fullscreenButton");
            var fullscreenIcon = document.getElementById("fullscreenIcon");

            fullscreenButton.addEventListener("click", function() {
            if (document.fullscreenElement || document.mozFullScreenElement || document.webkitFullscreenElement || document.msFullscreenElement) {
                if (document.exitFullscreen) {
                document.exitFullscreen();
                } else if (document.mozCancelFullScreen) { /* Firefox */
                document.mozCancelFullScreen();
                } else if (document.webkitExitFullscreen) { /* Chrome, Safari and Opera */
                document.webkitExitFullscreen();
                } else if (document.msExitFullscreen) { /* IE/Edge */
                document.msExitFullscreen();
                }
            } else {
                if (elem.requestFullscreen) {
                elem.requestFullscreen();
                } else if (elem.mozRequestFullScreen) { /* Firefox */
                elem.mozRequestFullScreen();
                } else if (elem.webkitRequestFullscreen) { /* Chrome, Safari and Opera */
                elem.webkitRequestFullscreen();
                } else if (elem.msRequestFullscreen) { /* IE/Edge */
                elem.msRequestFullscreen();
                }
            }
            });

            document.addEventListener('fullscreenchange', (event) => {
            if (!document.fullscreenElement) {
                fullscreenIcon.innerHTML = '<path d="M5 5h5v5H5zM14 5h5v5h-5zM5 14h5v5H5zM14 14h5v5h-5z"/>';
            } else {
                fullscreenIcon.innerHTML = '<path d="M7 14H5v5h5v-2H7v-3zm-2-4h2V7h3V5H5v5zm12 7h-3v2h5v-5h-2v3zM14 5v2h3v3h2V5h-5z"/>';
            }
            });
        </script>

    </body>
    </html>