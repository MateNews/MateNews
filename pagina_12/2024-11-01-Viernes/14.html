<!DOCTYPE html>
    <html lang="es">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>Un Halloween de terror en Orlando. Un tiroteo en una multitudinaria fiesta dejo al menos dos muertos y seis heridos. </title>
        <style>
            body {
                max-width: 800px;
                margin: auto;
                padding: 5%;
            }
            .btnL {
                background: #d1d1d1;
                border-radius: 7px;
                padding: 18px;
                min-width: 100%;
                color: #000000;
                font-size: medium;
                min-height: 70px;
            }
            button {
                background-color: #d1d1d1;
                color: white;
                padding: 10px 20px;
                border: none;
                border-radius: 4px;
                cursor: pointer;
                margin: 5px;
            }
            button:disabled {
                background-color: #d1d1d1;
                cursor: not-available;
            }
            button:hover:not(:disabled) {
                background-color: #d1d1d1;
            }
            #voiceSelect {
                margin: 10px 0;
                padding: 5px;
            }
            .controls {
                margin: 10px 0;
            }
        </style>
    </head>
    <body>
        <div id="texto">
            <h1>Un Halloween de terror en Orlando. Un tiroteo en una multitudinaria fiesta dejo al menos dos muertos y seis heridos. </h1>
            <p>Un tiroteo en una multitudinaria fiesta dejo al menos dos muertos y seis heridos</p><p>La policía detuvo a un joven de 17 años sospechado de disparar en el evento de 100.000 personas.</p><p>Todo lo resuelven con más policía</p><p>Este viernes por la noche, el centro de Orlando festejaba Halloween cuando de repente la noche se convirtió en una verdadera escena de caos y terror. A la 1 am comenzó una balacera que dejó un saldo de dos personas muertas y seis heridas. Al escuchar los disparos, las miles de personas que participaban de la fiesta por la tradicional noche de brujas, comenzaron a correr en busca de refugio, mientras los oficiales en el lugar se dirigían hacia el atacante. Por la tragedia se sospecha de un joven de 17 años identificado como Jaylen Dwayne Edgar, que fue arrestado poco después del suceso y enfrenta graves cargos por su implicación.</p><p>La zona estaba colmada: se calcula que había entre 50.000 y 100.000 personas celebrando Halloween. Eric Smith, el jefe de policía de Orlando, dio una conferencia de prensa donde informó que los primero disparos informados sucedieron en la intersección de Central Boulevard y Orange Avenue. La policía acudió rápidamente y se registró un segundo tiroteo en Washington Street y Orange Avenue, una cuadra al norte del primer lugar.</p><p>"Al principio pensamos que era la música, hasta que todos se pusieron a cubierto", comentó un testigo. Smith indicó que Jaylen Dwayne Edgar fue capturado luego de disparar en dos ocasiones contra la multitud. En el lugar del arresto se recuperó una pistola y por el momento no hay otros sospechosos. La policía ya había reforzado la vigilancia y los controles, donde había más de 100 oficiales patrullando entre las multitudes.</p><p>"Están siempre entrenados y listos para actuar", comentó Smith y agregó que "apenas escucharon los disparos, ninguno se fue en dirección contraria ni se unió a la multitud". Al mismo tiempo, felicitó y agradeció a los agentes quienes "evaluaron rápidamente la situación y luego se movieron para proteger a todos los demás".</p><p>Tras el tiroteo, las autoridades están considerando intensificar aún más la presencia policial durante el fin de semana, para evitar otro episodio violento. Este viernes continuaba la investigación para saber los motivos detrás del ataque, mientras que las personas heridas, cuyas edades van entre 19 y 39 años, fueron trasladadas al Orlando Regional Medical Center (ORMC) y se encontraban estables.</p><p>Trascendieron a la prensa dos videos del momento del tiroteo, en el que se ve el accionar policial. En uno de ellos se puede ver al detenido caminando entre la multitud, sacar su arma y disparar a quemarropa contra una persona desprevenida. Las personas comenzaron a alertarse y la situación se torno caótica.</p><p>El otro video muestra el segundo tiroteo, en el que Edgar vuelve a disparar hacia un grupo de personas cerca de un patrullero de la policía. Se ve como un policía que estaba cerca localizó al adolescente armado, lo interceptó y lo tiró al piso. Inmediatamente otros policías se sumaron a la acción. Edgar ya tiene antecedentes: en 2023, fue detenido bajo sospecha de robo de vehículo. Su historial delictivo podría influir en la decisión de la fiscalía estatal de Florida sobre si será juzgado como adulto, una posibilidad que Andrew Baine, fiscal estatal, mencionó tras el ataque. Baine aseguró que dicha decisión se tomará en función de los detalles que se recopilen en los próximos días.</p><p></p>
        </div>
        <br><br><br>
            <div style="display: none;">
                <label for="voiceSelect">Seleccionar voz:</label>
                <select id="voiceSelect"></select>
            </div>
            <div class="controls">
                <button onclick="startReading()" id="playButton">
                    🔊 Leer
                </button>
                <button onclick="pauseReading()" id="pauseButton" disabled style="display: none;">
                    ⏸️ Pausar
                </button>
                <button onclick="resumeReading()" id="resumeButton" disabled style="display: none;">
                    ▶️ Continuar
                </button>
                <button onclick="stopReading()" id="stopButton" disabled>
                    ⏹️ Detener
                </button>
            </div>
            <div id="progress" style="display: none;"></div>
        <br><br><br>
        <button class="btnL" onclick="compartir()">Compartir</button>
        <br><br><br>
        <button class="btnL" onclick="window.location.href='https://www.pagina12.com.ar/779588-un-halloween-de-terror-en-orlando'">Ver en web original</button>
        <br><br><br>
        <!-- <button class="btnL" onclick="window.location.href='https://matenews.github.io/MateNews/'">Volver a la página principal</button>
        <br><br><br> -->


        <script>
            function compartir() {
            if (navigator.share) {
                navigator.share({
                title: 'Un Halloween de terror en Orlando. Un tiroteo en una multitudinaria fiesta dejo al menos dos muertos y seis heridos. ', // Opcional, pero recomendado     
                text: 'Un Halloween de terror en Orlando. Un tiroteo en una multitudinaria fiesta dejo al menos dos muertos y seis heridos. ',  // Opcional
                url: 'https://www.pagina12.com.ar/779588-un-halloween-de-terror-en-orlando'
                })
                .then(() => console.log('Contenido compartido exitosamente'))
                .catch((error) => console.error('Error al compartir:', error));
            } else {
                // Código alternativo si la API Web Share no está disponible
                console.log("Web Share API no soportada");
                // Puedes usar aquí la opción 2 (botones personalizados con JavaScript) de mi respuesta anterior
            }
            }
        </script>


        <script>
            let speechSynthesis = window.speechSynthesis;
            let currentUtterance = null;
            let isPaused = false;
            let isReading = false;
            let textBlocks = [];
            let currentBlockIndex = 0;
            let lastSpokenIndex = 0;
            const BLOCK_SIZE = 800;

            function updateButtons(speaking) {
                document.getElementById('playButton').disabled = speaking;
                document.getElementById('pauseButton').disabled = !speaking;
                document.getElementById('resumeButton').disabled = !isPaused;
                document.getElementById('stopButton').disabled = !speaking;
            }

            function updateProgress() {
                const progressDiv = document.getElementById('progress');
                if (isReading) {
                    progressDiv.textContent = `Leyendo bloque ${currentBlockIndex + 1} de ${textBlocks.length}`;
                } else {
                    progressDiv.textContent = '';
                }
            }

            function splitIntoBlocks(text) {
                // Dividir el texto en oraciones usando puntuación común
                const sentences = text.replace(/([.!?])\s+/g, "$1|").split("|");

                let blocks = [];
                let currentBlock = '';

                sentences.forEach(sentence => {
                    // Si la oración es muy larga, dividirla en la coma más cercana al BLOCK_SIZE
                    if (sentence.length > BLOCK_SIZE) {
                        let subSentences = sentence.replace(/,\s+/g, ",|").split("|");
                        subSentences.forEach(subSentence => {
                            if (currentBlock.length + subSentence.length > BLOCK_SIZE) {
                                if (currentBlock) blocks.push(currentBlock.trim());
                                currentBlock = subSentence;
                            } else {
                                currentBlock += (currentBlock ? ' ' : '') + subSentence;
                            }
                        });
                    } else {
                        if (currentBlock.length + sentence.length > BLOCK_SIZE) {
                            blocks.push(currentBlock.trim());
                            currentBlock = sentence;
                        } else {
                            currentBlock += (currentBlock ? ' ' : '') + sentence;
                        }
                    }
                });

                if (currentBlock) blocks.push(currentBlock.trim());
                return blocks;
            }

            function speakBlock(index) {
                if (index >= textBlocks.length) {
                    isReading = false;
                    updateButtons(false);
                    updateProgress();
                    return;
                }

                currentUtterance = new SpeechSynthesisUtterance(textBlocks[index]);
                currentUtterance.rate = parseFloat(1.3);
                lastSpokenIndex = index;


                currentUtterance.onend = function() {
                    if (isReading && !isPaused) {
                        currentBlockIndex++;
                        updateProgress();
                        speakBlock(currentBlockIndex);
                    }
                };

                currentUtterance.onerror = function(event) {
                    console.error('Error en la lectura:', event);
                    isReading = false;
                    updateButtons(false);
                    updateProgress();
                };

                speechSynthesis.speak(currentUtterance);
            }

            function startReading() {
                const text = document.getElementById('texto').innerText;
                if (!text) return;

                // Detener cualquier lectura previa
                stop();

                // Preparar nueva lectura
                textBlocks = splitIntoBlocks(text);
                currentBlockIndex = 0;
                isReading = true;
                isPaused = false;

                updateButtons(true);
                updateProgress();
                speakBlock(currentBlockIndex);
            }

            function pause() {
                speechSynthesis.pause();
                isPaused = true;
                updateButtons(true);
            }

            function resume() {
                speechSynthesis.resume();
                isPaused = false;
                updateButtons(true);
            }

            function stop() {
                speechSynthesis.cancel();
                isReading = false;
                isPaused = false;
                currentBlockIndex = 0;
                updateButtons(false);
                updateProgress();
            }

            function pauseReading() {
                if (!isReading) return;

                speechSynthesis.pause();
                isPaused = true;
                isReading = false;
                updateButtons(true);
                updateProgress();
            }

            function resumeReading() {
                if (!isPaused) return;

                isPaused = false;
                isReading = true;

                // Si el utterance actual ya terminó, comenzar con el siguiente bloque
                if (lastSpokenIndex === currentBlockIndex) {
                    currentBlockIndex++;
                }

                updateButtons(true);
                updateProgress();

                // Si hay un utterance pausado, resumirlo
                if (speechSynthesis.paused) {
                    speechSynthesis.resume();
                } else {
                    // Si no hay utterance pausado, comenzar desde el bloque actual
                    speakBlock(currentBlockIndex);
                }
            }

            function stopReading() {
                speechSynthesis.cancel();
                finishReading();
            }

            function finishReading() {
                isReading = false;
                isPaused = false;
                currentBlockIndex = 0;
                lastSpokenIndex = -1;
                currentUtterance = null;
                updateButtons(false);
                updateProgress();
            }

        </script>

    </body>
    </html>