<!DOCTYPE html>
    <html lang="es">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title> Mario Bergara es el nuevo intendente de Montevideo</title>
        <style>
            body {
                max-width: 800px;
                margin: auto;
                padding: 5%;
            }
            .btnL {
                background: #d1d1d1;
                border-radius: 7px;
                padding: 18px;
                min-width: 100%;
                color: #000000;
                font-size: medium;
                min-height: 70px;
            }
            button {
                background-color: #d1d1d1;
                color: white;
                padding: 10px 20px;
                border: none;
                border-radius: 4px;
                cursor: pointer;
                margin: 5px;
            }
            button:disabled {
                background-color: #d1d1d1;
                cursor: not-available;
            }
            button:hover:not(:disabled) {
                background-color: #d1d1d1;
            }
            #voiceSelect {
                margin: 10px 0;
                padding: 5px;
            }
            .controls {
                margin: 10px 0;
            }

            #fullscreenButton {
                position: fixed;
                top: 20px;
                right: 20px;
                padding: 10px;
                background-color: transparent;
                border: none;
                cursor: pointer;
                border-radius: 5px;
            }

            #fullscreenIcon {
                width: 24px;
                height: 24px;
            }

        </style>
    </head>
    <body>
        <button id="fullscreenButton">
        <svg id="fullscreenIcon" viewBox="0 0 24 24" fill="currentColor">
            <path d="M5 5h5v5H5zM14 5h5v5h-5zM5 14h5v5H5zM14 14h5v5h-5z"/>
        </svg>
        </button>

        <div id="texto">
            <h1> Mario Bergara es el nuevo intendente de Montevideo</h1>
            <p>
El candidato a intendente por el Frente Amplio, Mario Bergara, fue electo en Montevideo, seg√∫n inform√≥ la Usina de Percepci√≥n Ciudadana en Canal 5 en base a las proyecciones de escrutinio. Bergara era el favorito en la capital, de acuerdo con las √∫ltimas encuestas publicadas a lo largo de la campa√±a electoral de cara a este 11 de mayo. Del resto de sus competidores en la Coalici√≥n Republicana, el nacionalista Mart√≠n Lema era quien le segu√≠a. La Usina de Percepci√≥n Ciudadana registra para las 21:30 una votaci√≥n de 49,3% para el Frente Amplio en Montevideo y de 40,7% para la Coalici√≥n Republicana. Seg√∫n esta proyecci√≥n, el porcentaje de votos anulados y en blanco suma 9,3%.  "¬°El Frente Amplio va a seguir gobernando Montevideo!", exclam√≥ Bergara al salir al balc√≥n que da a la calle Colonia. "Quiero saludar y felicitar desde ya a todas y todos quienes van a ser intendentes de cada uno de los otros 18 departamentos", agreg√≥ y dijo que en particular saludaba a Francisco Legnani (Canelones) y Guillermo Levratto (R√≠o Negro). "Mantenemos el corazoncito esperando un buen resultado en Lavalleja, que est√° cabeza a cabeza", apunt√≥. Bergara agradeci√≥ a todos los sectores frenteamplista y puso especial √©nfasis en la militancia, quien reconoci√≥ como ‚Äúlos verdaderos ganadores‚Äù. ‚ÄúQuiero agradecer a quienes, juntos conmigo, lideraron esta batalla que ganamos: a Ver√≥nica Pi√±eiro y a Salvador Schelotto. Sin ellos esta victoria no era posible‚Äù, agreg√≥. "No venimos a fundar Montevideo. Hace 300 a√±os que Montevideo est√° fundada, venimos a continuar siete administraciones frenteamplistas en el departamento, que han cambiado Montevideo, que lo han hecho lo que es hoy. Un orgullo, un lugar en el mundo que es un privilegio. Tabar√©, Mariano, Ricardo, Ana, Daniel, Carolina, vamos a continuar su tarea y lo vamos a hacer con los valores que se han tenido en estos 35 a√±os. Con √©tica, con transparencia, con rendici√≥n de cuentas, con la gente en el centro, con la gente que m√°s necesita en primer lugar", asegur√≥ Bergara en su discurso. "No vamos a dudar ni por un instante de dar continuidad a una gesti√≥n con esos valores. Mucho se ha hecho, mucho hay que sostener y mejorar. Hay nuevos desaf√≠os y estamos preparados para afrontar esos nuevos desaf√≠os porque la ciudadan√≠a vuelve a apoyar al Frente Amplio pero tambi√©n nos dice que lo tenemos que hacer mejor, que hay problemas m√°s grandes como la limpieza y el tr√°nsito. Y estamos preparados para gobernar Montevideo y mejorar a√∫n m√°s esos temas que son la preocupaci√≥n de la gente. Y si son la preocupaci√≥n de la gente, son nuestra prioridad", agreg√≥ el intendente electo de Montevideo. Luego dijo que gobernar√° con los "ocho municipios". "Todav√≠a no sabemos cu√°ntos municipios en Montevideo van a ser gobernados por el Frente Amplio, ojal√° que todos, ojal√° que muchos, pero desde ya decimos que nosotros vamos a trabajar con todos los alcaldes y alcadesas electos. Con igualdad, sin discriminar. Porque nosotros s√≠ vivimos lo que es que discriminen a uno o dos departamentos por cuestiones de pol√≠tica menor. Nosotros no lo vamos a hacer. Porque cuando trabajamos con los municipios no estamos favoreciendo o perjudicando a un alcalde o a un partido, estamos perjudicando a la gente y no tenemos derecho a jugar a la pol√≠tica menor si perjudicamos con eso a la gente", afirm√≥. Asegur√≥ que Montevideo debe estar "feliz" por el triunfo del Frente Amplio. Todas las noticias de las elecciones deprtamentales 2025 en Uruguay pueden seguirse en vivo ac√°.  Embed            </p>
        </div>
        <br><br><br>
            <div style="display: none;">
                <label for="voiceSelect">Seleccionar voz:</label>
                <select id="voiceSelect"></select>
            </div>
            <div class="controls">
                <button onclick="startReading()" id="playButton">
                    üîä Leer
                </button>
                <button onclick="pauseReading()" id="pauseButton" disabled style="display: none;">
                    ‚è∏Ô∏è Pausar
                </button>
                <button onclick="resumeReading()" id="resumeButton" disabled style="display: none;">
                    ‚ñ∂Ô∏è Continuar
                </button>
                <button onclick="stopReading()" id="stopButton" disabled>
                    ‚èπÔ∏è Detener
                </button>
            </div>
            <div id="progress" style="display: none;"></div>
        <br><br><br>
        <button class="btnL" onclick="compartir()">Compartir</button>
        <br><br><br>
        <button class="btnL" onclick="window.location.href='https://www.elobservador.com.uy/nacional/elecciones-departamentales-uruguay-mario-bergara-es-el-nuevo-intendente-montevideo-n5998864'">Ver en web original</button>
        <br><br><br>
        <!-- <button class="btnL" onclick="window.location.href='https://matenews.github.io/MateNews/'">Volver a la p√°gina principal</button>
        <br><br><br> -->


        <script>
            function compartir() {
            if (navigator.share) {
                navigator.share({
                title: ' Mario Bergara es el nuevo intendente de Montevideo', // Opcional, pero recomendado     
                text: ' Mario Bergara es el nuevo intendente de Montevideo',  // Opcional
                url: 'https://www.elobservador.com.uy/nacional/elecciones-departamentales-uruguay-mario-bergara-es-el-nuevo-intendente-montevideo-n5998864'
                })
                .then(() => console.log('Contenido compartido exitosamente'))
                .catch((error) => console.error('Error al compartir:', error));
            } else {
                // C√≥digo alternativo si la API Web Share no est√° disponible
                console.log("Web Share API no soportada");
                // Puedes usar aqu√≠ la opci√≥n 2 (botones personalizados con JavaScript) de mi respuesta anterior
            }
            }
        </script>


        <script>
            let speechSynthesis = window.speechSynthesis;
            let currentUtterance = null;
            let isPaused = false;
            let isReading = false;
            let textBlocks = [];
            let currentBlockIndex = 0;
            let lastSpokenIndex = 0;
            const BLOCK_SIZE = 800;

            function updateButtons(speaking) {
                document.getElementById('playButton').disabled = speaking;
                document.getElementById('pauseButton').disabled = !speaking;
                document.getElementById('resumeButton').disabled = !isPaused;
                document.getElementById('stopButton').disabled = !speaking;
            }

            function updateProgress() {
                const progressDiv = document.getElementById('progress');
                if (isReading) {
                    progressDiv.textContent = `Leyendo bloque ${currentBlockIndex + 1} de ${textBlocks.length}`;
                } else {
                    progressDiv.textContent = '';
                }
            }

            function splitIntoBlocks(text) {
                // Dividir el texto en oraciones usando puntuaci√≥n com√∫n
                const sentences = text.replace(/([.!?])\s+/g, "$1|").split("|");

                let blocks = [];
                let currentBlock = '';

                sentences.forEach(sentence => {
                    // Si la oraci√≥n es muy larga, dividirla en la coma m√°s cercana al BLOCK_SIZE
                    if (sentence.length > BLOCK_SIZE) {
                        let subSentences = sentence.replace(/,\s+/g, ",|").split("|");
                        subSentences.forEach(subSentence => {
                            if (currentBlock.length + subSentence.length > BLOCK_SIZE) {
                                if (currentBlock) blocks.push(currentBlock.trim());
                                currentBlock = subSentence;
                            } else {
                                currentBlock += (currentBlock ? ' ' : '') + subSentence;
                            }
                        });
                    } else {
                        if (currentBlock.length + sentence.length > BLOCK_SIZE) {
                            blocks.push(currentBlock.trim());
                            currentBlock = sentence;
                        } else {
                            currentBlock += (currentBlock ? ' ' : '') + sentence;
                        }
                    }
                });

                if (currentBlock) blocks.push(currentBlock.trim());
                return blocks;
            }

            function speakBlock(index) {
                if (index >= textBlocks.length) {
                    isReading = false;
                    updateButtons(false);
                    updateProgress();
                    return;
                }

                currentUtterance = new SpeechSynthesisUtterance(textBlocks[index]);
                currentUtterance.rate = parseFloat(1.3);
                lastSpokenIndex = index;


                currentUtterance.onend = function() {
                    if (isReading && !isPaused) {
                        currentBlockIndex++;
                        updateProgress();
                        speakBlock(currentBlockIndex);
                    }
                };

                currentUtterance.onerror = function(event) {
                    console.error('Error en la lectura:', event);
                    isReading = false;
                    updateButtons(false);
                    updateProgress();
                };

                speechSynthesis.speak(currentUtterance);
            }

            function startReading() {
                const text = document.getElementById('texto').innerText;
                if (!text) return;

                // Detener cualquier lectura previa
                stop();

                // Preparar nueva lectura
                textBlocks = splitIntoBlocks(text);
                currentBlockIndex = 0;
                isReading = true;
                isPaused = false;

                updateButtons(true);
                updateProgress();
                speakBlock(currentBlockIndex);
            }

            function pause() {
                speechSynthesis.pause();
                isPaused = true;
                updateButtons(true);
            }

            function resume() {
                speechSynthesis.resume();
                isPaused = false;
                updateButtons(true);
            }

            function stop() {
                speechSynthesis.cancel();
                isReading = false;
                isPaused = false;
                currentBlockIndex = 0;
                updateButtons(false);
                updateProgress();
            }

            function pauseReading() {
                if (!isReading) return;

                speechSynthesis.pause();
                isPaused = true;
                isReading = false;
                updateButtons(true);
                updateProgress();
            }

            function resumeReading() {
                if (!isPaused) return;

                isPaused = false;
                isReading = true;

                // Si el utterance actual ya termin√≥, comenzar con el siguiente bloque
                if (lastSpokenIndex === currentBlockIndex) {
                    currentBlockIndex++;
                }

                updateButtons(true);
                updateProgress();

                // Si hay un utterance pausado, resumirlo
                if (speechSynthesis.paused) {
                    speechSynthesis.resume();
                } else {
                    // Si no hay utterance pausado, comenzar desde el bloque actual
                    speakBlock(currentBlockIndex);
                }
            }

            function stopReading() {
                speechSynthesis.cancel();
                finishReading();
            }

            function finishReading() {
                isReading = false;
                isPaused = false;
                currentBlockIndex = 0;
                lastSpokenIndex = -1;
                currentUtterance = null;
                updateButtons(false);
                updateProgress();
            }

        </script>        

        <script>

            var elem = document.documentElement;
            var fullscreenButton = document.getElementById("fullscreenButton");
            var fullscreenIcon = document.getElementById("fullscreenIcon");

            fullscreenButton.addEventListener("click", function() {
            if (document.fullscreenElement || document.mozFullScreenElement || document.webkitFullscreenElement || document.msFullscreenElement) {
                if (document.exitFullscreen) {
                document.exitFullscreen();
                } else if (document.mozCancelFullScreen) { /* Firefox */
                document.mozCancelFullScreen();
                } else if (document.webkitExitFullscreen) { /* Chrome, Safari and Opera */
                document.webkitExitFullscreen();
                } else if (document.msExitFullscreen) { /* IE/Edge */
                document.msExitFullscreen();
                }
            } else {
                if (elem.requestFullscreen) {
                elem.requestFullscreen();
                } else if (elem.mozRequestFullScreen) { /* Firefox */
                elem.mozRequestFullScreen();
                } else if (elem.webkitRequestFullscreen) { /* Chrome, Safari and Opera */
                elem.webkitRequestFullscreen();
                } else if (elem.msRequestFullscreen) { /* IE/Edge */
                elem.msRequestFullscreen();
                }
            }
            });

            document.addEventListener('fullscreenchange', (event) => {
            if (!document.fullscreenElement) {
                fullscreenIcon.innerHTML = '<path d="M5 5h5v5H5zM14 5h5v5h-5zM5 14h5v5H5zM14 14h5v5h-5z"/>';
            } else {
                fullscreenIcon.innerHTML = '<path d="M7 14H5v5h5v-2H7v-3zm-2-4h2V7h3V5H5v5zm12 7h-3v2h5v-5h-2v3zM14 5v2h3v3h2V5h-5z"/>';
            }
            });
        </script>

    </body>
    </html>