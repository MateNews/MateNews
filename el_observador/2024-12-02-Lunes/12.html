<!DOCTYPE html>
    <html lang="es">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title> Qu茅 presidente nos perdimos, Valeria Ripoll reflexion贸 sobre la derrota de la coalici贸n en el balotaje</title>
        <style>
            body {
                max-width: 800px;
                margin: auto;
                padding: 5%;
            }
            .btnL {
                background: #d1d1d1;
                border-radius: 7px;
                padding: 18px;
                min-width: 100%;
                color: #000000;
                font-size: medium;
                min-height: 70px;
            }
            button {
                background-color: #d1d1d1;
                color: white;
                padding: 10px 20px;
                border: none;
                border-radius: 4px;
                cursor: pointer;
                margin: 5px;
            }
            button:disabled {
                background-color: #d1d1d1;
                cursor: not-available;
            }
            button:hover:not(:disabled) {
                background-color: #d1d1d1;
            }
            #voiceSelect {
                margin: 10px 0;
                padding: 5px;
            }
            .controls {
                margin: 10px 0;
            }

            #fullscreenButton {
                position: fixed;
                top: 20px;
                right: 20px;
                padding: 10px;
                background-color: transparent;
                border: none;
                cursor: pointer;
                border-radius: 5px;
            }

            #fullscreenIcon {
                width: 24px;
                height: 24px;
            }

        </style>
    </head>
    <body>
        <button id="fullscreenButton">
        <svg id="fullscreenIcon" viewBox="0 0 24 24" fill="currentColor">
            <path d="M5 5h5v5H5zM14 5h5v5h-5zM5 14h5v5H5zM14 14h5v5h-5z"/>
        </svg>
        </button>

        <div id="texto">
            <h1> Qu茅 presidente nos perdimos, Valeria Ripoll reflexion贸 sobre la derrota de la coalici贸n en el balotaje</h1>
            <p>
Casi una semana despu茅s de la derrota de la coalici贸n oficialista en el balotaje, la excandidata a vicepresidenta Valeria Ripoll, reflexion贸 sobre el resultado de las elecciones y  defendi贸 a lvaro Delgado. "Pasan los d铆as y solo puedo pensar en qu茅 presidente nos perdimos", escribi贸 Ripoll sobre su compa帽ero de f贸rmula. "Tuve la gran oportunidad, el honor, de que me eligiera como su compa帽era de f贸rmula. Estar茅 eternamente agradecida por esta gran responsabilidad y desaf铆o (...) tener a alguien como lvaro era tener a un grado 5 de la pol铆tica", agreg贸 la excandidata a vicepresidenta. Embed - Valeria Ripoll on Instagram: "A medida que pasan los d铆as voy cayendo en todo lo que me toc贸 vivir estos meses... pasan los d铆as y solo puedo pensar en que Presidente nos perdimos... quiz谩 algunas personas no llegaron a conocerlo o escucharlo para poder ver su calidad humana, al gran compa帽ero, amigo, padre, esposo, pero sobretodo al enorme candidato que ten铆amos. En toda esta campa帽a adem谩s de los militantes fant谩sticos, del buen gobierno, del equipo, el programa, la gran diferencia la hizo @alvarodelgadouy Yo tuve la gran oportunidad, el honor, de que me eligiera como su compa帽era de f贸rmula, estar茅 eternamente agradecida por esta gran responsabilidad y desaf铆o, pero tener a alguien como Alvaro era tener a un grado 5 de la pol铆tica, con el que aprendias todos los d铆as, porque adem谩s de ser excelente, es generoso y podes aprender much铆simo trabajando junto a 茅l. La verdad @alvarodelgadouy gracias, gracias infinitas, gracias por el cari帽o con mi familia, gracias por las risas y el llanto de emoci贸n que varias veces surgi贸, gracias por esta campa帽a, lo dejamos todo y m谩s, no qued贸 barrio, localidad, rinc贸n del pa铆s sin visitar, vecino sin escuchar, instituci贸n o persona por recibir, gracias por el compromiso real y sincero, en temas tan importantes y necesarios como la discapacidad. Hicimos la campa帽a que habia que hacer, de propuestas, con la verdad sin populismo, con mucho compromiso por el pa铆s y la gente. Gracias @leticialateulade por el cari帽o, contenci贸n y apoyo siempre!! Aqu铆 estamos para seguir dando la batalla, para cumplir nuestro rol con respondabilidad y cumplirle al 1.119.537 de Uruguayos que nos votaron!!!"            View this post on Instagram A post shared by Valeria Ripoll (@valeriaripoll1)     Ripoll tambi茅n destac贸 del candidato oficialista "su calidad humana" y sus roles como "compa帽ero, amigo, padre y esposo". En la publicaci贸n de redes sociales tambi茅n le agradeci贸 a Delgado y a su esposa Leticia Lateulade por todo lo que vivieron durante la campa帽a. "Gracias por el compromiso real y sincero en temas tan importantes y necesarios como la discapacidad", a帽adi贸. "Hicimos la campa帽a que hab铆a que hacer, de propuestas, con la verdad y sin populismo", escribi贸 Ripoll y asegur贸 que continuar谩n con la responsabilidad de cumplirle a los casi 1.120.000 personas que los votaron.</p>
        </div>
        <br><br><br>
            <div style="display: none;">
                <label for="voiceSelect">Seleccionar voz:</label>
                <select id="voiceSelect"></select>
            </div>
            <div class="controls">
                <button onclick="startReading()" id="playButton">
                     Leer
                </button>
                <button onclick="pauseReading()" id="pauseButton" disabled style="display: none;">
                    革 Pausar
                </button>
                <button onclick="resumeReading()" id="resumeButton" disabled style="display: none;">
                    讹 Continuar
                </button>
                <button onclick="stopReading()" id="stopButton" disabled>
                    癸 Detener
                </button>
            </div>
            <div id="progress" style="display: none;"></div>
        <br><br><br>
        <button class="btnL" onclick="compartir()">Compartir</button>
        <br><br><br>
        <button class="btnL" onclick="window.location.href='https://www.elobservador.com.uy/nacional/que-presidente-nos-perdimos-valeria-ripoll-reflexiono-la-derrota-la-coalicion-el-balotaje-n5972913'">Ver en web original</button>
        <br><br><br>
        <!-- <button class="btnL" onclick="window.location.href='https://matenews.github.io/MateNews/'">Volver a la p谩gina principal</button>
        <br><br><br> -->


        <script>
            function compartir() {
            if (navigator.share) {
                navigator.share({
                title: ' Qu茅 presidente nos perdimos, Valeria Ripoll reflexion贸 sobre la derrota de la coalici贸n en el balotaje', // Opcional, pero recomendado     
                text: ' Qu茅 presidente nos perdimos, Valeria Ripoll reflexion贸 sobre la derrota de la coalici贸n en el balotaje',  // Opcional
                url: 'https://www.elobservador.com.uy/nacional/que-presidente-nos-perdimos-valeria-ripoll-reflexiono-la-derrota-la-coalicion-el-balotaje-n5972913'
                })
                .then(() => console.log('Contenido compartido exitosamente'))
                .catch((error) => console.error('Error al compartir:', error));
            } else {
                // C贸digo alternativo si la API Web Share no est谩 disponible
                console.log("Web Share API no soportada");
                // Puedes usar aqu铆 la opci贸n 2 (botones personalizados con JavaScript) de mi respuesta anterior
            }
            }
        </script>


        <script>
            let speechSynthesis = window.speechSynthesis;
            let currentUtterance = null;
            let isPaused = false;
            let isReading = false;
            let textBlocks = [];
            let currentBlockIndex = 0;
            let lastSpokenIndex = 0;
            const BLOCK_SIZE = 800;

            function updateButtons(speaking) {
                document.getElementById('playButton').disabled = speaking;
                document.getElementById('pauseButton').disabled = !speaking;
                document.getElementById('resumeButton').disabled = !isPaused;
                document.getElementById('stopButton').disabled = !speaking;
            }

            function updateProgress() {
                const progressDiv = document.getElementById('progress');
                if (isReading) {
                    progressDiv.textContent = `Leyendo bloque ${currentBlockIndex + 1} de ${textBlocks.length}`;
                } else {
                    progressDiv.textContent = '';
                }
            }

            function splitIntoBlocks(text) {
                // Dividir el texto en oraciones usando puntuaci贸n com煤n
                const sentences = text.replace(/([.!?])\s+/g, "$1|").split("|");

                let blocks = [];
                let currentBlock = '';

                sentences.forEach(sentence => {
                    // Si la oraci贸n es muy larga, dividirla en la coma m谩s cercana al BLOCK_SIZE
                    if (sentence.length > BLOCK_SIZE) {
                        let subSentences = sentence.replace(/,\s+/g, ",|").split("|");
                        subSentences.forEach(subSentence => {
                            if (currentBlock.length + subSentence.length > BLOCK_SIZE) {
                                if (currentBlock) blocks.push(currentBlock.trim());
                                currentBlock = subSentence;
                            } else {
                                currentBlock += (currentBlock ? ' ' : '') + subSentence;
                            }
                        });
                    } else {
                        if (currentBlock.length + sentence.length > BLOCK_SIZE) {
                            blocks.push(currentBlock.trim());
                            currentBlock = sentence;
                        } else {
                            currentBlock += (currentBlock ? ' ' : '') + sentence;
                        }
                    }
                });

                if (currentBlock) blocks.push(currentBlock.trim());
                return blocks;
            }

            function speakBlock(index) {
                if (index >= textBlocks.length) {
                    isReading = false;
                    updateButtons(false);
                    updateProgress();
                    return;
                }

                currentUtterance = new SpeechSynthesisUtterance(textBlocks[index]);
                currentUtterance.rate = parseFloat(1.3);
                lastSpokenIndex = index;


                currentUtterance.onend = function() {
                    if (isReading && !isPaused) {
                        currentBlockIndex++;
                        updateProgress();
                        speakBlock(currentBlockIndex);
                    }
                };

                currentUtterance.onerror = function(event) {
                    console.error('Error en la lectura:', event);
                    isReading = false;
                    updateButtons(false);
                    updateProgress();
                };

                speechSynthesis.speak(currentUtterance);
            }

            function startReading() {
                const text = document.getElementById('texto').innerText;
                if (!text) return;

                // Detener cualquier lectura previa
                stop();

                // Preparar nueva lectura
                textBlocks = splitIntoBlocks(text);
                currentBlockIndex = 0;
                isReading = true;
                isPaused = false;

                updateButtons(true);
                updateProgress();
                speakBlock(currentBlockIndex);
            }

            function pause() {
                speechSynthesis.pause();
                isPaused = true;
                updateButtons(true);
            }

            function resume() {
                speechSynthesis.resume();
                isPaused = false;
                updateButtons(true);
            }

            function stop() {
                speechSynthesis.cancel();
                isReading = false;
                isPaused = false;
                currentBlockIndex = 0;
                updateButtons(false);
                updateProgress();
            }

            function pauseReading() {
                if (!isReading) return;

                speechSynthesis.pause();
                isPaused = true;
                isReading = false;
                updateButtons(true);
                updateProgress();
            }

            function resumeReading() {
                if (!isPaused) return;

                isPaused = false;
                isReading = true;

                // Si el utterance actual ya termin贸, comenzar con el siguiente bloque
                if (lastSpokenIndex === currentBlockIndex) {
                    currentBlockIndex++;
                }

                updateButtons(true);
                updateProgress();

                // Si hay un utterance pausado, resumirlo
                if (speechSynthesis.paused) {
                    speechSynthesis.resume();
                } else {
                    // Si no hay utterance pausado, comenzar desde el bloque actual
                    speakBlock(currentBlockIndex);
                }
            }

            function stopReading() {
                speechSynthesis.cancel();
                finishReading();
            }

            function finishReading() {
                isReading = false;
                isPaused = false;
                currentBlockIndex = 0;
                lastSpokenIndex = -1;
                currentUtterance = null;
                updateButtons(false);
                updateProgress();
            }

        </script>        

        <script>

            var elem = document.documentElement;
            var fullscreenButton = document.getElementById("fullscreenButton");
            var fullscreenIcon = document.getElementById("fullscreenIcon");

            fullscreenButton.addEventListener("click", function() {
            if (document.fullscreenElement || document.mozFullScreenElement || document.webkitFullscreenElement || document.msFullscreenElement) {
                if (document.exitFullscreen) {
                document.exitFullscreen();
                } else if (document.mozCancelFullScreen) { /* Firefox */
                document.mozCancelFullScreen();
                } else if (document.webkitExitFullscreen) { /* Chrome, Safari and Opera */
                document.webkitExitFullscreen();
                } else if (document.msExitFullscreen) { /* IE/Edge */
                document.msExitFullscreen();
                }
            } else {
                if (elem.requestFullscreen) {
                elem.requestFullscreen();
                } else if (elem.mozRequestFullScreen) { /* Firefox */
                elem.mozRequestFullScreen();
                } else if (elem.webkitRequestFullscreen) { /* Chrome, Safari and Opera */
                elem.webkitRequestFullscreen();
                } else if (elem.msRequestFullscreen) { /* IE/Edge */
                elem.msRequestFullscreen();
                }
            }
            });

            document.addEventListener('fullscreenchange', (event) => {
            if (!document.fullscreenElement) {
                fullscreenIcon.innerHTML = '<path d="M5 5h5v5H5zM14 5h5v5h-5zM5 14h5v5H5zM14 14h5v5h-5z"/>';
            } else {
                fullscreenIcon.innerHTML = '<path d="M7 14H5v5h5v-2H7v-3zm-2-4h2V7h3V5H5v5zm12 7h-3v2h5v-5h-2v3zM14 5v2h3v3h2V5h-5z"/>';
            }
            });
        </script>

    </body>
    </html>