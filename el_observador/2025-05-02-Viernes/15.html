<!DOCTYPE html>
    <html lang="es">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title> C贸nclave: instalan la chimenea en la Capilla Sixtina que revelar谩 el nombre del nuevo Papa</title>
        <style>
            body {
                max-width: 800px;
                margin: auto;
                padding: 5%;
            }
            .btnL {
                background: #d1d1d1;
                border-radius: 7px;
                padding: 18px;
                min-width: 100%;
                color: #000000;
                font-size: medium;
                min-height: 70px;
            }
            button {
                background-color: #d1d1d1;
                color: white;
                padding: 10px 20px;
                border: none;
                border-radius: 4px;
                cursor: pointer;
                margin: 5px;
            }
            button:disabled {
                background-color: #d1d1d1;
                cursor: not-available;
            }
            button:hover:not(:disabled) {
                background-color: #d1d1d1;
            }
            #voiceSelect {
                margin: 10px 0;
                padding: 5px;
            }
            .controls {
                margin: 10px 0;
            }

            #fullscreenButton {
                position: fixed;
                top: 20px;
                right: 20px;
                padding: 10px;
                background-color: transparent;
                border: none;
                cursor: pointer;
                border-radius: 5px;
            }

            #fullscreenIcon {
                width: 24px;
                height: 24px;
            }

        </style>
    </head>
    <body>
        <button id="fullscreenButton">
        <svg id="fullscreenIcon" viewBox="0 0 24 24" fill="currentColor">
            <path d="M5 5h5v5H5zM14 5h5v5h-5zM5 14h5v5H5zM14 14h5v5h-5z"/>
        </svg>
        </button>

        <div id="texto">
            <h1> C贸nclave: instalan la chimenea en la Capilla Sixtina que revelar谩 el nombre del nuevo Papa</h1>
            <p>
Lo que importa   Los bomberos instalaron la chimenea en el techo de la Capilla Sixtina, con motivo del C贸nclave para elegir al nuevo papa, que comienza el 7 de mayo.  La chimenea es clave para anunciar el resultado de las votaciones, con humo negro si no hay acuerdo y blanco si se elige al nuevo Papa.  La Capilla Sixtina est谩 cerrada al p煤blico desde el lunes para adecuarla a las necesidades del c贸nclave, incluyendo la disposici贸n de mesas y bancos para los cardenales.  El c贸nclave contar谩 con 133 cardenales, de los cuales 108 han sido elegidos por el papa Francisco durante su pontificado.  Aunque la mayor铆a de los cardenales fueron designados por Francisco, no todos comparten sus ideas, ya que provienen de realidades diversas y tienen posturas diferentes.   Instalan chimenea Capilla Sixtina          Contexto 驴Qu茅 es un c贸nclave? Un c贸nclave es el proceso mediante el cual los cardenales de la Iglesia Cat贸lica eligen a un nuevo papa. Durante este evento, los cardenales votan a puerta cerrada en la Capilla Sixtina, y el resultado se anuncia mediante el humo que sale de la chimenea instalada en el techo de la capilla. Si el humo es negro, significa que no se ha alcanzado un consenso; si es blanco, indica que se ha elegido un nuevo papa. 驴C贸mo se prepara la Capilla Sixtina para el c贸nclave? La Capilla Sixtina fue cerrada al p煤blico para permitir que los cardenales se re煤nan sin distracciones. Durante este periodo, se organizan las mesas y los bancos necesarios para las votaciones y debates. Adem谩s, se instala la chimenea en el techo para emitir el humo que anunciar谩 el resultado de las votaciones. 驴C贸mo funciona la chimenea? El humo blanco o negro que sale de la chimenea depende del resultado de la votaci贸n. Si los cardenales no logran elegir al nuevo papa, se emite humo negro. Si se alcanza el consenso necesario para elegir un papa, el humo ser谩 blanco. Este proceso se ha realizado durante siglos y es un s铆mbolo visible para los fieles en todo el mundo. 驴Qui茅nes participan en este c贸nclave? El c贸nclave contar谩 con 133 cardenales, todos menores de 80 a帽os, que ser谩n los encargados de elegir al sucesor del papa Francisco. De estos, 108 han sido nombrados por el papa Francisco a lo largo de su pontificado, aunque no todos comparten sus visiones. Los cardenales provienen de diversas partes del mundo, como Mongolia, Ir谩n o Pap煤a Nueva Guinea, lo que refleja la diversidad dentro de la Iglesia Cat贸lica. 驴Cu谩l es la importancia de los dos tercios de los votos? Para que un cardenal sea elegido papa, debe obtener dos tercios de los votos, lo que en este c贸nclave significa 89 votos. Este sistema busca asegurar que el nuevo Papa cuente con un apoyo amplio dentro del colegio cardenalicio. C贸mo sigue El 7 de mayo comenzar谩 el c贸nclave en la Capilla Sixtina, y los cardenales se adentrar谩n en un proceso de deliberaci贸n y votaci贸n para elegir al sucesor del papa Francisco. Las expectativas son altas, ya que los cardenales deben elegir a un nuevo l铆der para la Iglesia Cat贸lica, que enfrentar谩 desaf铆os tanto dentro como fuera de la instituci贸n. El resultado del c贸nclave ser谩 observado por millones de personas alrededor del mundo, quienes esperan con ansiedad la aparici贸n del humo blanco o negro, que indicar谩 si el proceso ha sido exitoso.</p>
        </div>
        <br><br><br>
            <div style="display: none;">
                <label for="voiceSelect">Seleccionar voz:</label>
                <select id="voiceSelect"></select>
            </div>
            <div class="controls">
                <button onclick="startReading()" id="playButton">
                     Leer
                </button>
                <button onclick="pauseReading()" id="pauseButton" disabled style="display: none;">
                    革 Pausar
                </button>
                <button onclick="resumeReading()" id="resumeButton" disabled style="display: none;">
                    讹 Continuar
                </button>
                <button onclick="stopReading()" id="stopButton" disabled>
                    癸 Detener
                </button>
            </div>
            <div id="progress" style="display: none;"></div>
        <br><br><br>
        <button class="btnL" onclick="compartir()">Compartir</button>
        <br><br><br>
        <button class="btnL" onclick="window.location.href='https://www.elobservador.com.uy/espana/impacto-global/conclave-instalan-la-chimenea-la-capilla-sixtina-que-revelara-el-nombre-del-nuevo-papa-n5996747'">Ver en web original</button>
        <br><br><br>
        <!-- <button class="btnL" onclick="window.location.href='https://matenews.github.io/MateNews/'">Volver a la p谩gina principal</button>
        <br><br><br> -->


        <script>
            function compartir() {
            if (navigator.share) {
                navigator.share({
                title: ' C贸nclave: instalan la chimenea en la Capilla Sixtina que revelar谩 el nombre del nuevo Papa', // Opcional, pero recomendado     
                text: ' C贸nclave: instalan la chimenea en la Capilla Sixtina que revelar谩 el nombre del nuevo Papa',  // Opcional
                url: 'https://www.elobservador.com.uy/espana/impacto-global/conclave-instalan-la-chimenea-la-capilla-sixtina-que-revelara-el-nombre-del-nuevo-papa-n5996747'
                })
                .then(() => console.log('Contenido compartido exitosamente'))
                .catch((error) => console.error('Error al compartir:', error));
            } else {
                // C贸digo alternativo si la API Web Share no est谩 disponible
                console.log("Web Share API no soportada");
                // Puedes usar aqu铆 la opci贸n 2 (botones personalizados con JavaScript) de mi respuesta anterior
            }
            }
        </script>


        <script>
            let speechSynthesis = window.speechSynthesis;
            let currentUtterance = null;
            let isPaused = false;
            let isReading = false;
            let textBlocks = [];
            let currentBlockIndex = 0;
            let lastSpokenIndex = 0;
            const BLOCK_SIZE = 800;

            function updateButtons(speaking) {
                document.getElementById('playButton').disabled = speaking;
                document.getElementById('pauseButton').disabled = !speaking;
                document.getElementById('resumeButton').disabled = !isPaused;
                document.getElementById('stopButton').disabled = !speaking;
            }

            function updateProgress() {
                const progressDiv = document.getElementById('progress');
                if (isReading) {
                    progressDiv.textContent = `Leyendo bloque ${currentBlockIndex + 1} de ${textBlocks.length}`;
                } else {
                    progressDiv.textContent = '';
                }
            }

            function splitIntoBlocks(text) {
                // Dividir el texto en oraciones usando puntuaci贸n com煤n
                const sentences = text.replace(/([.!?])\s+/g, "$1|").split("|");

                let blocks = [];
                let currentBlock = '';

                sentences.forEach(sentence => {
                    // Si la oraci贸n es muy larga, dividirla en la coma m谩s cercana al BLOCK_SIZE
                    if (sentence.length > BLOCK_SIZE) {
                        let subSentences = sentence.replace(/,\s+/g, ",|").split("|");
                        subSentences.forEach(subSentence => {
                            if (currentBlock.length + subSentence.length > BLOCK_SIZE) {
                                if (currentBlock) blocks.push(currentBlock.trim());
                                currentBlock = subSentence;
                            } else {
                                currentBlock += (currentBlock ? ' ' : '') + subSentence;
                            }
                        });
                    } else {
                        if (currentBlock.length + sentence.length > BLOCK_SIZE) {
                            blocks.push(currentBlock.trim());
                            currentBlock = sentence;
                        } else {
                            currentBlock += (currentBlock ? ' ' : '') + sentence;
                        }
                    }
                });

                if (currentBlock) blocks.push(currentBlock.trim());
                return blocks;
            }

            function speakBlock(index) {
                if (index >= textBlocks.length) {
                    isReading = false;
                    updateButtons(false);
                    updateProgress();
                    return;
                }

                currentUtterance = new SpeechSynthesisUtterance(textBlocks[index]);
                currentUtterance.rate = parseFloat(1.3);
                lastSpokenIndex = index;


                currentUtterance.onend = function() {
                    if (isReading && !isPaused) {
                        currentBlockIndex++;
                        updateProgress();
                        speakBlock(currentBlockIndex);
                    }
                };

                currentUtterance.onerror = function(event) {
                    console.error('Error en la lectura:', event);
                    isReading = false;
                    updateButtons(false);
                    updateProgress();
                };

                speechSynthesis.speak(currentUtterance);
            }

            function startReading() {
                const text = document.getElementById('texto').innerText;
                if (!text) return;

                // Detener cualquier lectura previa
                stop();

                // Preparar nueva lectura
                textBlocks = splitIntoBlocks(text);
                currentBlockIndex = 0;
                isReading = true;
                isPaused = false;

                updateButtons(true);
                updateProgress();
                speakBlock(currentBlockIndex);
            }

            function pause() {
                speechSynthesis.pause();
                isPaused = true;
                updateButtons(true);
            }

            function resume() {
                speechSynthesis.resume();
                isPaused = false;
                updateButtons(true);
            }

            function stop() {
                speechSynthesis.cancel();
                isReading = false;
                isPaused = false;
                currentBlockIndex = 0;
                updateButtons(false);
                updateProgress();
            }

            function pauseReading() {
                if (!isReading) return;

                speechSynthesis.pause();
                isPaused = true;
                isReading = false;
                updateButtons(true);
                updateProgress();
            }

            function resumeReading() {
                if (!isPaused) return;

                isPaused = false;
                isReading = true;

                // Si el utterance actual ya termin贸, comenzar con el siguiente bloque
                if (lastSpokenIndex === currentBlockIndex) {
                    currentBlockIndex++;
                }

                updateButtons(true);
                updateProgress();

                // Si hay un utterance pausado, resumirlo
                if (speechSynthesis.paused) {
                    speechSynthesis.resume();
                } else {
                    // Si no hay utterance pausado, comenzar desde el bloque actual
                    speakBlock(currentBlockIndex);
                }
            }

            function stopReading() {
                speechSynthesis.cancel();
                finishReading();
            }

            function finishReading() {
                isReading = false;
                isPaused = false;
                currentBlockIndex = 0;
                lastSpokenIndex = -1;
                currentUtterance = null;
                updateButtons(false);
                updateProgress();
            }

        </script>        

        <script>

            var elem = document.documentElement;
            var fullscreenButton = document.getElementById("fullscreenButton");
            var fullscreenIcon = document.getElementById("fullscreenIcon");

            fullscreenButton.addEventListener("click", function() {
            if (document.fullscreenElement || document.mozFullScreenElement || document.webkitFullscreenElement || document.msFullscreenElement) {
                if (document.exitFullscreen) {
                document.exitFullscreen();
                } else if (document.mozCancelFullScreen) { /* Firefox */
                document.mozCancelFullScreen();
                } else if (document.webkitExitFullscreen) { /* Chrome, Safari and Opera */
                document.webkitExitFullscreen();
                } else if (document.msExitFullscreen) { /* IE/Edge */
                document.msExitFullscreen();
                }
            } else {
                if (elem.requestFullscreen) {
                elem.requestFullscreen();
                } else if (elem.mozRequestFullScreen) { /* Firefox */
                elem.mozRequestFullScreen();
                } else if (elem.webkitRequestFullscreen) { /* Chrome, Safari and Opera */
                elem.webkitRequestFullscreen();
                } else if (elem.msRequestFullscreen) { /* IE/Edge */
                elem.msRequestFullscreen();
                }
            }
            });

            document.addEventListener('fullscreenchange', (event) => {
            if (!document.fullscreenElement) {
                fullscreenIcon.innerHTML = '<path d="M5 5h5v5H5zM14 5h5v5h-5zM5 14h5v5H5zM14 14h5v5h-5z"/>';
            } else {
                fullscreenIcon.innerHTML = '<path d="M7 14H5v5h5v-2H7v-3zm-2-4h2V7h3V5H5v5zm12 7h-3v2h5v-5h-2v3zM14 5v2h3v3h2V5h-5z"/>';
            }
            });
        </script>

    </body>
    </html>