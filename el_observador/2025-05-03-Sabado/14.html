<!DOCTYPE html>
    <html lang="es">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title> Despierta Leo Fernández, se enciende Peñarol y vuelve el equipo de Diego Aguirre: el triunfo ante Defensor Sporting fue un mensaje para la Liga AUF Uruguaya</title>
        <style>
            body {
                max-width: 800px;
                margin: auto;
                padding: 5%;
            }
            .btnL {
                background: #d1d1d1;
                border-radius: 7px;
                padding: 18px;
                min-width: 100%;
                color: #000000;
                font-size: medium;
                min-height: 70px;
            }
            button {
                background-color: #d1d1d1;
                color: white;
                padding: 10px 20px;
                border: none;
                border-radius: 4px;
                cursor: pointer;
                margin: 5px;
            }
            button:disabled {
                background-color: #d1d1d1;
                cursor: not-available;
            }
            button:hover:not(:disabled) {
                background-color: #d1d1d1;
            }
            #voiceSelect {
                margin: 10px 0;
                padding: 5px;
            }
            .controls {
                margin: 10px 0;
            }

            #fullscreenButton {
                position: fixed;
                top: 20px;
                right: 20px;
                padding: 10px;
                background-color: transparent;
                border: none;
                cursor: pointer;
                border-radius: 5px;
            }

            #fullscreenIcon {
                width: 24px;
                height: 24px;
            }

        </style>
    </head>
    <body>
        <button id="fullscreenButton">
        <svg id="fullscreenIcon" viewBox="0 0 24 24" fill="currentColor">
            <path d="M5 5h5v5H5zM14 5h5v5h-5zM5 14h5v5H5zM14 14h5v5h-5z"/>
        </svg>
        </button>

        <div id="texto">
            <h1> Despierta Leo Fernández, se enciende Peñarol y vuelve el equipo de Diego Aguirre: el triunfo ante Defensor Sporting fue un mensaje para la Liga AUF Uruguaya</h1>
            <p>
El triunfo que Peñarol logró este viernes de noche ante Defensor Sporting en el estadio Luis Franzini pretende ser una marca del equipo de Diego Aguirre para el Campeonato Uruguayo. Por la forma en que lo consiguió, jugando con 10 durante 82 minutos por la increíble expulsión de Leo Coelho, y porque Leo Fernández asumió el papel protagónico que este plantel le pide, los aurinegros pasaron un aviso para lo que sigue en esta temporada. Sin chances de pelear por el Torneo Apertura (el trofeo terminará en las vitrinas de Liverpool) como consecuencia del pésimo arranque de temporada, Peñarol empezó a despertar y esa es una gran señal para el entrenador, que vuelve a encontrar el punto a su equipo, y para sus hinchas que comienzan a ilusionarse con la vuelta de Leo Fernández a sus goles y a su mejor versión. El 10 volvió a ser clave, pero no el único importante en un equipo que mostró otros puntos altos: - la actuación de Martín Campaña en el arco, clave para evitar dos goles (uno de Maxi Gómez y otro de Montoya) y para iniciar el contragolpe que terminó en el 1-0 de Peñarol, debido a que con la forma en que puso en ataque el balón para la salida rápida sorprendió a Defensor Sporting, que pagó un alto precio en un momento decisivo del encuentro; - Ignacio Sosa jugó un partidazo en el mediocampo, en donde asume un rol que le queda muy bien y potencia a su equipo con ese juego que es fundamental para que el resto fluya. En ese escenario favorable, Peñarol construyó un triunfo sufrido y gozado ante Defensor Sporting. Porque supo cerrar filas en el primer tiempo cuando quedó con 10, por la roja a Leo Coelho, y aguantó hasta la segunda parte, con un enorme esfuerzo físico, para llevar el partido al mejor lugar, cuando claramente Leo Fernández empezó a dar señales de que estaba metido nuevamente en el partido y no preocupado por protestarle al árbitro. El 10 debió ser expulsado a los 23 minutos cuando fue a reclamar por una falta y pechó a Mathías de Armas. Equilibrado futbolísticamente (a costa de un gran despliegue de los 10 jugadores que quedaron) y anímicamente, el equipo de Aguirre terminó cerrando un gran partido. El entrenador le dio al equipo el giro justo con el ingreso de Alexander Machado por un Maxi Silvera que ya había dado el resto (no tenía más nada para aportar), quien revitalizó el ataque en el final del encuentro y aportó una gran lectura en la jugada del gol, porque el delantero aguantó la pelota, esperó a Leo Fernández, para entregarle el balón en el lugar en el que el 10 es letal. Está volviendo Peñarol, lleva cuatro triunfos consecutivos (1-0 a Danubio, 4-2 a Miramar Misiones, 2-1 a Wanderers y 1-0 a Defensor Sporting; serán cinco cuando el tribunal confirme la victoria ante Cerro) y en el Franzini pasó un mensaje para el Campeonato Uruguayo. Quedó a un punto de Nacional en la tabla del Torneo Apertura, está entreverado entre los primeros, y parece dispuesto a comenzar a pulsear por su gran objetivo del año: el bicampeonato en el Uruguayo. Peñarol se empieza a mostrar nuevamente con buena salud y es una señal para el equipo de Aguirre que sabe de lo que es capaz de hacer, porque la temporada 2024 le enseñó que no tiene techo, si todo termina rodando con orden, disciplina y fútbol.</p>
        </div>
        <br><br><br>
            <div style="display: none;">
                <label for="voiceSelect">Seleccionar voz:</label>
                <select id="voiceSelect"></select>
            </div>
            <div class="controls">
                <button onclick="startReading()" id="playButton">
                    🔊 Leer
                </button>
                <button onclick="pauseReading()" id="pauseButton" disabled style="display: none;">
                    ⏸️ Pausar
                </button>
                <button onclick="resumeReading()" id="resumeButton" disabled style="display: none;">
                    ▶️ Continuar
                </button>
                <button onclick="stopReading()" id="stopButton" disabled>
                    ⏹️ Detener
                </button>
            </div>
            <div id="progress" style="display: none;"></div>
        <br><br><br>
        <button class="btnL" onclick="compartir()">Compartir</button>
        <br><br><br>
        <button class="btnL" onclick="window.location.href='https://www.elobservador.com.uy/futbol/la-victoria-que-penarol-logro-defensor-sporting-el-franzini-es-esas-que-marcan-campeonatos-y-brindan-senales-los-aurinegros-estan-regreso-n5996923'">Ver en web original</button>
        <br><br><br>
        <!-- <button class="btnL" onclick="window.location.href='https://matenews.github.io/MateNews/'">Volver a la página principal</button>
        <br><br><br> -->


        <script>
            function compartir() {
            if (navigator.share) {
                navigator.share({
                title: ' Despierta Leo Fernández, se enciende Peñarol y vuelve el equipo de Diego Aguirre: el triunfo ante Defensor Sporting fue un mensaje para la Liga AUF Uruguaya', // Opcional, pero recomendado     
                text: ' Despierta Leo Fernández, se enciende Peñarol y vuelve el equipo de Diego Aguirre: el triunfo ante Defensor Sporting fue un mensaje para la Liga AUF Uruguaya',  // Opcional
                url: 'https://www.elobservador.com.uy/futbol/la-victoria-que-penarol-logro-defensor-sporting-el-franzini-es-esas-que-marcan-campeonatos-y-brindan-senales-los-aurinegros-estan-regreso-n5996923'
                })
                .then(() => console.log('Contenido compartido exitosamente'))
                .catch((error) => console.error('Error al compartir:', error));
            } else {
                // Código alternativo si la API Web Share no está disponible
                console.log("Web Share API no soportada");
                // Puedes usar aquí la opción 2 (botones personalizados con JavaScript) de mi respuesta anterior
            }
            }
        </script>


        <script>
            let speechSynthesis = window.speechSynthesis;
            let currentUtterance = null;
            let isPaused = false;
            let isReading = false;
            let textBlocks = [];
            let currentBlockIndex = 0;
            let lastSpokenIndex = 0;
            const BLOCK_SIZE = 800;

            function updateButtons(speaking) {
                document.getElementById('playButton').disabled = speaking;
                document.getElementById('pauseButton').disabled = !speaking;
                document.getElementById('resumeButton').disabled = !isPaused;
                document.getElementById('stopButton').disabled = !speaking;
            }

            function updateProgress() {
                const progressDiv = document.getElementById('progress');
                if (isReading) {
                    progressDiv.textContent = `Leyendo bloque ${currentBlockIndex + 1} de ${textBlocks.length}`;
                } else {
                    progressDiv.textContent = '';
                }
            }

            function splitIntoBlocks(text) {
                // Dividir el texto en oraciones usando puntuación común
                const sentences = text.replace(/([.!?])\s+/g, "$1|").split("|");

                let blocks = [];
                let currentBlock = '';

                sentences.forEach(sentence => {
                    // Si la oración es muy larga, dividirla en la coma más cercana al BLOCK_SIZE
                    if (sentence.length > BLOCK_SIZE) {
                        let subSentences = sentence.replace(/,\s+/g, ",|").split("|");
                        subSentences.forEach(subSentence => {
                            if (currentBlock.length + subSentence.length > BLOCK_SIZE) {
                                if (currentBlock) blocks.push(currentBlock.trim());
                                currentBlock = subSentence;
                            } else {
                                currentBlock += (currentBlock ? ' ' : '') + subSentence;
                            }
                        });
                    } else {
                        if (currentBlock.length + sentence.length > BLOCK_SIZE) {
                            blocks.push(currentBlock.trim());
                            currentBlock = sentence;
                        } else {
                            currentBlock += (currentBlock ? ' ' : '') + sentence;
                        }
                    }
                });

                if (currentBlock) blocks.push(currentBlock.trim());
                return blocks;
            }

            function speakBlock(index) {
                if (index >= textBlocks.length) {
                    isReading = false;
                    updateButtons(false);
                    updateProgress();
                    return;
                }

                currentUtterance = new SpeechSynthesisUtterance(textBlocks[index]);
                currentUtterance.rate = parseFloat(1.3);
                lastSpokenIndex = index;


                currentUtterance.onend = function() {
                    if (isReading && !isPaused) {
                        currentBlockIndex++;
                        updateProgress();
                        speakBlock(currentBlockIndex);
                    }
                };

                currentUtterance.onerror = function(event) {
                    console.error('Error en la lectura:', event);
                    isReading = false;
                    updateButtons(false);
                    updateProgress();
                };

                speechSynthesis.speak(currentUtterance);
            }

            function startReading() {
                const text = document.getElementById('texto').innerText;
                if (!text) return;

                // Detener cualquier lectura previa
                stop();

                // Preparar nueva lectura
                textBlocks = splitIntoBlocks(text);
                currentBlockIndex = 0;
                isReading = true;
                isPaused = false;

                updateButtons(true);
                updateProgress();
                speakBlock(currentBlockIndex);
            }

            function pause() {
                speechSynthesis.pause();
                isPaused = true;
                updateButtons(true);
            }

            function resume() {
                speechSynthesis.resume();
                isPaused = false;
                updateButtons(true);
            }

            function stop() {
                speechSynthesis.cancel();
                isReading = false;
                isPaused = false;
                currentBlockIndex = 0;
                updateButtons(false);
                updateProgress();
            }

            function pauseReading() {
                if (!isReading) return;

                speechSynthesis.pause();
                isPaused = true;
                isReading = false;
                updateButtons(true);
                updateProgress();
            }

            function resumeReading() {
                if (!isPaused) return;

                isPaused = false;
                isReading = true;

                // Si el utterance actual ya terminó, comenzar con el siguiente bloque
                if (lastSpokenIndex === currentBlockIndex) {
                    currentBlockIndex++;
                }

                updateButtons(true);
                updateProgress();

                // Si hay un utterance pausado, resumirlo
                if (speechSynthesis.paused) {
                    speechSynthesis.resume();
                } else {
                    // Si no hay utterance pausado, comenzar desde el bloque actual
                    speakBlock(currentBlockIndex);
                }
            }

            function stopReading() {
                speechSynthesis.cancel();
                finishReading();
            }

            function finishReading() {
                isReading = false;
                isPaused = false;
                currentBlockIndex = 0;
                lastSpokenIndex = -1;
                currentUtterance = null;
                updateButtons(false);
                updateProgress();
            }

        </script>        

        <script>

            var elem = document.documentElement;
            var fullscreenButton = document.getElementById("fullscreenButton");
            var fullscreenIcon = document.getElementById("fullscreenIcon");

            fullscreenButton.addEventListener("click", function() {
            if (document.fullscreenElement || document.mozFullScreenElement || document.webkitFullscreenElement || document.msFullscreenElement) {
                if (document.exitFullscreen) {
                document.exitFullscreen();
                } else if (document.mozCancelFullScreen) { /* Firefox */
                document.mozCancelFullScreen();
                } else if (document.webkitExitFullscreen) { /* Chrome, Safari and Opera */
                document.webkitExitFullscreen();
                } else if (document.msExitFullscreen) { /* IE/Edge */
                document.msExitFullscreen();
                }
            } else {
                if (elem.requestFullscreen) {
                elem.requestFullscreen();
                } else if (elem.mozRequestFullScreen) { /* Firefox */
                elem.mozRequestFullScreen();
                } else if (elem.webkitRequestFullscreen) { /* Chrome, Safari and Opera */
                elem.webkitRequestFullscreen();
                } else if (elem.msRequestFullscreen) { /* IE/Edge */
                elem.msRequestFullscreen();
                }
            }
            });

            document.addEventListener('fullscreenchange', (event) => {
            if (!document.fullscreenElement) {
                fullscreenIcon.innerHTML = '<path d="M5 5h5v5H5zM14 5h5v5h-5zM5 14h5v5H5zM14 14h5v5h-5z"/>';
            } else {
                fullscreenIcon.innerHTML = '<path d="M7 14H5v5h5v-2H7v-3zm-2-4h2V7h3V5H5v5zm12 7h-3v2h5v-5h-2v3zM14 5v2h3v3h2V5h-5z"/>';
            }
            });
        </script>

    </body>
    </html>