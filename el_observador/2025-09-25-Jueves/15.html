<!DOCTYPE html>
    <html lang="es">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title> El mensaje de Luc铆a Topolansky en el homenaje a Jos茅 Mujica: pidi贸 por la paz y advirti贸 por el odio a los migrantes</title>
        <style>
            body {
                max-width: 800px;
                margin: auto;
                padding: 5%;
            }
            .btnL {
                background: #d1d1d1;
                border-radius: 7px;
                padding: 18px;
                min-width: 100%;
                color: #000000;
                font-size: medium;
                min-height: 70px;
            }
            button {
                background-color: #d1d1d1;
                color: white;
                padding: 10px 20px;
                border: none;
                border-radius: 4px;
                cursor: pointer;
                margin: 5px;
            }
            button:disabled {
                background-color: #d1d1d1;
                cursor: not-available;
            }
            button:hover:not(:disabled) {
                background-color: #d1d1d1;
            }
            #voiceSelect {
                margin: 10px 0;
                padding: 5px;
            }
            .controls {
                margin: 10px 0;
            }

            #fullscreenButton {
                position: fixed;
                top: 20px;
                right: 20px;
                padding: 10px;
                background-color: transparent;
                border: none;
                cursor: pointer;
                border-radius: 5px;
            }

            #fullscreenIcon {
                width: 24px;
                height: 24px;
            }

        </style>
    </head>
    <body>
        <button id="fullscreenButton">
        <svg id="fullscreenIcon" viewBox="0 0 24 24" fill="currentColor">
            <path d="M5 5h5v5H5zM14 5h5v5h-5zM5 14h5v5H5zM14 14h5v5h-5z"/>
        </svg>
        </button>

        <div id="texto">
            <h1> El mensaje de Luc铆a Topolansky en el homenaje a Jos茅 Mujica: pidi贸 por la paz y advirti贸 por el odio a los migrantes</h1>
            <p>
La ex vicepresidenta Luc铆a Topolansky particip贸 a distancia en el homenaje que se realiz贸 en Nueva York a Jos茅 Mujica. La viuda del expresidente uruguayo apareci贸 rodeada de j贸venes, ya que record贸 que Mujica cre铆a que lo m谩s importante de un dirigente pol铆tico era dejar "una barra que lo suplante con ventaja".   "Por eso quise venir con ellos", asegur贸 Topolansky en la transmisi贸n. Unos minutos antes el secretario general de la Organizaci贸n de Estados Iberoamericanos (OEI), Mariano Jabonero, hab铆a anunciado que el organismo empezar谩 a entregar el premio "Jos茅 'Pepe' Mujica" para "reconocer los esfuerzos por la unidad y la democracia de la regi贸n" por parte de distintas personalidades.  "Ese ser谩, creemos, un paso muy importante para mantener vivo su legado y proyectarlo para el futuro", agreg贸.  Topolansky, por su parte, agradeci贸 primero las menciones que hicieron a Mujica los presidentes de Brasil, Luiz In谩cio Lula Da Silva, y el propio Yamand煤 Orsi. Rodeada de j贸venes, parafrase贸 a Mujica al decir que las "causas quedan" pero que las personas pasan. "Y siempre se precisan manos, manos que tomen las banderas, contin煤en la lucha, piensen, trabajen, construyan.  Por eso es importante como dec铆a Pepe recordar esto. Lo m谩s importante de un dirigente es que haya una barra que lo suplante con ventaja", afirm贸. Embed - DEMOCRACIA SIEMPRE      Topolansky tambi茅n pidi贸 por una "democracia m谩s igual y m谩s solidaria", en un momento en el que el mundo est谩 "lleno de obst谩culos". "El camino que tenemos que seguir en este momento est谩 lleno de obst谩culos. De los que se han venido hablando. Se ha hablado de la paz en las palabras de muchos y la paz es urgente, necesaria, imprescindible. Y gracias a todos por pedirla, por lucharla, por hacer las cosas para conseguirla. Por eso no hay que bajar los brazos. Lo imposible cuesta un poco m谩s", dijo. Por 煤ltimo, se refiri贸 al "imprescindible" di谩logo entre los pueblos, un desvelo de Mujica en sus 煤ltimos a帽os de vida.  "Dec铆a tambi茅n Pepe en mi jard铆n no cultivo el odio, pero sin embargo este es un momento en el que se est谩 cultivando el odio", advirti贸 Topolansky y se refiri贸 concretamente al "odio al migrante". "Una de las preocupaciones m谩s fuertes que en el 煤ltimo tiempo ten铆a Pepe era la integraci贸n del continente, unir sus voces, unir nuestros pueblos para que esa voz se escuchara en el mundo y pudiera decir las verdades", record贸. En ese sentido, pidi贸 continuar las conversaciones que se iniciaron en Brasilia con la hoja de ruta firmada por 12 pa铆ses, que sent贸 las bases del Consenso de Brasilia, firmado en su momento por Lacalle Pou (en 2023). "Se ha hecho un calendario en lo que fue las conversaciones de Brasilia y lo tenemos que llevar a la pr谩ctica, empezar por cosas peque帽as que nuestros pueblos puedan comprender, empujar, implicarse y llevar adelante", reflexion贸 Topolansky. </p>
        </div>
        <br><br><br>
            <div style="display: none;">
                <label for="voiceSelect">Seleccionar voz:</label>
                <select id="voiceSelect"></select>
            </div>
            <div class="controls">
                <button onclick="startReading()" id="playButton">
                     Leer
                </button>
                <button onclick="pauseReading()" id="pauseButton" disabled style="display: none;">
                    革 Pausar
                </button>
                <button onclick="resumeReading()" id="resumeButton" disabled style="display: none;">
                    讹 Continuar
                </button>
                <button onclick="stopReading()" id="stopButton" disabled>
                    癸 Detener
                </button>
            </div>
            <div id="progress" style="display: none;"></div>
        <br><br><br>
        <button class="btnL" onclick="compartir()">Compartir</button>
        <br><br><br>
        <button class="btnL" onclick="window.location.href='https://www.elobservador.com.uy/nacional/el-mensaje-lucia-topolansky-el-homenaje-jose-mujica-pidio-la-paz-y-advirtio-el-odio-los-migrantes-n6018371'">Ver en web original</button>
        <br><br><br>
        <!-- <button class="btnL" onclick="window.location.href='https://matenews.github.io/MateNews/'">Volver a la p谩gina principal</button>
        <br><br><br> -->


        <script>
            function compartir() {
            if (navigator.share) {
                navigator.share({
                title: ' El mensaje de Luc铆a Topolansky en el homenaje a Jos茅 Mujica: pidi贸 por la paz y advirti贸 por el odio a los migrantes', // Opcional, pero recomendado     
                text: ' El mensaje de Luc铆a Topolansky en el homenaje a Jos茅 Mujica: pidi贸 por la paz y advirti贸 por el odio a los migrantes',  // Opcional
                url: 'https://www.elobservador.com.uy/nacional/el-mensaje-lucia-topolansky-el-homenaje-jose-mujica-pidio-la-paz-y-advirtio-el-odio-los-migrantes-n6018371'
                })
                .then(() => console.log('Contenido compartido exitosamente'))
                .catch((error) => console.error('Error al compartir:', error));
            } else {
                // C贸digo alternativo si la API Web Share no est谩 disponible
                console.log("Web Share API no soportada");
                // Puedes usar aqu铆 la opci贸n 2 (botones personalizados con JavaScript) de mi respuesta anterior
            }
            }
        </script>


        <script>
            let speechSynthesis = window.speechSynthesis;
            let currentUtterance = null;
            let isPaused = false;
            let isReading = false;
            let textBlocks = [];
            let currentBlockIndex = 0;
            let lastSpokenIndex = 0;
            const BLOCK_SIZE = 800;

            function updateButtons(speaking) {
                document.getElementById('playButton').disabled = speaking;
                document.getElementById('pauseButton').disabled = !speaking;
                document.getElementById('resumeButton').disabled = !isPaused;
                document.getElementById('stopButton').disabled = !speaking;
            }

            function updateProgress() {
                const progressDiv = document.getElementById('progress');
                if (isReading) {
                    progressDiv.textContent = `Leyendo bloque ${currentBlockIndex + 1} de ${textBlocks.length}`;
                } else {
                    progressDiv.textContent = '';
                }
            }

            function splitIntoBlocks(text) {
                // Dividir el texto en oraciones usando puntuaci贸n com煤n
                const sentences = text.replace(/([.!?])\s+/g, "$1|").split("|");

                let blocks = [];
                let currentBlock = '';

                sentences.forEach(sentence => {
                    // Si la oraci贸n es muy larga, dividirla en la coma m谩s cercana al BLOCK_SIZE
                    if (sentence.length > BLOCK_SIZE) {
                        let subSentences = sentence.replace(/,\s+/g, ",|").split("|");
                        subSentences.forEach(subSentence => {
                            if (currentBlock.length + subSentence.length > BLOCK_SIZE) {
                                if (currentBlock) blocks.push(currentBlock.trim());
                                currentBlock = subSentence;
                            } else {
                                currentBlock += (currentBlock ? ' ' : '') + subSentence;
                            }
                        });
                    } else {
                        if (currentBlock.length + sentence.length > BLOCK_SIZE) {
                            blocks.push(currentBlock.trim());
                            currentBlock = sentence;
                        } else {
                            currentBlock += (currentBlock ? ' ' : '') + sentence;
                        }
                    }
                });

                if (currentBlock) blocks.push(currentBlock.trim());
                return blocks;
            }

            function speakBlock(index) {
                if (index >= textBlocks.length) {
                    isReading = false;
                    updateButtons(false);
                    updateProgress();
                    return;
                }

                currentUtterance = new SpeechSynthesisUtterance(textBlocks[index]);
                currentUtterance.rate = parseFloat(1.3);
                lastSpokenIndex = index;


                currentUtterance.onend = function() {
                    if (isReading && !isPaused) {
                        currentBlockIndex++;
                        updateProgress();
                        speakBlock(currentBlockIndex);
                    }
                };

                currentUtterance.onerror = function(event) {
                    console.error('Error en la lectura:', event);
                    isReading = false;
                    updateButtons(false);
                    updateProgress();
                };

                speechSynthesis.speak(currentUtterance);
            }

            function startReading() {
                const text = document.getElementById('texto').innerText;
                if (!text) return;

                // Detener cualquier lectura previa
                stop();

                // Preparar nueva lectura
                textBlocks = splitIntoBlocks(text);
                currentBlockIndex = 0;
                isReading = true;
                isPaused = false;

                updateButtons(true);
                updateProgress();
                speakBlock(currentBlockIndex);
            }

            function pause() {
                speechSynthesis.pause();
                isPaused = true;
                updateButtons(true);
            }

            function resume() {
                speechSynthesis.resume();
                isPaused = false;
                updateButtons(true);
            }

            function stop() {
                speechSynthesis.cancel();
                isReading = false;
                isPaused = false;
                currentBlockIndex = 0;
                updateButtons(false);
                updateProgress();
            }

            function pauseReading() {
                if (!isReading) return;

                speechSynthesis.pause();
                isPaused = true;
                isReading = false;
                updateButtons(true);
                updateProgress();
            }

            function resumeReading() {
                if (!isPaused) return;

                isPaused = false;
                isReading = true;

                // Si el utterance actual ya termin贸, comenzar con el siguiente bloque
                if (lastSpokenIndex === currentBlockIndex) {
                    currentBlockIndex++;
                }

                updateButtons(true);
                updateProgress();

                // Si hay un utterance pausado, resumirlo
                if (speechSynthesis.paused) {
                    speechSynthesis.resume();
                } else {
                    // Si no hay utterance pausado, comenzar desde el bloque actual
                    speakBlock(currentBlockIndex);
                }
            }

            function stopReading() {
                speechSynthesis.cancel();
                finishReading();
            }

            function finishReading() {
                isReading = false;
                isPaused = false;
                currentBlockIndex = 0;
                lastSpokenIndex = -1;
                currentUtterance = null;
                updateButtons(false);
                updateProgress();
            }

        </script>        

        <script>

            var elem = document.documentElement;
            var fullscreenButton = document.getElementById("fullscreenButton");
            var fullscreenIcon = document.getElementById("fullscreenIcon");

            fullscreenButton.addEventListener("click", function() {
            if (document.fullscreenElement || document.mozFullScreenElement || document.webkitFullscreenElement || document.msFullscreenElement) {
                if (document.exitFullscreen) {
                document.exitFullscreen();
                } else if (document.mozCancelFullScreen) { /* Firefox */
                document.mozCancelFullScreen();
                } else if (document.webkitExitFullscreen) { /* Chrome, Safari and Opera */
                document.webkitExitFullscreen();
                } else if (document.msExitFullscreen) { /* IE/Edge */
                document.msExitFullscreen();
                }
            } else {
                if (elem.requestFullscreen) {
                elem.requestFullscreen();
                } else if (elem.mozRequestFullScreen) { /* Firefox */
                elem.mozRequestFullScreen();
                } else if (elem.webkitRequestFullscreen) { /* Chrome, Safari and Opera */
                elem.webkitRequestFullscreen();
                } else if (elem.msRequestFullscreen) { /* IE/Edge */
                elem.msRequestFullscreen();
                }
            }
            });

            document.addEventListener('fullscreenchange', (event) => {
            if (!document.fullscreenElement) {
                fullscreenIcon.innerHTML = '<path d="M5 5h5v5H5zM14 5h5v5h-5zM5 14h5v5H5zM14 14h5v5h-5z"/>';
            } else {
                fullscreenIcon.innerHTML = '<path d="M7 14H5v5h5v-2H7v-3zm-2-4h2V7h3V5H5v5zm12 7h-3v2h5v-5h-2v3zM14 5v2h3v3h2V5h-5z"/>';
            }
            });
        </script>

    </body>
    </html>