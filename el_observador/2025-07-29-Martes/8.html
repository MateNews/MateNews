<!DOCTYPE html>
    <html lang="es">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title> Conmoción en Nueva York: cuatro muertos tras ataque en el edificio de la NFL por parte de un exjugador con problemas de salud mental</title>
        <style>
            body {
                max-width: 800px;
                margin: auto;
                padding: 5%;
            }
            .btnL {
                background: #d1d1d1;
                border-radius: 7px;
                padding: 18px;
                min-width: 100%;
                color: #000000;
                font-size: medium;
                min-height: 70px;
            }
            button {
                background-color: #d1d1d1;
                color: white;
                padding: 10px 20px;
                border: none;
                border-radius: 4px;
                cursor: pointer;
                margin: 5px;
            }
            button:disabled {
                background-color: #d1d1d1;
                cursor: not-available;
            }
            button:hover:not(:disabled) {
                background-color: #d1d1d1;
            }
            #voiceSelect {
                margin: 10px 0;
                padding: 5px;
            }
            .controls {
                margin: 10px 0;
            }

            #fullscreenButton {
                position: fixed;
                top: 20px;
                right: 20px;
                padding: 10px;
                background-color: transparent;
                border: none;
                cursor: pointer;
                border-radius: 5px;
            }

            #fullscreenIcon {
                width: 24px;
                height: 24px;
            }

        </style>
    </head>
    <body>
        <button id="fullscreenButton">
        <svg id="fullscreenIcon" viewBox="0 0 24 24" fill="currentColor">
            <path d="M5 5h5v5H5zM14 5h5v5h-5zM5 14h5v5H5zM14 14h5v5h-5z"/>
        </svg>
        </button>

        <div id="texto">
            <h1> Conmoción en Nueva York: cuatro muertos tras ataque en el edificio de la NFL por parte de un exjugador con problemas de salud mental</h1>
            <p>
Un hombre mató a tiros a cuatro personas en un edificio de oficinas en Manhattan en la tarde de lunes y se quitó la vida, en un hecho que conmocionó a Nueva York. Las autoridades creen que quería atacar la sede de la Liga Nacional de Fútbol Americano (NFL), pero tomó el ascensor equivocado, aseguró este martes el alcalde de la ciudad, Eric Adams.  Los investigadores creen que el atacante, identificado como Shane Tamura, estaba tratando de llegar a las oficinas de la NFL después de disparar a varias personas en el vestíbulo del edificio, pero accidentalmente entró en el conjunto equivocado de ascensores, indicó Adams en entrevistas el martes. Cuatro personas, incluido un policía de la ciudad de Nueva York fuera de servicio, fueron asesinadas. Tamura tenía un historial de problemas de salud mental, y una nota incoherente encontrada en su cuerpo sugería que tenía una queja contra la NFL por una afirmación no fundamentada de que sufría de encefalopatía traumática crónica, señaló la policía. El hombre, de 27 años, había jugado al fútbol americano en la escuela secundaria en California hace casi dos décadas. La nota afirmaba que había estado sufriendo de ETC -la enfermedad cerebral degenerativa que se ha relacionado con conmociones cerebrales y otros traumas repetidos en la cabeza comunes en deportes de contacto como el fútbol americano- y decía que su cerebro debería ser estudiado después de su muerte, reveló una persona familiarizada con el asunto a la agencia AP.  Embed - NYC shooter may have had suicide note referencing NFL: Sources | Morning in America      También hacía referencia específicamente a la NFL, sostuvo la fuente. No se ha determinado un motivo, pero los investigadores consideran, basándose en la nota, que podría haber apuntado específicamente al edificio porque es el hogar de la sede de la NFL. El tiroteo tuvo lugar en un rascacielos que alberga las sedes tanto de la NFL como de Blackstone, una de las firmas de inversión más grandes del mundo, así como otros inquilinos. Un mensaje enviado a los empleados de Blackstone, y obtenido por AP, dice que un empleado de la compañía fue asesinado en el tiroteo del lunes, pero su identidad no fue revelada. Un video de vigilancia muestra al hombre saliendo de un BMW estacionado en doble fila poco antes de las 18:30 portando un rifle M4, luego cruzando una plaza pública hacia el edificio. Luego, comenzó a disparar, afirmó la comisionada de policía Jessica Tisch, matando a un policía que trabajaba en seguridad corporativa y luego alcanzando a una mujer que intentó ponerse a cubierto mientras llovían las balas.  Embed - Shooting at NYC building housing Wall Street firms, NFL HQ leaves 5 dead      El hombre luego se dirigió a los ascensores y disparó a un guardia en un escritorio de seguridad, así como a otro hombre en el vestíbulo, manifestó la comisionada. El hombre tomó el ascensor hasta las oficinas en el piso 33 de la empresa propietaria del edificio, Rudin Management, y mató a una persona en ese piso y luego se suicidó, dijo la comisionada. El edificio, 345 Park Avenue, también alberga oficinas de la firma de servicios financieros KPMG. El policía asesinado fue identificado como Didarul Islam, de 36 años, un inmigrante de Bangladesh que había servido como policía en la ciudad de Nueva York durante tres años y medio, aseveró Tisch en una conferencia de prensa. "Estaba cumpliendo con su deber. Se puso en peligro. Hizo el máximo sacrificio", destacó Tisch. "Murió como vivió: un héroe", aseguró.  FUENTE:	AP
			</p>
        </div>
        <br><br><br>
            <div style="display: none;">
                <label for="voiceSelect">Seleccionar voz:</label>
                <select id="voiceSelect"></select>
            </div>
            <div class="controls">
                <button onclick="startReading()" id="playButton">
                    🔊 Leer
                </button>
                <button onclick="pauseReading()" id="pauseButton" disabled style="display: none;">
                    ⏸️ Pausar
                </button>
                <button onclick="resumeReading()" id="resumeButton" disabled style="display: none;">
                    ▶️ Continuar
                </button>
                <button onclick="stopReading()" id="stopButton" disabled>
                    ⏹️ Detener
                </button>
            </div>
            <div id="progress" style="display: none;"></div>
        <br><br><br>
        <button class="btnL" onclick="compartir()">Compartir</button>
        <br><br><br>
        <button class="btnL" onclick="window.location.href='https://www.elobservador.com.uy/estados-unidos/sociedad/conmocion-nueva-york-cuatro-muertos-ataque-el-edificio-la-nfl-parte-un-exjugador-problemas-salud-mental-n6010487'">Ver en web original</button>
        <br><br><br>
        <!-- <button class="btnL" onclick="window.location.href='https://matenews.github.io/MateNews/'">Volver a la página principal</button>
        <br><br><br> -->


        <script>
            function compartir() {
            if (navigator.share) {
                navigator.share({
                title: ' Conmoción en Nueva York: cuatro muertos tras ataque en el edificio de la NFL por parte de un exjugador con problemas de salud mental', // Opcional, pero recomendado     
                text: ' Conmoción en Nueva York: cuatro muertos tras ataque en el edificio de la NFL por parte de un exjugador con problemas de salud mental',  // Opcional
                url: 'https://www.elobservador.com.uy/estados-unidos/sociedad/conmocion-nueva-york-cuatro-muertos-ataque-el-edificio-la-nfl-parte-un-exjugador-problemas-salud-mental-n6010487'
                })
                .then(() => console.log('Contenido compartido exitosamente'))
                .catch((error) => console.error('Error al compartir:', error));
            } else {
                // Código alternativo si la API Web Share no está disponible
                console.log("Web Share API no soportada");
                // Puedes usar aquí la opción 2 (botones personalizados con JavaScript) de mi respuesta anterior
            }
            }
        </script>


        <script>
            let speechSynthesis = window.speechSynthesis;
            let currentUtterance = null;
            let isPaused = false;
            let isReading = false;
            let textBlocks = [];
            let currentBlockIndex = 0;
            let lastSpokenIndex = 0;
            const BLOCK_SIZE = 800;

            function updateButtons(speaking) {
                document.getElementById('playButton').disabled = speaking;
                document.getElementById('pauseButton').disabled = !speaking;
                document.getElementById('resumeButton').disabled = !isPaused;
                document.getElementById('stopButton').disabled = !speaking;
            }

            function updateProgress() {
                const progressDiv = document.getElementById('progress');
                if (isReading) {
                    progressDiv.textContent = `Leyendo bloque ${currentBlockIndex + 1} de ${textBlocks.length}`;
                } else {
                    progressDiv.textContent = '';
                }
            }

            function splitIntoBlocks(text) {
                // Dividir el texto en oraciones usando puntuación común
                const sentences = text.replace(/([.!?])\s+/g, "$1|").split("|");

                let blocks = [];
                let currentBlock = '';

                sentences.forEach(sentence => {
                    // Si la oración es muy larga, dividirla en la coma más cercana al BLOCK_SIZE
                    if (sentence.length > BLOCK_SIZE) {
                        let subSentences = sentence.replace(/,\s+/g, ",|").split("|");
                        subSentences.forEach(subSentence => {
                            if (currentBlock.length + subSentence.length > BLOCK_SIZE) {
                                if (currentBlock) blocks.push(currentBlock.trim());
                                currentBlock = subSentence;
                            } else {
                                currentBlock += (currentBlock ? ' ' : '') + subSentence;
                            }
                        });
                    } else {
                        if (currentBlock.length + sentence.length > BLOCK_SIZE) {
                            blocks.push(currentBlock.trim());
                            currentBlock = sentence;
                        } else {
                            currentBlock += (currentBlock ? ' ' : '') + sentence;
                        }
                    }
                });

                if (currentBlock) blocks.push(currentBlock.trim());
                return blocks;
            }

            function speakBlock(index) {
                if (index >= textBlocks.length) {
                    isReading = false;
                    updateButtons(false);
                    updateProgress();
                    return;
                }

                currentUtterance = new SpeechSynthesisUtterance(textBlocks[index]);
                currentUtterance.rate = parseFloat(1.3);
                lastSpokenIndex = index;


                currentUtterance.onend = function() {
                    if (isReading && !isPaused) {
                        currentBlockIndex++;
                        updateProgress();
                        speakBlock(currentBlockIndex);
                    }
                };

                currentUtterance.onerror = function(event) {
                    console.error('Error en la lectura:', event);
                    isReading = false;
                    updateButtons(false);
                    updateProgress();
                };

                speechSynthesis.speak(currentUtterance);
            }

            function startReading() {
                const text = document.getElementById('texto').innerText;
                if (!text) return;

                // Detener cualquier lectura previa
                stop();

                // Preparar nueva lectura
                textBlocks = splitIntoBlocks(text);
                currentBlockIndex = 0;
                isReading = true;
                isPaused = false;

                updateButtons(true);
                updateProgress();
                speakBlock(currentBlockIndex);
            }

            function pause() {
                speechSynthesis.pause();
                isPaused = true;
                updateButtons(true);
            }

            function resume() {
                speechSynthesis.resume();
                isPaused = false;
                updateButtons(true);
            }

            function stop() {
                speechSynthesis.cancel();
                isReading = false;
                isPaused = false;
                currentBlockIndex = 0;
                updateButtons(false);
                updateProgress();
            }

            function pauseReading() {
                if (!isReading) return;

                speechSynthesis.pause();
                isPaused = true;
                isReading = false;
                updateButtons(true);
                updateProgress();
            }

            function resumeReading() {
                if (!isPaused) return;

                isPaused = false;
                isReading = true;

                // Si el utterance actual ya terminó, comenzar con el siguiente bloque
                if (lastSpokenIndex === currentBlockIndex) {
                    currentBlockIndex++;
                }

                updateButtons(true);
                updateProgress();

                // Si hay un utterance pausado, resumirlo
                if (speechSynthesis.paused) {
                    speechSynthesis.resume();
                } else {
                    // Si no hay utterance pausado, comenzar desde el bloque actual
                    speakBlock(currentBlockIndex);
                }
            }

            function stopReading() {
                speechSynthesis.cancel();
                finishReading();
            }

            function finishReading() {
                isReading = false;
                isPaused = false;
                currentBlockIndex = 0;
                lastSpokenIndex = -1;
                currentUtterance = null;
                updateButtons(false);
                updateProgress();
            }

        </script>        

        <script>

            var elem = document.documentElement;
            var fullscreenButton = document.getElementById("fullscreenButton");
            var fullscreenIcon = document.getElementById("fullscreenIcon");

            fullscreenButton.addEventListener("click", function() {
            if (document.fullscreenElement || document.mozFullScreenElement || document.webkitFullscreenElement || document.msFullscreenElement) {
                if (document.exitFullscreen) {
                document.exitFullscreen();
                } else if (document.mozCancelFullScreen) { /* Firefox */
                document.mozCancelFullScreen();
                } else if (document.webkitExitFullscreen) { /* Chrome, Safari and Opera */
                document.webkitExitFullscreen();
                } else if (document.msExitFullscreen) { /* IE/Edge */
                document.msExitFullscreen();
                }
            } else {
                if (elem.requestFullscreen) {
                elem.requestFullscreen();
                } else if (elem.mozRequestFullScreen) { /* Firefox */
                elem.mozRequestFullScreen();
                } else if (elem.webkitRequestFullscreen) { /* Chrome, Safari and Opera */
                elem.webkitRequestFullscreen();
                } else if (elem.msRequestFullscreen) { /* IE/Edge */
                elem.msRequestFullscreen();
                }
            }
            });

            document.addEventListener('fullscreenchange', (event) => {
            if (!document.fullscreenElement) {
                fullscreenIcon.innerHTML = '<path d="M5 5h5v5H5zM14 5h5v5h-5zM5 14h5v5H5zM14 14h5v5h-5z"/>';
            } else {
                fullscreenIcon.innerHTML = '<path d="M7 14H5v5h5v-2H7v-3zm-2-4h2V7h3V5H5v5zm12 7h-3v2h5v-5h-2v3zM14 5v2h3v3h2V5h-5z"/>';
            }
            });
        </script>

    </body>
    </html>