<!DOCTYPE html>
    <html lang="es">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title> Partido Comunista propuso al Frente Amplio a Ver√≥nica Pi√±eiro como candidata a intendenta de Montevideo</title>
        <style>
            body {
                max-width: 800px;
                margin: auto;
                padding: 5%;
            }
            .btnL {
                background: #d1d1d1;
                border-radius: 7px;
                padding: 18px;
                min-width: 100%;
                color: #000000;
                font-size: medium;
                min-height: 70px;
            }
            button {
                background-color: #d1d1d1;
                color: white;
                padding: 10px 20px;
                border: none;
                border-radius: 4px;
                cursor: pointer;
                margin: 5px;
            }
            button:disabled {
                background-color: #d1d1d1;
                cursor: not-available;
            }
            button:hover:not(:disabled) {
                background-color: #d1d1d1;
            }
            #voiceSelect {
                margin: 10px 0;
                padding: 5px;
            }
            .controls {
                margin: 10px 0;
            }

            #fullscreenButton {
                position: fixed;
                top: 20px;
                right: 20px;
                padding: 10px;
                background-color: transparent;
                border: none;
                cursor: pointer;
                border-radius: 5px;
            }

            #fullscreenIcon {
                width: 24px;
                height: 24px;
            }

        </style>
    </head>
    <body>
        <button id="fullscreenButton">
        <svg id="fullscreenIcon" viewBox="0 0 24 24" fill="currentColor">
            <path d="M5 5h5v5H5zM14 5h5v5h-5zM5 14h5v5H5zM14 14h5v5h-5z"/>
        </svg>
        </button>

        <div id="texto">
            <h1> Partido Comunista propuso al Frente Amplio a Ver√≥nica Pi√±eiro como candidata a intendenta de Montevideo</h1>
            <p>
Bajo la consigna de que alguien va a tener que "polarizar" con Mario Bergara en la interna del Frente Amplio para ganarle a la coalici√≥n, los hasta ahora aliados de Carolina Cosse en la administraci√≥n de la Intendencia de Montevideo activaron las negociaciones para procurar el "consenso" en torno a otra candidatura. Fiel a su tradici√≥n y sin ambiente para una postulaci√≥n que represente a todo la izquierda, el Partido Comunista vuelve a mostrarse a favor de una "candidatura de consenso". La fuerza conducida por Juan Castillo y √ìscar Andrade empez√≥ a proponerle a otras agrupaciones frenteamplistas desde la semana pasada el nombre de Ver√≥nica Pi√±eiro para retener la comuna que la izquierda gobierna sin oscilaciones desde hace 35 a√±os. Vicepresidenta de Fernando Pereira en el Frente Amplio y actual gerenta de Gesti√≥n Ambiental de la intendencia, esta dirigente de las bases frenteamplistas acept√≥ d√≠as atr√°s que los comunistas manejaran su nombre en las reuniones pol√≠ticas con otros compa√±eros, seg√∫n transmitieron fuentes pol√≠ticas a El Observador. Ver√≥nica Pi√±eiro, Carolina Cosse, Yamand√∫ Orsi, Fernando Pereira_LCM6692.JPG     Foto: Leonardo Carre√±o. En el partido defienden que est√°n en condiciones de lograr el tan mentado "consenso" si cinco o seis agrupaciones de la coalici√≥n de izquierda se alinean detr√°s de un nombre, aunque reconocen que no han logrado ning√∫n respaldo a favor Pi√±eiro, en especial ante la negativa de un potencial aliado como el Partido Socialista.  El dirigente de esa fuerza, Mauricio Zunino, tom√≥ la posta de Cosse al frente de la comuna. Los "latas" buscan por estos d√≠as una candidatura alternativa y de hecho no descartan proponer en las conversaciones al propio Zunino, aunque el punto todav√≠a no ha sido discutido. Los comunistas, por su parte, no tienen planteado impulsar a nadie de sus filas y tampoco est√°n considerando a Mar√≠a In√©s Obald√≠a como posibilidad. La diputada electa por La Amplia ‚Äìel sector de Cosse‚Äì y actual directora de Cultura de la IM agit√≥ el avispero semanas atr√°s cuando le contest√≥ al periodista Leonardo Sarro que no quer√≠a ser candidata. Las repercusiones precipitaron horas despu√©s una declaraci√≥n de la propia Cosse a Montevideo Portal alegando que ‚Äúno fue un rechazo, sino un ‚Äòno ambiciono‚Äô ni me autopropongo". El nombre de Pi√±eiro llega en d√≠as en que la actual administraci√≥n es objeto de cr√≠ticas de los propios frenteamplistas ‚Äìdesde Mario Bergara hasta el MPP‚Äì respecto a la limpieza del departamento. A eso se suman militantes que a√∫n hoy est√°n convencidos de que la comunista Ana Olivera deber√≠a volver a encabezar la intendencia. El grupo de Bergara postula su candidatura a la comuna tras una serie de reuniones con el MPP, bajo el convencimiento de que el sector de Jos√© Mujica y Alejandro S√°nchez acatar√° un compromiso de darles su apoyo una vez que se instalen en la carrera. El "Pacha", futuro secretario de la Presidencia, matiza desde la primera hora cualquier respaldo mientras la estructura ‚Äìque en las elecciones nacionales arras√≥ en la interna del Frente‚Äì reci√©n pretende resolver a fines de enero o febrero.</p>
        </div>
        <br><br><br>
            <div style="display: none;">
                <label for="voiceSelect">Seleccionar voz:</label>
                <select id="voiceSelect"></select>
            </div>
            <div class="controls">
                <button onclick="startReading()" id="playButton">
                    üîä Leer
                </button>
                <button onclick="pauseReading()" id="pauseButton" disabled style="display: none;">
                    ‚è∏Ô∏è Pausar
                </button>
                <button onclick="resumeReading()" id="resumeButton" disabled style="display: none;">
                    ‚ñ∂Ô∏è Continuar
                </button>
                <button onclick="stopReading()" id="stopButton" disabled>
                    ‚èπÔ∏è Detener
                </button>
            </div>
            <div id="progress" style="display: none;"></div>
        <br><br><br>
        <button class="btnL" onclick="compartir()">Compartir</button>
        <br><br><br>
        <button class="btnL" onclick="window.location.href='https://www.elobservador.com.uy/nacional/partido-comunista-propuso-al-frente-amplio-veronica-pineiro-como-candidata-intendenta-montevideo-n5977352'">Ver en web original</button>
        <br><br><br>
        <!-- <button class="btnL" onclick="window.location.href='https://matenews.github.io/MateNews/'">Volver a la p√°gina principal</button>
        <br><br><br> -->


        <script>
            function compartir() {
            if (navigator.share) {
                navigator.share({
                title: ' Partido Comunista propuso al Frente Amplio a Ver√≥nica Pi√±eiro como candidata a intendenta de Montevideo', // Opcional, pero recomendado     
                text: ' Partido Comunista propuso al Frente Amplio a Ver√≥nica Pi√±eiro como candidata a intendenta de Montevideo',  // Opcional
                url: 'https://www.elobservador.com.uy/nacional/partido-comunista-propuso-al-frente-amplio-veronica-pineiro-como-candidata-intendenta-montevideo-n5977352'
                })
                .then(() => console.log('Contenido compartido exitosamente'))
                .catch((error) => console.error('Error al compartir:', error));
            } else {
                // C√≥digo alternativo si la API Web Share no est√° disponible
                console.log("Web Share API no soportada");
                // Puedes usar aqu√≠ la opci√≥n 2 (botones personalizados con JavaScript) de mi respuesta anterior
            }
            }
        </script>


        <script>
            let speechSynthesis = window.speechSynthesis;
            let currentUtterance = null;
            let isPaused = false;
            let isReading = false;
            let textBlocks = [];
            let currentBlockIndex = 0;
            let lastSpokenIndex = 0;
            const BLOCK_SIZE = 800;

            function updateButtons(speaking) {
                document.getElementById('playButton').disabled = speaking;
                document.getElementById('pauseButton').disabled = !speaking;
                document.getElementById('resumeButton').disabled = !isPaused;
                document.getElementById('stopButton').disabled = !speaking;
            }

            function updateProgress() {
                const progressDiv = document.getElementById('progress');
                if (isReading) {
                    progressDiv.textContent = `Leyendo bloque ${currentBlockIndex + 1} de ${textBlocks.length}`;
                } else {
                    progressDiv.textContent = '';
                }
            }

            function splitIntoBlocks(text) {
                // Dividir el texto en oraciones usando puntuaci√≥n com√∫n
                const sentences = text.replace(/([.!?])\s+/g, "$1|").split("|");

                let blocks = [];
                let currentBlock = '';

                sentences.forEach(sentence => {
                    // Si la oraci√≥n es muy larga, dividirla en la coma m√°s cercana al BLOCK_SIZE
                    if (sentence.length > BLOCK_SIZE) {
                        let subSentences = sentence.replace(/,\s+/g, ",|").split("|");
                        subSentences.forEach(subSentence => {
                            if (currentBlock.length + subSentence.length > BLOCK_SIZE) {
                                if (currentBlock) blocks.push(currentBlock.trim());
                                currentBlock = subSentence;
                            } else {
                                currentBlock += (currentBlock ? ' ' : '') + subSentence;
                            }
                        });
                    } else {
                        if (currentBlock.length + sentence.length > BLOCK_SIZE) {
                            blocks.push(currentBlock.trim());
                            currentBlock = sentence;
                        } else {
                            currentBlock += (currentBlock ? ' ' : '') + sentence;
                        }
                    }
                });

                if (currentBlock) blocks.push(currentBlock.trim());
                return blocks;
            }

            function speakBlock(index) {
                if (index >= textBlocks.length) {
                    isReading = false;
                    updateButtons(false);
                    updateProgress();
                    return;
                }

                currentUtterance = new SpeechSynthesisUtterance(textBlocks[index]);
                currentUtterance.rate = parseFloat(1.3);
                lastSpokenIndex = index;


                currentUtterance.onend = function() {
                    if (isReading && !isPaused) {
                        currentBlockIndex++;
                        updateProgress();
                        speakBlock(currentBlockIndex);
                    }
                };

                currentUtterance.onerror = function(event) {
                    console.error('Error en la lectura:', event);
                    isReading = false;
                    updateButtons(false);
                    updateProgress();
                };

                speechSynthesis.speak(currentUtterance);
            }

            function startReading() {
                const text = document.getElementById('texto').innerText;
                if (!text) return;

                // Detener cualquier lectura previa
                stop();

                // Preparar nueva lectura
                textBlocks = splitIntoBlocks(text);
                currentBlockIndex = 0;
                isReading = true;
                isPaused = false;

                updateButtons(true);
                updateProgress();
                speakBlock(currentBlockIndex);
            }

            function pause() {
                speechSynthesis.pause();
                isPaused = true;
                updateButtons(true);
            }

            function resume() {
                speechSynthesis.resume();
                isPaused = false;
                updateButtons(true);
            }

            function stop() {
                speechSynthesis.cancel();
                isReading = false;
                isPaused = false;
                currentBlockIndex = 0;
                updateButtons(false);
                updateProgress();
            }

            function pauseReading() {
                if (!isReading) return;

                speechSynthesis.pause();
                isPaused = true;
                isReading = false;
                updateButtons(true);
                updateProgress();
            }

            function resumeReading() {
                if (!isPaused) return;

                isPaused = false;
                isReading = true;

                // Si el utterance actual ya termin√≥, comenzar con el siguiente bloque
                if (lastSpokenIndex === currentBlockIndex) {
                    currentBlockIndex++;
                }

                updateButtons(true);
                updateProgress();

                // Si hay un utterance pausado, resumirlo
                if (speechSynthesis.paused) {
                    speechSynthesis.resume();
                } else {
                    // Si no hay utterance pausado, comenzar desde el bloque actual
                    speakBlock(currentBlockIndex);
                }
            }

            function stopReading() {
                speechSynthesis.cancel();
                finishReading();
            }

            function finishReading() {
                isReading = false;
                isPaused = false;
                currentBlockIndex = 0;
                lastSpokenIndex = -1;
                currentUtterance = null;
                updateButtons(false);
                updateProgress();
            }

        </script>        

        <script>

            var elem = document.documentElement;
            var fullscreenButton = document.getElementById("fullscreenButton");
            var fullscreenIcon = document.getElementById("fullscreenIcon");

            fullscreenButton.addEventListener("click", function() {
            if (document.fullscreenElement || document.mozFullScreenElement || document.webkitFullscreenElement || document.msFullscreenElement) {
                if (document.exitFullscreen) {
                document.exitFullscreen();
                } else if (document.mozCancelFullScreen) { /* Firefox */
                document.mozCancelFullScreen();
                } else if (document.webkitExitFullscreen) { /* Chrome, Safari and Opera */
                document.webkitExitFullscreen();
                } else if (document.msExitFullscreen) { /* IE/Edge */
                document.msExitFullscreen();
                }
            } else {
                if (elem.requestFullscreen) {
                elem.requestFullscreen();
                } else if (elem.mozRequestFullScreen) { /* Firefox */
                elem.mozRequestFullScreen();
                } else if (elem.webkitRequestFullscreen) { /* Chrome, Safari and Opera */
                elem.webkitRequestFullscreen();
                } else if (elem.msRequestFullscreen) { /* IE/Edge */
                elem.msRequestFullscreen();
                }
            }
            });

            document.addEventListener('fullscreenchange', (event) => {
            if (!document.fullscreenElement) {
                fullscreenIcon.innerHTML = '<path d="M5 5h5v5H5zM14 5h5v5h-5zM5 14h5v5H5zM14 14h5v5h-5z"/>';
            } else {
                fullscreenIcon.innerHTML = '<path d="M7 14H5v5h5v-2H7v-3zm-2-4h2V7h3V5H5v5zm12 7h-3v2h5v-5h-2v3zM14 5v2h3v3h2V5h-5z"/>';
            }
            });
        </script>

    </body>
    </html>