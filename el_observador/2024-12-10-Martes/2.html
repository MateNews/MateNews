<!DOCTYPE html>
    <html lang="es">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title> Se llegó a un acuerdo en el Sodre y habrá funciones de El Cascanueces, aunque siguen las negociaciones</title>
        <style>
            body {
                max-width: 800px;
                margin: auto;
                padding: 5%;
            }
            .btnL {
                background: #d1d1d1;
                border-radius: 7px;
                padding: 18px;
                min-width: 100%;
                color: #000000;
                font-size: medium;
                min-height: 70px;
            }
            button {
                background-color: #d1d1d1;
                color: white;
                padding: 10px 20px;
                border: none;
                border-radius: 4px;
                cursor: pointer;
                margin: 5px;
            }
            button:disabled {
                background-color: #d1d1d1;
                cursor: not-available;
            }
            button:hover:not(:disabled) {
                background-color: #d1d1d1;
            }
            #voiceSelect {
                margin: 10px 0;
                padding: 5px;
            }
            .controls {
                margin: 10px 0;
            }

            #fullscreenButton {
                position: fixed;
                top: 20px;
                right: 20px;
                padding: 10px;
                background-color: transparent;
                border: none;
                cursor: pointer;
                border-radius: 5px;
            }

            #fullscreenIcon {
                width: 24px;
                height: 24px;
            }

        </style>
    </head>
    <body>
        <button id="fullscreenButton">
        <svg id="fullscreenIcon" viewBox="0 0 24 24" fill="currentColor">
            <path d="M5 5h5v5H5zM14 5h5v5h-5zM5 14h5v5H5zM14 14h5v5h-5z"/>
        </svg>
        </button>

        <div id="texto">
            <h1> Se llegó a un acuerdo en el Sodre y habrá funciones de El Cascanueces, aunque siguen las negociaciones</h1>
            <p>
El sindicato de funcionarios del Sodre (Afusodre) y el consejo directivo de la institución llegaron a un acuerdo este lunes ante la Dirección Nacional de Trabajo y las funciones de El Cascanueces, que no se había podido estrenar por el conflicto el pasado 7 de diciembre, se retomarán a partir del martes y seguirán con las diez fechas que todavía están pendientes.  Según explicó Atilio Púa, presidente de Afusodre, a El Observador, en las conversaciones en la Dirección de Trabajo se llegó a "un término medio" que le sirviera a ambas partes, y aunque no consiguieron acordar todos los puntos que reclamaban los trabajadores, se llegó a un consenso.  "Se llegó a un acuerdo y habrá funciones del Cascanueces. Las negociaciones siguen, pero desde el sindicato consideramos que nadie ganó ni nadie perdió", dijo Púa. Agregó que este martes a las 11, cuando se firme el acuerdo entre las partes, levantarán el conflicto. El viernes, Afusodre había emitido un comunicado en el que señalaba que el 22 de febrero el cuerpo de baile del Ballet Nacional del Sodre solicitó al Consejo Directivo una "compensación justa" por la última temporada del año. "Nuestro régimen laboral vigente, contempla únicamente cuatro espectáculos/temporadas en el año", indicó el gremio en el comunicado. El Cascanueces corresponde a la quinta temporada prevista en 2024 para el Ballet Nacional del Sodre, luego de Don Quijote, El Mago de Oz, el díptico de Minus 16 y Swan Lake y La Cenicienta. El vicepresidente del Sodre, Claudio Aguilar, dijo por su parte a Subrayado que hubo "un poquito de frustración con lo que pasó el fin de semana", pero que para ellos era "importante que se anuncie que mañana y los días siguientes habrá obra en el Sodre". "Quiero ser muy cauto, porque mañana vamos a seguir la negociación en la Dinatra. Pero vuelven a bailar y tenemos Cascanueces, y todas las familias que tengan entradas pueden venir. Mañana vamos a continuar la negociación. Teníamos una posición de que había una cláusula de paz firmada hace poco tiempo, pero lo que importa ahora es que las funciones vuelven", dijo Aguilar. Según agregó, a las personas que habían adquirido entradas para las funciones canceladas se les devolverá el dinero. Quienes hayan comprado con tarjeta, se les reintegrará el dinero allí; quienes las hayan comprado en boleterías del Sodre, deberán pasar por ese mismo lugar para el reembolso.  El conflicto Este sábado, el Consejo Directivo del Sodre emitió un comunicado respondiendo a la posición de Afusodre, donde confirmaba la cancelación del estreno de la temporada. La directiva de la institución además aseguraba que "es falso que el régimen laboral vigente contemple únicamente cuatro espectáculos o montajes al año". "Al menos desde el año 2014, se han realizado cinco o incluso más espectáculos o montajes anuales, salvo durante el periodo de pandemia. En ninguno de esos años se solicitó aumento ni compensación adicional alguno", sostiene. En ese caso, la dirección del Sodre señalaba que se habían aplicado "de manera sistemática lo que establece el reglamento". El comunicado del Sodre consideraba que la solicitud del gremio es "un aumento salarial" y no se trata de una "negociación tripartita". El ministro de Educación y Cultura, Pablo Da Silveira, se refirió además al conflicto en su cuenta de la red social X, donde aseguró que el sindicato eligió "el camino del conflicto salvaje" y señaló que los trabajadores "ignoran una cláusula de paz sindical que ellos mismos firmaron el 1 de octubre y entran en paro a pocas horas del estreno".</p>
        </div>
        <br><br><br>
            <div style="display: none;">
                <label for="voiceSelect">Seleccionar voz:</label>
                <select id="voiceSelect"></select>
            </div>
            <div class="controls">
                <button onclick="startReading()" id="playButton">
                    🔊 Leer
                </button>
                <button onclick="pauseReading()" id="pauseButton" disabled style="display: none;">
                    ⏸️ Pausar
                </button>
                <button onclick="resumeReading()" id="resumeButton" disabled style="display: none;">
                    ▶️ Continuar
                </button>
                <button onclick="stopReading()" id="stopButton" disabled>
                    ⏹️ Detener
                </button>
            </div>
            <div id="progress" style="display: none;"></div>
        <br><br><br>
        <button class="btnL" onclick="compartir()">Compartir</button>
        <br><br><br>
        <button class="btnL" onclick="window.location.href='https://www.elobservador.com.uy/espectaculos-y-cultura/se-llego-un-acuerdo-el-sodre-y-habra-funciones-el-cascanueces-aunque-siguen-las-negociaciones-n5974253'">Ver en web original</button>
        <br><br><br>
        <!-- <button class="btnL" onclick="window.location.href='https://matenews.github.io/MateNews/'">Volver a la página principal</button>
        <br><br><br> -->


        <script>
            function compartir() {
            if (navigator.share) {
                navigator.share({
                title: ' Se llegó a un acuerdo en el Sodre y habrá funciones de El Cascanueces, aunque siguen las negociaciones', // Opcional, pero recomendado     
                text: ' Se llegó a un acuerdo en el Sodre y habrá funciones de El Cascanueces, aunque siguen las negociaciones',  // Opcional
                url: 'https://www.elobservador.com.uy/espectaculos-y-cultura/se-llego-un-acuerdo-el-sodre-y-habra-funciones-el-cascanueces-aunque-siguen-las-negociaciones-n5974253'
                })
                .then(() => console.log('Contenido compartido exitosamente'))
                .catch((error) => console.error('Error al compartir:', error));
            } else {
                // Código alternativo si la API Web Share no está disponible
                console.log("Web Share API no soportada");
                // Puedes usar aquí la opción 2 (botones personalizados con JavaScript) de mi respuesta anterior
            }
            }
        </script>


        <script>
            let speechSynthesis = window.speechSynthesis;
            let currentUtterance = null;
            let isPaused = false;
            let isReading = false;
            let textBlocks = [];
            let currentBlockIndex = 0;
            let lastSpokenIndex = 0;
            const BLOCK_SIZE = 800;

            function updateButtons(speaking) {
                document.getElementById('playButton').disabled = speaking;
                document.getElementById('pauseButton').disabled = !speaking;
                document.getElementById('resumeButton').disabled = !isPaused;
                document.getElementById('stopButton').disabled = !speaking;
            }

            function updateProgress() {
                const progressDiv = document.getElementById('progress');
                if (isReading) {
                    progressDiv.textContent = `Leyendo bloque ${currentBlockIndex + 1} de ${textBlocks.length}`;
                } else {
                    progressDiv.textContent = '';
                }
            }

            function splitIntoBlocks(text) {
                // Dividir el texto en oraciones usando puntuación común
                const sentences = text.replace(/([.!?])\s+/g, "$1|").split("|");

                let blocks = [];
                let currentBlock = '';

                sentences.forEach(sentence => {
                    // Si la oración es muy larga, dividirla en la coma más cercana al BLOCK_SIZE
                    if (sentence.length > BLOCK_SIZE) {
                        let subSentences = sentence.replace(/,\s+/g, ",|").split("|");
                        subSentences.forEach(subSentence => {
                            if (currentBlock.length + subSentence.length > BLOCK_SIZE) {
                                if (currentBlock) blocks.push(currentBlock.trim());
                                currentBlock = subSentence;
                            } else {
                                currentBlock += (currentBlock ? ' ' : '') + subSentence;
                            }
                        });
                    } else {
                        if (currentBlock.length + sentence.length > BLOCK_SIZE) {
                            blocks.push(currentBlock.trim());
                            currentBlock = sentence;
                        } else {
                            currentBlock += (currentBlock ? ' ' : '') + sentence;
                        }
                    }
                });

                if (currentBlock) blocks.push(currentBlock.trim());
                return blocks;
            }

            function speakBlock(index) {
                if (index >= textBlocks.length) {
                    isReading = false;
                    updateButtons(false);
                    updateProgress();
                    return;
                }

                currentUtterance = new SpeechSynthesisUtterance(textBlocks[index]);
                currentUtterance.rate = parseFloat(1.3);
                lastSpokenIndex = index;


                currentUtterance.onend = function() {
                    if (isReading && !isPaused) {
                        currentBlockIndex++;
                        updateProgress();
                        speakBlock(currentBlockIndex);
                    }
                };

                currentUtterance.onerror = function(event) {
                    console.error('Error en la lectura:', event);
                    isReading = false;
                    updateButtons(false);
                    updateProgress();
                };

                speechSynthesis.speak(currentUtterance);
            }

            function startReading() {
                const text = document.getElementById('texto').innerText;
                if (!text) return;

                // Detener cualquier lectura previa
                stop();

                // Preparar nueva lectura
                textBlocks = splitIntoBlocks(text);
                currentBlockIndex = 0;
                isReading = true;
                isPaused = false;

                updateButtons(true);
                updateProgress();
                speakBlock(currentBlockIndex);
            }

            function pause() {
                speechSynthesis.pause();
                isPaused = true;
                updateButtons(true);
            }

            function resume() {
                speechSynthesis.resume();
                isPaused = false;
                updateButtons(true);
            }

            function stop() {
                speechSynthesis.cancel();
                isReading = false;
                isPaused = false;
                currentBlockIndex = 0;
                updateButtons(false);
                updateProgress();
            }

            function pauseReading() {
                if (!isReading) return;

                speechSynthesis.pause();
                isPaused = true;
                isReading = false;
                updateButtons(true);
                updateProgress();
            }

            function resumeReading() {
                if (!isPaused) return;

                isPaused = false;
                isReading = true;

                // Si el utterance actual ya terminó, comenzar con el siguiente bloque
                if (lastSpokenIndex === currentBlockIndex) {
                    currentBlockIndex++;
                }

                updateButtons(true);
                updateProgress();

                // Si hay un utterance pausado, resumirlo
                if (speechSynthesis.paused) {
                    speechSynthesis.resume();
                } else {
                    // Si no hay utterance pausado, comenzar desde el bloque actual
                    speakBlock(currentBlockIndex);
                }
            }

            function stopReading() {
                speechSynthesis.cancel();
                finishReading();
            }

            function finishReading() {
                isReading = false;
                isPaused = false;
                currentBlockIndex = 0;
                lastSpokenIndex = -1;
                currentUtterance = null;
                updateButtons(false);
                updateProgress();
            }

        </script>        

        <script>

            var elem = document.documentElement;
            var fullscreenButton = document.getElementById("fullscreenButton");
            var fullscreenIcon = document.getElementById("fullscreenIcon");

            fullscreenButton.addEventListener("click", function() {
            if (document.fullscreenElement || document.mozFullScreenElement || document.webkitFullscreenElement || document.msFullscreenElement) {
                if (document.exitFullscreen) {
                document.exitFullscreen();
                } else if (document.mozCancelFullScreen) { /* Firefox */
                document.mozCancelFullScreen();
                } else if (document.webkitExitFullscreen) { /* Chrome, Safari and Opera */
                document.webkitExitFullscreen();
                } else if (document.msExitFullscreen) { /* IE/Edge */
                document.msExitFullscreen();
                }
            } else {
                if (elem.requestFullscreen) {
                elem.requestFullscreen();
                } else if (elem.mozRequestFullScreen) { /* Firefox */
                elem.mozRequestFullScreen();
                } else if (elem.webkitRequestFullscreen) { /* Chrome, Safari and Opera */
                elem.webkitRequestFullscreen();
                } else if (elem.msRequestFullscreen) { /* IE/Edge */
                elem.msRequestFullscreen();
                }
            }
            });

            document.addEventListener('fullscreenchange', (event) => {
            if (!document.fullscreenElement) {
                fullscreenIcon.innerHTML = '<path d="M5 5h5v5H5zM14 5h5v5h-5zM5 14h5v5H5zM14 14h5v5h-5z"/>';
            } else {
                fullscreenIcon.innerHTML = '<path d="M7 14H5v5h5v-2H7v-3zm-2-4h2V7h3V5H5v5zm12 7h-3v2h5v-5h-2v3zM14 5v2h3v3h2V5h-5z"/>';
            }
            });
        </script>

    </body>
    </html>