<!DOCTYPE html>
    <html lang="es">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title> Víctor Abal, director de convivencia del Ministerio del Interior: interruptores de violencia no van a mover la aguja en los homicidios</title>
        <style>
            body {
                max-width: 800px;
                margin: auto;
                padding: 5%;
            }
            .btnL {
                background: #d1d1d1;
                border-radius: 7px;
                padding: 18px;
                min-width: 100%;
                color: #000000;
                font-size: medium;
                min-height: 70px;
            }
            button {
                background-color: #d1d1d1;
                color: white;
                padding: 10px 20px;
                border: none;
                border-radius: 4px;
                cursor: pointer;
                margin: 5px;
            }
            button:disabled {
                background-color: #d1d1d1;
                cursor: not-available;
            }
            button:hover:not(:disabled) {
                background-color: #d1d1d1;
            }
            #voiceSelect {
                margin: 10px 0;
                padding: 5px;
            }
            .controls {
                margin: 10px 0;
            }

            #fullscreenButton {
                position: fixed;
                top: 20px;
                right: 20px;
                padding: 10px;
                background-color: transparent;
                border: none;
                cursor: pointer;
                border-radius: 5px;
            }

            #fullscreenIcon {
                width: 24px;
                height: 24px;
            }

        </style>
    </head>
    <body>
        <button id="fullscreenButton">
        <svg id="fullscreenIcon" viewBox="0 0 24 24" fill="currentColor">
            <path d="M5 5h5v5H5zM14 5h5v5h-5zM5 14h5v5H5zM14 14h5v5h-5z"/>
        </svg>
        </button>

        <div id="texto">
            <h1> Víctor Abal, director de convivencia del Ministerio del Interior: interruptores de violencia no van a mover la aguja en los homicidios</h1>
            <p>
La llegada de Víctor Abal a la dirección de Convivencia y Seguridad Ciudadana del Ministerio del Interior viene de la mano de varios cambios; no solo de nombre —a partir de la ley de Presupuesto pasará a ser la dirección de Prevención Integral del Delito—, sino de una nueva impronta que lo mantendrá, asegura, lejos de cámaras y flashes. Abal estudió Ciencia Política y alcanzó un posgrado en políticas públicas. Antes, trabajó en un taller mecánico, vendió seguros de vida, trabajó en la Cámara de Comercio Uruguay-China y en un estudio contable. Fue uno de los uruguayos que, en medio de la crisis económica de 2002, se quedó sin trabajo y emigró a España, donde ya tenía a sus hermanos y estaba familiarizado por su ascendencia gallega. En Uruguay, estaba afiliado al PSOE de Montevideo y militaba para acercar papeletas a la comunidad española que quería votar desde el exterior. Vivió en Barcelona —allí se afilió al Partit des Socialistes Catalans— y durante siete años empezó a especializarse en lo que hoy, desde una perspectiva local, empezará a poner en práctica: el trabajo de mediación en las comunidades. En 2010, ya en Uruguay, se unió al Partido Socialista y una década después se convirtió en frenteamplista independiente, pero con militancia especializada en convivencia y mediación. Ahora llega al Ministerio del Interior con Asamblea Uruguay, una agrupación que ya integra desde hace algunos años. El nuevo perfil que le dará a la dirección se enfocará, sobre todo, en articular políticas con otros organismos e instituciones. Sobre todo, con foco en la prevención.En entrevista con El Observador, Abal habló sobre su impronta y sobre las prioridades de la gestión que recién empieza.Gustavo Leal fue el que le dio en los últimos años una impronta muy conocida a este cargo; sin embargo no volvió a este rol en la nueva administración frenteamplista.  Si uno mira la historia institucional del cargo de director de convivencia, su origen está en las mesas locales de convivencia. El primer director fue en 2006. Luego se institucionalizó en 2010 con Edgard Bellomo, donde continuó el proyecto de mesas locales, pero con una característica un poco distinta a lo que era el proyecto original. Había mucha participación de la policía y de la comunidad, pero no había participación de otros organismos públicos, ni siquiera a nivel territorial. Después eso fue cambiando. Después vino Gustavo (Leal), que tenía un perfil mucho más alto, mucha más exposición pública. Lo de las mesas locales terminó quedando en un segundo plano. Y después Santiago González, que tenía un perfil alto, pero desde otro lugar.A Leal se lo asociaba con los Operativos Mirador, por ejemplo. Con el plan Siete Zonas también. Leal es un tipo referente desde la gestión, capaz que no desde lo académico estrictamente, porque acá tenemos ahora a un (Diego) Sanjurjo, tenés un Emiliano Rojido, tenés a Ana Juanche, que tiene un mix bien interesante que es gestión y academia, muy potenciado. Pero Gustavo, más que nada, es un tipo de gestión.Entiendo que tu impronta va a ser distinta. Será la dirección de prevención integral del delito. Yo voy a estar a cargo de esa dirección, de Prevención Integral del Delito. Por Presupuesto se va a modificar el nombre. Queremos, por un lado, poner en contacto nuestras capacidades con los organismos públicos que sean ejecutores y, después, los concejos municipales nos parecen fundamentales para generar espacios de articulación que nos permitan abordar la problemática local. Nos parece bien importante poder desarrollar una estrategia que nos permita acceder a la demanda ciudadana sin ser ineficientes, sin ser ineficaces, sin prometer cosas que no vamos a poder cumplir. 20250822 Entrevista a Víctor Abal, director de Convivencia del Ministerio del Interior.     Foto: Inés Guimaraens Cuando entré a la oficina dijiste que nunca estabas acá. ¿Tu gestión también será yendo al terreno, no solo con los organismos, sino de estar en contacto con los vecinos? Tenemos que estar en contacto con un montón de organismos, con un montón de niveles de gobierno. Nosotros lo que queremos es estar en contacto principalmente con las mesas locales de articulación. Obviamente tenemos que pensar en algún tipo de instancia para validar, justamente con la sociedad civil, este tipo de acuerdos o de resultados. La articulación territorial la vamos a tener. Lo que nosotros no queremos hacer es tener reuniones de vecinos que se forman, vecinos en alerta, grupos de Whatsapp, que terminan siendo muchísimas reuniones y no llegas a ningún resultado.Decís que eso es más para las cámaras que para otra cosa. Es más para las cámaras que para otra cosa. Ese tipo de perfil no lo queremos dar. Queremos encontrar soluciones de verdad. Planteemos una agenda de trabajo, llevemos las cosas. Ya sabemos cuál es la demanda ciudadana. Tenemos cometidos sustantivos que tienen que ver con coordinaciones intrainstitucionales, después tenemos cometidos en prevención integral. Tenemos que identificar qué tipos de prevenciones podemos llevar adelante: prevención situacional, prevención social, la prevención comunitaria y la prevención terciaria conectadas con otros organismos públicos. Por ejemplo, con ANEP tenemos un proyecto —que estamos avanzando en él y seguramente va a ser en Malvín Alto— de prevención vinculado al acompañamiento de los referentes comunitarios para la no deserción y la revinculación de los gurises, para evitar la vinculación a redes de reclutamiento criminal. Es un problema que queremos ponerle mucho énfasis, porque obviamente dentro de los problemas del delito está el problema de la violencia, y dentro de la violencia están los problemas que tenemos vinculados a nuestras juventudes. Nuestra frontera de desarrollo como país se ve cada vez más restringida, entonces hay que trabajar mucho en los temas de violencia, y me parece bien importante tener esas estrategias de vínculo, de conexión con otros organismos.¿No estaban conformes con la impronta que se le dio antes? Cuando a mí me ofrecieron la posibilidad de asumir la dirección ya estaba esa decisión tomada arriba de la mesa. Ya venía sabiendo qué era lo que se estaba solicitando y por dónde iba a ser la línea de trabajo. La verdad que no sé dónde se procesó esa decisión. Me pareció que estaba bueno, que le podíamos dar una óptica, un enfoque vinculado a lo que se me estaba requiriendo.¿Qué pensás con respecto a cómo se ha manejado esta dirección hasta ahora? Creo que la dirección de convivencia tuvo un perfil demasiado público que no le hizo bien. Entiendo la necesidad del momento, porque hay que estar en el lugar de los que tomaron las decisiones en el momento en que se tomaron.¿A qué te referís puntualmente? Cuando Gustavo (Leal) tomó el centro de la escena, había un contexto donde capaz que era necesidad, se necesitaba un perfil así.¿Pero por qué crees que le hizo mal? Con el correr del tiempo después tuvimos a Santiago González que buscó tener un nuevo perfil, pero con otra impronta y desdibujó, desnaturalizó lo que era el perfil de la dirección. Generó muchas reuniones con vecinos y vecinas, multitudinarias, una especie de espacios de catarsis, que realmente no se encontraban soluciones a los problemas que realmente tenía la gente.Decís que terminó siendo una especie de show… Terminó siendo una especie de show.Gustavo Leal se peleó con vecinos de un barrio que le decían antichorro. ¿Te referís a eso? Pensar en el cargo como una especie de comisario civil no es bueno, porque ya tenemos una policía en un proceso de profesionalización que viene desde hace un buen tiempo y me parece que, por respeto a su trabajo, no es bueno.¿Cómo trabajan con la policía comunitaria? ¿Será parte de esta dirección? Trabajamos en equipo, porque tenemos cometidos sustantivos, cometidos en sentido de apoyo, tenemos que trabajar de manera eficiente y efectiva. No creo tampoco en esto de que el ministro es el primer policía o en el ser hincha de la policía, porque es una falta de respeto a la profesión. Yo no soy policía, entonces no voy a plantear eso. En materia de prevención y en materia de gestión, hay que pensar las políticas públicas con la policía. Creo que la policía tiene que estar también en prevención. Ahora, respecto a nuestro modelo de trabajo con la comunidad, vamos a hacer una planificación que se está gestando en este momento, de contacto con los consejos municipales, justamente de Montevideo, a los efectos de plantear un poco cuál es la escena de la concentración del crimen y la violencia en los municipios, y empezar a construir una agenda de trabajo para crear mecanismos de laburo, no comisiones que después no pasa nada, sino mesas de trabajo, de articulación con distintos organismos públicos que se necesiten en la zona. Y nosotros, junto a Policía Comunitaria, (estamos) para tratar justamente de generar esos enlaces con la comunidad, pero no en términos de masividad, sino de encontrar soluciones a los problemas que plantea la gente que llega a la seccional policial, que es algo que también tenemos que reforzar.¿Cuál fue el gobierno que desmanteló las comisarías? Yo no llamaría a desmantelar. Creo que las comisarías, en su momento, cuando hubo una primera gran reforma, que surgieron los de las subzonas 1, 2, 3, 4, ahí la comisaría perdió un poco su relevancia por la comunidad. No nos olvidemos que en un momento en las seccionales policiales vendían rifas... No había transparencia en su modelo de gestión. Eso fue debilitando la figura de la seccional policial en lo que tenía que ver con los principios rectores de la planificación del orden público. Y eso tomó mucho protagonismo en las subzonas y las direcciones especializadas. Pero el delito también va tomando otras características. Se especializa, es mucho más integral.¿Se está pensando en cómo articular en los casos donde los niños quedan como rehenes del narcotráfico o el enfrentamiento entre bandas? Estamos viendo la posibilidad de mejorar nuestro trabajo coordinado con INAU. Ahora construimos una especie de enlace seguro para los niños y niñas que están en centros de INAU y que a veces tienen las salidas acordadas y que en el invierno de pronto pudieran estar en la intemperie, poder tener un contacto directo para resolver estos problemas y que la búsqueda sea lo más rápida posible. Una manera de defender a los gurises también es fortalecer los recorridos en los entornos de la comunidad educativa segura. Mejorar en lo que tiene que ver con la policía comunitaria.¿Cómo se implementa eso en la práctica? La Unidad Educativa Segura es con policías en los entornos educativos. Sobre todo en aquellos donde hay una mayor concentración de criminalidad y violencia.¿Cuáles puntualmente? Eso lo vamos a ver en la coordinación. Estamos trabajando con ANEP justamente. Esto hoy no existe, existe pero la debilitaron tanto que hoy tienen dos motos para Montevideo. Fue absolutamente desmantelado la administración pasada.¿A partir de cuándo prevén que se empiece a poner en marcha de nuevo?  Cuando llegue el presupuesto y tengamos la distribución de los recursos y con lo que ANEP nos pueda plantear en términos de georreferenciación. Con ANEP estamos ya trabajando con ese foco, siempre en la política de prevención. 20240920 Programa Barrios sin violencia del Min. del Interior.     Foto: Inés Guimaraens El programa Barrio sin Violencia, Cure Violence, se implementa desde la administración anterior. La semana pasada estuvieron acá representantes del programa e hicieron recomendaciones. ¿Qué evaluación se hace de lo que ya se puso en práctica? El programa nunca estuvo en la dirección de convivencia. Estaba en la estrategia focalizada de preventivo, del Ministerio del Interior, pero en otra dirección. Cuando yo asumo este desafío, digo, bueno, le voy a hacer un acompañamiento. Nos encontramos en una revaluación de implementación. No tenemos una evaluación de impacto. Y para nosotros es muy importante esto. El impacto lo vamos a evaluar en 2026 justamente para poder decir si este es un programa que puede funcionar o no. Lo que sí estamos haciendo son evaluaciones bimensuales respecto a las recomendaciones. Algunas más puntuales, otras más complejas. Una de las recomendaciones que me parece que es relevante tiene que ver con el vínculo con los centros hospitalarios, con los centros de salud.¿Por qué? Parte de los objetivos del programa es interrumpir la violencia, la dinámica de violencia que conlleva un homicidio, pero que tiene que ver con la venganza. No está pensado para ser un programa que interrumpa conflictos vinculados a confrontaciones de grupos criminales por disputas de cuotas de mercado o disputas territoriales, porque eso opera en otras lógicas de la violencia. Ahí operan lógicas de mercado. Esto no va a buscar eso. Sí interrumpe los ciclos de venganza, que muchas veces son por situaciones de conflicto, inclusive menores. Son generalmente situaciones que no son denunciadas, pero estas personas sí terminan en los centros de salud. Entonces, es ahí donde empieza a regenerarse la venganza, es ahí donde pueden estos equipos de trabajo, con una capacitación específica, tener ese acercamiento.¿Cómo se implementaría? No te podría dar el detalle de cómo se implementa o cómo es el procedimiento. Porque parte de los problemas que tuvo el programa fue que tuvo un perfil demasiado alto, demasiado apurado en su implementación, demasiada promesa de que iba a cambiar. Y te voy a decir una cosa: si el programa llega a ser exitoso, en la versión de impacto, no va a mover la aguja en los homicidios, porque no tienen una sola causa, no tienen una sola circunstancia precipitante. Tenemos violencia doméstica, tenemos muchísima violencia interpersonal, violencia en las relaciones sociales de proximidad. Hay un ecosistema de temas vinculados a los homicidios. Vos tenés que tener programas específicos. Con ese tipo de programas no podés atender la violencia doméstica, la violencia de género. Entonces, vos tenés que pensar en políticas particulares para la prevención de homicidios. Por eso te digo que no vamos a mover la aguja, porque va a actuar solo en un tipo particular de la dinámica de las violencias.Buena parte también de los homicidios que se están dando son de este tipo de problemas de enfrentamientos de bandas criminales, ¿no? La otra opción que nos parece relevante tiene que ver también con el tema de las extracciones. Es sacar del lugar a las personas conocidas como tomadoras de conflicto, por lo menos desactivar el conflicto, hasta que se pueda llegar a una negociación, una mediación.Bueno, si no se animan a denunciar, ¿qué tan dispuestas estarán a que el Estado les traiga la solución? No es el Estado que va,, es el programa. El programa está en el Ministerio del Interior, pero no es un programa policial. Esa es la particularidad que tiene, justamente. Implica un tipo de vínculo mucho más comunitario, porque el programa no solamente trabaja en esto que estamos hablando, sino que trabaja en lo que tiene que ver con su vínculo con la comunidad.¿Y ves posible que estas nuevas implementaciones puedan funcionar? En este programa yo voy a hacer todo lo que se pueda en esta situación de condicionamiento fiscal que tenemos en el país. Lo menos que puedo decir es que tengo que dejar que se muera este programa solo. Yo voy a hacer todo el esfuerzo para que funcione.Si vos hubieses tomado la decisión, ¿te parecía que era un programa...? No puedo hablar contrafácticamente. Yo puedo hablar sobre la realidad que tengo hoy y el desafío mío es este programa que está operativo.Me da la sensación de que no te cuadra. La sensación que yo tengo es en realidad de que ese es mi objetivo, buscar que este programa funcione. Después podrá funcionar o no, pero tenemos que llegar a tomar una evaluación de impacto. Yo no puedo adelantarme los hechos. Lo que sí voy a hacer es empujar para que las cosas puedan conducirse justamente para que ese impacto sea positivo. Vamos a esperar, porque mientras gastemos un solo peso en esto, hay que tratar de que funcione. Porque en definitiva, si no funcionó, bueno, por lo menos sabemos que por este camino no debemos recorrer. Acá no hay una cultura institucional de la rendición de cuentas, de la transparencia y de la búsqueda de evidencias empíricas.Y tomando eso que decís, ¿sirvieron, por ejemplo, todos los operativos miradores, que se fueron haciendo en la última gestión frenteamplista? Yo entiendo que desde el punto de vista de mucha gente, para el impacto que tenía en la sociedad, había resultado como exitoso. Fue una señal política que se dio, yo creo que en su momento, frente a determinadas dificultades que estaban ocurriendo. Ahora, una cosa son los operativos mirador, y otras cosas son políticas públicas donde tenemos un diseño, una implementación, un desarrollo y un pienso detrás.Y en ese sentido, de buscar consensos y articular, ¿cuál va a ser tu caballito de batalla? Dentro de lo que son nuestros programas, yo creo que la justicia restaurativa sería muy importante para prevenir el tema de violencia interpersonal en términos de proximidad. La Mediación Policial juega un rol bien importante, vinculado al artículo 382 del Código de Procedencia Penal, que habilita la mediación extraprocesal, para justamente evitar casi todos los conflictos de proximidad que caen y que terminan después en situaciones lamentables.Siempre se dijo que ese tipo de conflictos son espontáneos. Pero si se hiciera una investigación forense para conocer el recorrido que tuvo ese conflicto, seguramente vas a encontrar con que varias veces trataron de recurrir a distintos mecanismos intermedios que no tenemos. Sí tenemos, perdón, pero tenemos de manera débil. El Poder Judicial tiene mediación. Yo trabajé con mediación en adolescentes. Trabajé en los centros de mediación también del Poder Judicial. O sea, están, pero creo que es una oferta bastante limitada para las dificultades de violencia que tenemos en algunos barrios en particular.¿Cómo estás pensando que se va a desarrollar este programa de justicia restaurativa? Estamos haciendo la evaluación de lo implementado hasta ahora de este programa, porque es un programa que ya existe. En este momento estoy con los informes, ya tengo por ahí, ya para poder leerlos justamente y poder darle el pienso y el cambio hacia un modelo más descentralizado.¿Cuánto tiene que ver la articulación con el sistema judicial? Una de las cosas que estamos haciendo en esto de articular con INR es un modelo de gestión de riesgo para personas que van a ser liberadas. En Montevideo, Y Canelones salen unas 10 por día. Estamos buscando un modelo de persuasión para que la persona acepte un cupo del Mides. Sabemos que va a salir de ahí. Te dicen, hoy sale, no sabes cuándo va a salir, a qué hora, la familia esperando afuera. También hay que generar ahí una sinergia con los vínculos de la sociedad civil, organizada, con los familiares. Creo que la reforma penitenciaria es una imprescindible que nos tenemos que dar como sociedad. Y tenemos que pensar también que los resultados no van a ser inmediatos, sino que van a ser a mediano y largo plazo. Por eso también lo del Plan de Seguridad tiene que estar pensado como política de Estado a más de cinco años. Y tenemos que llegar a acuerdos.Creo que en eso hay coincidencia, ¿no? El discurso de las políticas públicas a largo plazo es muy similar en todos, pero después en la práctica no se termina implementando. Sin lugar a dudas yo creo que hay que empujar desde dónde nos toque. Nosotros tenemos que construir un modelo de seguridad que está francamente agotado y que tenga legitimidad política, que los partidos políticos puedan llegar a un acuerdo, por lo menos a ciertos consensos.</p>
        </div>
        <br><br><br>
            <div style="display: none;">
                <label for="voiceSelect">Seleccionar voz:</label>
                <select id="voiceSelect"></select>
            </div>
            <div class="controls">
                <button onclick="startReading()" id="playButton">
                    🔊 Leer
                </button>
                <button onclick="pauseReading()" id="pauseButton" disabled style="display: none;">
                    ⏸️ Pausar
                </button>
                <button onclick="resumeReading()" id="resumeButton" disabled style="display: none;">
                    ▶️ Continuar
                </button>
                <button onclick="stopReading()" id="stopButton" disabled>
                    ⏹️ Detener
                </button>
            </div>
            <div id="progress" style="display: none;"></div>
        <br><br><br>
        <button class="btnL" onclick="compartir()">Compartir</button>
        <br><br><br>
        <button class="btnL" onclick="window.location.href='https://www.elobservador.com.uy/victor-abal-director-convivencia-del-ministerio-del-interior-interruptores-violencia-no-van-mover-la-aguja-los-homicidios-n6014652'">Ver en web original</button>
        <br><br><br>
        <!-- <button class="btnL" onclick="window.location.href='https://matenews.github.io/MateNews/'">Volver a la página principal</button>
        <br><br><br> -->


        <script>
            function compartir() {
            if (navigator.share) {
                navigator.share({
                title: ' Víctor Abal, director de convivencia del Ministerio del Interior: interruptores de violencia no van a mover la aguja en los homicidios', // Opcional, pero recomendado     
                text: ' Víctor Abal, director de convivencia del Ministerio del Interior: interruptores de violencia no van a mover la aguja en los homicidios',  // Opcional
                url: 'https://www.elobservador.com.uy/victor-abal-director-convivencia-del-ministerio-del-interior-interruptores-violencia-no-van-mover-la-aguja-los-homicidios-n6014652'
                })
                .then(() => console.log('Contenido compartido exitosamente'))
                .catch((error) => console.error('Error al compartir:', error));
            } else {
                // Código alternativo si la API Web Share no está disponible
                console.log("Web Share API no soportada");
                // Puedes usar aquí la opción 2 (botones personalizados con JavaScript) de mi respuesta anterior
            }
            }
        </script>


        <script>
            let speechSynthesis = window.speechSynthesis;
            let currentUtterance = null;
            let isPaused = false;
            let isReading = false;
            let textBlocks = [];
            let currentBlockIndex = 0;
            let lastSpokenIndex = 0;
            const BLOCK_SIZE = 800;

            function updateButtons(speaking) {
                document.getElementById('playButton').disabled = speaking;
                document.getElementById('pauseButton').disabled = !speaking;
                document.getElementById('resumeButton').disabled = !isPaused;
                document.getElementById('stopButton').disabled = !speaking;
            }

            function updateProgress() {
                const progressDiv = document.getElementById('progress');
                if (isReading) {
                    progressDiv.textContent = `Leyendo bloque ${currentBlockIndex + 1} de ${textBlocks.length}`;
                } else {
                    progressDiv.textContent = '';
                }
            }

            function splitIntoBlocks(text) {
                // Dividir el texto en oraciones usando puntuación común
                const sentences = text.replace(/([.!?])\s+/g, "$1|").split("|");

                let blocks = [];
                let currentBlock = '';

                sentences.forEach(sentence => {
                    // Si la oración es muy larga, dividirla en la coma más cercana al BLOCK_SIZE
                    if (sentence.length > BLOCK_SIZE) {
                        let subSentences = sentence.replace(/,\s+/g, ",|").split("|");
                        subSentences.forEach(subSentence => {
                            if (currentBlock.length + subSentence.length > BLOCK_SIZE) {
                                if (currentBlock) blocks.push(currentBlock.trim());
                                currentBlock = subSentence;
                            } else {
                                currentBlock += (currentBlock ? ' ' : '') + subSentence;
                            }
                        });
                    } else {
                        if (currentBlock.length + sentence.length > BLOCK_SIZE) {
                            blocks.push(currentBlock.trim());
                            currentBlock = sentence;
                        } else {
                            currentBlock += (currentBlock ? ' ' : '') + sentence;
                        }
                    }
                });

                if (currentBlock) blocks.push(currentBlock.trim());
                return blocks;
            }

            function speakBlock(index) {
                if (index >= textBlocks.length) {
                    isReading = false;
                    updateButtons(false);
                    updateProgress();
                    return;
                }

                currentUtterance = new SpeechSynthesisUtterance(textBlocks[index]);
                currentUtterance.rate = parseFloat(1.3);
                lastSpokenIndex = index;


                currentUtterance.onend = function() {
                    if (isReading && !isPaused) {
                        currentBlockIndex++;
                        updateProgress();
                        speakBlock(currentBlockIndex);
                    }
                };

                currentUtterance.onerror = function(event) {
                    console.error('Error en la lectura:', event);
                    isReading = false;
                    updateButtons(false);
                    updateProgress();
                };

                speechSynthesis.speak(currentUtterance);
            }

            function startReading() {
                const text = document.getElementById('texto').innerText;
                if (!text) return;

                // Detener cualquier lectura previa
                stop();

                // Preparar nueva lectura
                textBlocks = splitIntoBlocks(text);
                currentBlockIndex = 0;
                isReading = true;
                isPaused = false;

                updateButtons(true);
                updateProgress();
                speakBlock(currentBlockIndex);
            }

            function pause() {
                speechSynthesis.pause();
                isPaused = true;
                updateButtons(true);
            }

            function resume() {
                speechSynthesis.resume();
                isPaused = false;
                updateButtons(true);
            }

            function stop() {
                speechSynthesis.cancel();
                isReading = false;
                isPaused = false;
                currentBlockIndex = 0;
                updateButtons(false);
                updateProgress();
            }

            function pauseReading() {
                if (!isReading) return;

                speechSynthesis.pause();
                isPaused = true;
                isReading = false;
                updateButtons(true);
                updateProgress();
            }

            function resumeReading() {
                if (!isPaused) return;

                isPaused = false;
                isReading = true;

                // Si el utterance actual ya terminó, comenzar con el siguiente bloque
                if (lastSpokenIndex === currentBlockIndex) {
                    currentBlockIndex++;
                }

                updateButtons(true);
                updateProgress();

                // Si hay un utterance pausado, resumirlo
                if (speechSynthesis.paused) {
                    speechSynthesis.resume();
                } else {
                    // Si no hay utterance pausado, comenzar desde el bloque actual
                    speakBlock(currentBlockIndex);
                }
            }

            function stopReading() {
                speechSynthesis.cancel();
                finishReading();
            }

            function finishReading() {
                isReading = false;
                isPaused = false;
                currentBlockIndex = 0;
                lastSpokenIndex = -1;
                currentUtterance = null;
                updateButtons(false);
                updateProgress();
            }

        </script>        

        <script>

            var elem = document.documentElement;
            var fullscreenButton = document.getElementById("fullscreenButton");
            var fullscreenIcon = document.getElementById("fullscreenIcon");

            fullscreenButton.addEventListener("click", function() {
            if (document.fullscreenElement || document.mozFullScreenElement || document.webkitFullscreenElement || document.msFullscreenElement) {
                if (document.exitFullscreen) {
                document.exitFullscreen();
                } else if (document.mozCancelFullScreen) { /* Firefox */
                document.mozCancelFullScreen();
                } else if (document.webkitExitFullscreen) { /* Chrome, Safari and Opera */
                document.webkitExitFullscreen();
                } else if (document.msExitFullscreen) { /* IE/Edge */
                document.msExitFullscreen();
                }
            } else {
                if (elem.requestFullscreen) {
                elem.requestFullscreen();
                } else if (elem.mozRequestFullScreen) { /* Firefox */
                elem.mozRequestFullScreen();
                } else if (elem.webkitRequestFullscreen) { /* Chrome, Safari and Opera */
                elem.webkitRequestFullscreen();
                } else if (elem.msRequestFullscreen) { /* IE/Edge */
                elem.msRequestFullscreen();
                }
            }
            });

            document.addEventListener('fullscreenchange', (event) => {
            if (!document.fullscreenElement) {
                fullscreenIcon.innerHTML = '<path d="M5 5h5v5H5zM14 5h5v5h-5zM5 14h5v5H5zM14 14h5v5h-5z"/>';
            } else {
                fullscreenIcon.innerHTML = '<path d="M7 14H5v5h5v-2H7v-3zm-2-4h2V7h3V5H5v5zm12 7h-3v2h5v-5h-2v3zM14 5v2h3v3h2V5h-5z"/>';
            }
            });
        </script>

    </body>
    </html>