<!DOCTYPE html>
    <html lang="es">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>Hace 83 a√±os se prendi√≥ la 'chispa' que abri√≥ una brecha en el bloqueo de Leningrado</title>
        <style>
            body {
                max-width: 800px;
                margin: auto;
                padding: 5%;
            }
            .btnL {
                background: #d1d1d1;
                border-radius: 7px;
                padding: 18px;
                min-width: 100%;
                color: #000000;
                font-size: medium;
                min-height: 70px;
            }
            button {
                background-color: #d1d1d1;
                color: white;
                padding: 10px 20px;
                border: none;
                border-radius: 4px;
                cursor: pointer;
                margin: 5px;
            }
            button:disabled {
                background-color: #d1d1d1;
                cursor: not-available;
            }
            button:hover:not(:disabled) {
                background-color: #d1d1d1;
            }
            #voiceSelect {
                margin: 10px 0;
                padding: 5px;
            }
            .controls {
                margin: 10px 0;
            }

            #fullscreenButton {
                position: fixed;
                top: 20px;
                right: 20px;
                padding: 10px;
                background-color: transparent;
                border: none;
                cursor: pointer;
                border-radius: 5px;
            }

            #fullscreenIcon {
                width: 24px;
                height: 24px;
            }

        </style>
    </head>
    <body>
        <button id="fullscreenButton">
        <svg id="fullscreenIcon" viewBox="0 0 24 24" fill="currentColor">
            <path d="M5 5h5v5H5zM14 5h5v5h-5zM5 14h5v5H5zM14 14h5v5h-5z"/>
        </svg>
        </button>

        <div id="texto">
            <h1>Hace 83 a√±os se prendi√≥ la 'chispa' que abri√≥ una brecha en el bloqueo de Leningrado</h1>
            <p>Hace justo 83 a√±os, el 18 de enero de 1943, como resultado de la operaci√≥n Iskra, (Chispa, en espa√±ol), las tropas sovi√©ticas de los Frentes de Leningrado y V√≥ljov rompieron el asedio de Leningrado (ciudad que hoy de nuevo se llama San Petersburgo) por parte de la Alemania nazi.</p><p>Esta operaci√≥n abri√≥ un corredor terrestre a trav√©s del cual se construy√≥ r√°pidamente un ferrocarril. El 7 de febrero de 1943, tras un par√©ntesis de 18¬†meses, lleg√≥ a Leningrado el primer tren procedente del pa√≠s.</p><p>Aunque el bloqueo continu√≥ y dur√≥ hasta el invierno de 1944, la martirizada ciudad empez√≥ a recibir v√≠veres de forma regular .</p><p>Se desconoce la cantidad exacta de vidas civiles que seg√≥ el¬†sitio de Leningrado. En los juicios de N√∫remberg se citaron 632.000 v√≠ctimas , pero muchos historiadores creen que la cifra de muertos fue mucho mayor, llegando a 1,5 millones (la ciudad estaba adem√°s repleta de un sinn√∫mero de rehenes). En cualquier caso, el 97 % de los civiles perecieron por hambre y enfermedades, no por bombardeos.</p><p>El 8 de septiembre de 1941, durante su ofensiva sobre Leningrado, las tropas nazis irrumpieron en la estaci√≥n de ferrocarril de Mga y capturaron Shlisselburg (Petrokr√©post), aislando la segunda urbe sovi√©tica en importancia del resto del pa√≠s .</p><p>Ese d√≠a marc√≥ el comienzo de una de las m√°s tr√°gicas etapas de la Gran Guerra Patria: el asedio a Leningrado.</p><p>A principios de septiembre de 1941, Leningrado¬†sufri√≥ sus primeros brutales bombardeos. El fuego de artiller√≠a era constante. El mando militar y pol√≠tico local prepar√≥ las f√°bricas para su demolici√≥n, y todos los buques de la Flota del B√°ltico tambi√©n fueron preparados para el hundimiento. El avance activo de tropas alemanas y finlandesas desde diversas direcciones aparentemente no dejaba lugar a dudas sobre la inminente toma de la ciudad.</p><p>El 11 de septiembre de 1941, en los primeros d√≠as del bloqueo, el general Gueorgui Zh√∫kov fue nombrado comandante del Frente de Leningrado. Lleg√≥ a la localidad para restablecer el orden en las filas del Ej√©rcito y logr√≥ detener al enemigo pr√°cticamente a las afueras de Leningrado : la l√≠nea del frente se encontraba a solo 16 kil√≥metros de un lugar emblem√°tico, el Palacio de Invierno. La Flota del B√°ltico fue desminada y abri√≥ fuego.</p><p>Las tropas sovi√©ticas hicieron repetidos intentos de romper el cerco (tanto con las operaciones de Sini√°vino de 1941 y 1942 como con la operaci√≥n de Liub√°n de 1942) y finalmente lograron hacerlo en enero de 1943.</p><p>En 1941, Adolf Hitler planeaba borrar de la faz de la Tierra Leningrado, cuna de la revoluci√≥n bolchevique y s√≠mbolo de la cultura rusa. Pero adem√°s de estos valores, la ciudad era un important√≠simo centro industrial, que contaba con varias enormes plantas en el sector de la defensa, astilleros, instituciones cient√≠ficas, la base principal de la Flota del B√°ltico con todas sus naves, etc√©tera.</p><p>Bastar√≠a con recordar que, en aquella √©poca, ah√≠ se encontraba la √∫nica f√°brica productora de tanques pesados, coches y trenes blindados del pa√≠s. Era la K√≠rov, que tan solo en ese a√±o hab√≠a producido m√°s de 700 tanques KV-1 y KV-2.</p><p>Al inicio de la guerra, Adolf Hitler¬†anunci√≥¬†que Leningrado deb√≠a ser totalmente destruida. "El 'f√ºhrer' ha decidido borrar la ciudad de Leningrado de la faz de la Tierra. Despu√©s de la derrota de la Rusia sovi√©tica, la existencia continuada de este mayor centro de poblaci√≥n carece de inter√©s.¬†[...] Se planea rodear la ciudad en un estrecho anillo y, mediante bombardeos con artiller√≠a de todos los calibres y continuos bombardeos desde el aire, arrasarla. Si, como consecuencia de la situaci√≥n en la ciudad, se presentan solicitudes de rendici√≥n, ser√°n rechazadas, ya que los problemas relacionados con la estancia de la poblaci√≥n en la ciudad y su abastecimiento de alimentos no pueden ni deben ser resueltos por nosotros. En esta guerra librada por el derecho a existir, no nos interesa preservar ni siquiera a una parte de la poblaci√≥n ", rezaba la directiva del jefe del Estado Mayor de la Marina alemana n√∫mero 1601 del 29 de septiembre de 1941 sobre la destrucci√≥n de Leningrado.</p><p>El 12 de septiembre hicieron un recuento de todas las reservas de productos alimenticios que dio el siguiente resultado: pan, cereales y carne para 30-35 d√≠as, grasas para 45 d√≠as y az√∫car y dulces para 60 d√≠as.</p><p>El carb√≥n, a pesar de su estricta conservaci√≥n, solo alcanzaba hasta noviembre, y el combustible l√≠quido hasta finales de septiembre. Como resultado, el sistema de racionamiento de alimentos comenz√≥ a decaer. El 1 de octubre de 1941, la raci√≥n de pan se redujo de tres a seis veces para los obreros, el personal de ingenier√≠a y t√©cnico, a 400 gramos al d√≠a, y para los empleados, dependientes y ni√±os, a 200 gramos.</p><p>A partir del 20 de noviembre, como resultado de la quinta reducci√≥n, los obreros recib√≠an 250 gramos de pan al d√≠a, mientras que los habitantes restantes, 125 gramos . El hambre verdadera comenz√≥ en noviembre. Se hicieron frecuentes los casos de desmayos por inanici√≥n, de muerte por agotamiento. Era pr√°cticamente imposible recibir reservas de productos alimenticios por aire, mientras que el hielo del lago L√°doga era demasiado fino y no resist√≠a el paso de los coches.</p><p>La situaci√≥n de los habitantes de la ciudad empeor√≥: el pan estaba h√∫medo y con dos quintas partes de impurezas. El escorbuto y la desnutrici√≥n se hicieron presentes. Se agot√≥ el combustible y se cort√≥ la electricidad en los edificios residenciales. El suministro de agua fallaba y 78 kil√≥metros de alcantarillado quedaron destruidos.</p><p>Entre septiembre y noviembre de 1941, las sirenas antia√©reas sonaron 251 veces en la ciudad. El promedio diario de bombardeos de artiller√≠a en noviembre de 1941 alcanz√≥ las nueve horas. El invierno result√≥ muy fr√≠o y largo . Desde el oto√±o pr√°cticamente no hab√≠a electricidad ni¬†calefacci√≥n y dej√≥ de circular el transporte.</p><p>Para llegar al trabajo¬†los ciudadanos¬†gastaban sus √∫ltimas fuerzas en cruzar calles¬†cubiertas de enormes capas de nieve. Unos ca√≠an agotados, otros se congelaban sin energ√≠a para levantarse y seguir.</p><p>Los meses m√°s duros fueron enero y febrero de 1942. Tan solo la parte de la poblaci√≥n que trabajaba pudo recibir un poco de pan. Se registraron varios¬†casos de canibalismo.</p><p>Sin embargo, a pesar de las atroces circunstancias en las que viv√≠an, los residentes¬†construyeron m√°s de 4.100 fortines y b√∫nkeres , instalaron unos 22.000 islotes de resistencia en edificios, montaron m√°s de 35 kil√≥metros de barricadas y obst√°culos antitanque en las calles. Los obreros fabricaron y repararon unos 2.000 tanques, 1.500 aviones, 850 buques de guerra y barcos de diversas clases, entre otras armas.</p><p>La poblaci√≥n de Leningrado tambi√©n era la principal fuente de refuerzos para las tropas del Frente de Leningrado; se formaron en la ciudad 10 divisiones de la milicia popular, y m√°s de 100.000 leningradenses marcharon al frente durante el invierno y la primavera de 1941-1942.</p><p>El llamado Camino de la Vida, √∫nica ruta de transporte estrat√©gico-militar que atravesaba el lago L√°doga durante la Gran Guerra Patria (por agua y sobre hielo en invierno), conect√≥ Leningrado con el resto del pa√≠s desde septiembre de 1941 hasta marzo de 1943. En oto√±o de 1941, se transportaron m√°s de 60.000 toneladas de carga a la ciudad a trav√©s del lago L√°doga y por aire. Tras el cese de la navegaci√≥n, entre noviembre de 1941 y abril de 1942, 550.000 personas, equipos industriales y otros bienes fueron evacuados por la ruta de hielo. En el verano de 1942, se instal√≥ un oleoducto a lo largo y el fondo del L√°doga para abastecer de combustible a Leningrado, y en oto√±o, se traz√≥ un cableado el√©ctrico.</p><p>A partir del 25 de diciembre, gracias a las entregas de v√≠veres por el Camino de la Vida, las raciones comenzaron a aumentar.</p><p>El plan general de la operaci√≥n Iskra (Chispa) consist√≠a en contraatacar desde dos frentes ‚Äîel Frente de Leningrado (es decir, las tropas bloqueadas en la ciudad y sus afueras) al oeste y el Frente de V√≥ljov (desde fuera del bloqueo) al este‚Äî para derrotar al grupo nazi que controlaba el saliente de Shlisselburg-Siniavin. El mando de los frentes fue confiado al teniente-general Leonid G√≥vorov y al general de Ej√©rcito Kiril Meretskov. La coordinaci√≥n de la operaci√≥n estuvo a cargo de representantes de la Stavka (el mando militar del pa√≠s), el general de Ej√©rcito Zh√∫kov y el mariscal Kliment Vorosh√≠lov.</p><p>El 12 de enero de 1943, tras una cuidadosa preparaci√≥n, el 67.¬∫ Ej√©rcito del Frente de Leningrado lanz√≥ un poderoso ataque de oeste a este, mientras que los 2.¬∫ y 8.¬∫ Ej√©rcitos del Frente de V√≥ljov, avanzaron a su encuentro. La ofensiva cont√≥ con el apoyo de la artiller√≠a de gran calibre de buques de guerra estacionados en la base de Kronshtadt, artiller√≠a costera y aviones de la Flota del B√°ltico, as√≠ como de aviones de largo alcance.</p><p>El 18 de enero de 1943, en las afueras orientales del asentamiento Rabochi Posi√≥lok, cerca de Shlisselburg, luego de un ataque decisivo, unidades de la 123.¬™ Brigada de Fusileros del Frente de Leningrado se unieron a unidades de la 372.¬™ Divisi√≥n del Frente de V√≥ljov. Posteriormente, se reunieron otras unidades militares sovi√©ticas. Ese mismo d√≠a, Shlisselburg y toda la orilla sur del lago L√°doga quedaron completamente liberadas .</p><p>Alrededor de la medianoche del 18 de enero, una emisi√≥n de radio anunci√≥ la ruptura del asedio de Leningrado. Los ciudadanos salieron a las calles y avenidas en se√±al de j√∫bilo. A primera hora de la ma√±ana del 19 de enero, la ciudad se engalan√≥ con banderas.</p><p>Aunque la ruptura solo permiti√≥ recuperar un estrecho corredor desde el Frente de V√≥ljov hasta Shlisselburg, una franja de turbera de entre ocho y once kil√≥metros de ancho permiti√≥ restablecer las comunicaciones terrestres con Leningrado hasta que, finalmente, se levant√≥ el asedio. Comenz√≥ la construcci√≥n del ferrocarril Shlisselburg-Poliany, de 36 kil√≥metros, a lo largo de la orilla sur del lago L√°doga.</p><p>El 6 de febrero de 1943, trenes con v√≠veres, municiones y materias primas comenzaron a viajar hacia Leningrado por el nuevo Camino de la Vida.</p><p>"Era especialmente duro para los ancianos. Quienes hab√≠an perdido cartillas de racionamiento no pod√≠an recuperarlas. A estas personas debilitadas les bastaba con pasar uno o dos d√≠as sin comer para no poder caminar, y cuando les fallaban las piernas, llegaba el fin. Las familias no sol√≠an morirse de inmediato. Mientras hubiera al menos una persona en la familia que pudiera caminar y recibir pan [a cambio de cartillas de racionamiento], el resto, los que se acostaban, segu√≠an vivos. Pero si esa √∫ltima persona dejaba de caminar o se desplomaba en la calle o en las escaleras, era especialmente duro para quienes viv√≠an en los pisos superiores, llegaba el fin para toda la familia [‚Ä¶]. Los cad√°veres yac√≠an en las calles. Nadie los recog√≠a. ¬øQui√©nes eran los muertos? ¬øQuiz√°s esa mujer a√∫n ten√≠a un hijo vivo, esper√°ndola en un apartamento vac√≠o, fr√≠o y oscuro? Muchas mujeres alimentaron a sus hijos, priv√°ndose de los bocados que necesitaban. Estas madres mor√≠an primeras, y sus ni√±os se quedaban solos", record√≥ el famoso medievalista y ling√ºista Dmitri Lijachov .</p><p>Mar√≠a Chistova, nacida en 1921. Durante el asedio, trabaj√≥ como cuidadora en el jard√≠n de infantes de la f√°brica Piatiletka.</p><p>"[...] ni√±os hambrientos, desnutrici√≥n, escorbuto. Bombardeos. Tuvimos que vestir a los ni√±os y llevarlos al otro lado de la calle, a un refugio antia√©reo. Los ni√±os ni siquiera lloraron. Con 3 o 4 a√±os, parec√≠an ancianos [...] Hubo un incidente cuando la t√≠a Ania, la conserje, recibi√≥ algunos v√≠veres para el jard√≠n de la infancia en una tienda en la calle Porojovskaya, y un hombre hambriento la atac√≥ en la calle. Cay√≥ sobre su mochila y, como una piedra, forceje√≥ con todas sus fuerzas. Solo al llegar al jard√≠n de la infancia sinti√≥ el intenso dolor del golpe. Esto m√°s tarde le cost√≥ un ri√±√≥n."</p><p>Antonina Fed√≥tova, nacida en 1928.</p><p>" Recuerdo que una vez, una mujer con una ni√±a peque√±a pas√≥ la noche en las escaleras de nuestro edificio. La madre de la ni√±a estaba completamente agotada y falleci√≥ al d√≠a siguiente, pero √Ånechka se qued√≥ con nosotros. La aliment√© un poco. Luego empec√© a ense√±arle fotograf√≠as: postales con fotos de flores. Le ense√±√© una rosa, dici√©ndole que ol√≠an de maravilla. √Ånechka ten√≠a dos a√±os y medio, y pregunt√≥: '¬øA mantequilla?'. La entregamos despu√©s a un orfanato".</p><p>Anna Vl√°sova, nacida en 1920 en Leningrado. Durante el asedio de Leningrado, estudiaba en el Instituto Pedag√≥gico Herzen.</p><p>"Por la ma√±ana, ve√≠amos cad√°veres en los pasillos del albergue. Estudiantes varones que no hab√≠an sido reclutados por enfermedad se congelaban en los sof√°s. El comandante ped√≠a: 'Chicas, ll√©vennos de aqu√≠'. Y nos llev√°bamos sus cuerpos en trineos. En noviembre, recib√≠amos 125 gramos de pan. Nos sent√°bamos junto a la estufa, part√≠amos un trozo de pan para que pareciera m√°s grande, pensando solo en comida. Era un invierno fr√≠o. Nos turn√°bamos para recibir pan, por las madrugadas. Los cad√°veres de hombres y ni√±os yac√≠an en el camino".</p><p>Yelena Skriabina escribi√≥ en su diario en noviembre de 1941 : "La gente se muere sin parar. [...]¬†La gente est√° tan debilitada por el hambre que no lucha contra la muerte. Mueren como si se durmieran. [...] La muerte se ha convertido en un fen√≥meno que se observa a cada paso. Se han acostumbrado a ella, hay una indiferencia total: al fin y al cabo, hoy no, pero ma√±ana a todos nos espera ese destino. Cuando sales de casa por la ma√±ana, te encuentras con cad√°veres tirados en el callej√≥n, en la calle".</p><p>Del diario de Antonina Grig√≥rieva, una escolar de Leningrado: "Los vagones del tren estaban abarrotados, como un barril de sardinas, de gente d√©bil. Esto era de d√≠a. Al anochecer, nos llevaron por un ferrocarril de v√≠a estrecha a trav√©s del bosque, luego nos subieron a camiones y nos llevaron a trav√©s del lago L√°doga. El viaje fue aterrador; nos disparaban. Mi hermano Zhenia nos dijo: 'Mam√°, Tosia y Kolia, cierren los ojos para que no tengan tanto miedo de ahogarse'. Hab√≠a mucha agua en el hielo, lo que dificultaba el movimiento de los camiones, pero gracias a Dios, llegamos a la orilla. Varios camiones m√°s se arrastraron tras nosotros, y entonces se oy√≥ un grito terrible. Hubo un gran desastre: la gente gritaba y lloraba porque siete camiones, llenos de gente, y tal vez m√°s, se hab√≠an hundido en el fondo del lago L√°doga".</p><p>A pesar de todos los esfuerzos, algunas personas hambrientas no pudieron ser rescatadas, incluso despu√©s de haberse realizado la evacuaci√≥n de la ciudad ; sus cuerpos estaban muy agotados. Entre quienes sintieron los efectos del asedio en el continente se encontraba Tania Savicheva , de 14 a√±os, que perdi√≥ a casi toda su familia ‚Äîsu madre, abuela, hermana, hermano y dos t√≠os‚Äî en la fr√≠a y desierta Leningrado. Desde el principio, Tania llev√≥ un diario de su asedio, que se convirti√≥ en uno de los s√≠mbolos de la Gran Guerra Patria.</p><p></p>
        </div>
        <br><br><br>
            <div style="display: none;">
                <label for="voiceSelect">Seleccionar voz:</label>
                <select id="voiceSelect"></select>
            </div>
            <div class="controls">
                <button onclick="startReading()" id="playButton">
                    üîä Leer
                </button>
                <button onclick="pauseReading()" id="pauseButton" disabled style="display: none;">
                    ‚è∏Ô∏è Pausar
                </button>
                <button onclick="resumeReading()" id="resumeButton" disabled style="display: none;">
                    ‚ñ∂Ô∏è Continuar
                </button>
                <button onclick="stopReading()" id="stopButton" disabled>
                    ‚èπÔ∏è Detener
                </button>
            </div>
            <div id="progress" style="display: none;"></div>
        <br><br><br>
        <button class="btnL" onclick="compartir()">Compartir</button>
        <br><br><br>
        <button class="btnL" onclick="window.location.href='https://actualidad.rt.com/a-fondo/582460-sitio-leningrado-urss-guerra'">Ver en web original</button>
        <br><br><br>
        <!-- <button class="btnL" onclick="window.location.href='https://matenews.github.io/MateNews/'">Volver a la p√°gina principal</button>
        <br><br><br> -->


        <script>
            function compartir() {
            if (navigator.share) {
                navigator.share({
                title: 'Hace 83 a√±os se prendi√≥ la 'chispa' que abri√≥ una brecha en el bloqueo de Leningrado', // Opcional, pero recomendado     
                text: 'Hace 83 a√±os se prendi√≥ la 'chispa' que abri√≥ una brecha en el bloqueo de Leningrado',  // Opcional
                url: 'https://actualidad.rt.com/a-fondo/582460-sitio-leningrado-urss-guerra'
                })
                .then(() => console.log('Contenido compartido exitosamente'))
                .catch((error) => console.error('Error al compartir:', error));
            } else {
                // C√≥digo alternativo si la API Web Share no est√° disponible
                console.log("Web Share API no soportada");
                // Puedes usar aqu√≠ la opci√≥n 2 (botones personalizados con JavaScript) de mi respuesta anterior
            }
            }
        </script>


        <script>
            let speechSynthesis = window.speechSynthesis;
            let currentUtterance = null;
            let isPaused = false;
            let isReading = false;
            let textBlocks = [];
            let currentBlockIndex = 0;
            let lastSpokenIndex = 0;
            const BLOCK_SIZE = 800;

            function updateButtons(speaking) {
                document.getElementById('playButton').disabled = speaking;
                document.getElementById('pauseButton').disabled = !speaking;
                document.getElementById('resumeButton').disabled = !isPaused;
                document.getElementById('stopButton').disabled = !speaking;
            }

            function updateProgress() {
                const progressDiv = document.getElementById('progress');
                if (isReading) {
                    progressDiv.textContent = `Leyendo bloque ${currentBlockIndex + 1} de ${textBlocks.length}`;
                } else {
                    progressDiv.textContent = '';
                }
            }

            function splitIntoBlocks(text) {
                // Dividir el texto en oraciones usando puntuaci√≥n com√∫n
                const sentences = text.replace(/([.!?])\s+/g, "$1|").split("|");

                let blocks = [];
                let currentBlock = '';

                sentences.forEach(sentence => {
                    // Si la oraci√≥n es muy larga, dividirla en la coma m√°s cercana al BLOCK_SIZE
                    if (sentence.length > BLOCK_SIZE) {
                        let subSentences = sentence.replace(/,\s+/g, ",|").split("|");
                        subSentences.forEach(subSentence => {
                            if (currentBlock.length + subSentence.length > BLOCK_SIZE) {
                                if (currentBlock) blocks.push(currentBlock.trim());
                                currentBlock = subSentence;
                            } else {
                                currentBlock += (currentBlock ? ' ' : '') + subSentence;
                            }
                        });
                    } else {
                        if (currentBlock.length + sentence.length > BLOCK_SIZE) {
                            blocks.push(currentBlock.trim());
                            currentBlock = sentence;
                        } else {
                            currentBlock += (currentBlock ? ' ' : '') + sentence;
                        }
                    }
                });

                if (currentBlock) blocks.push(currentBlock.trim());
                return blocks;
            }

            function speakBlock(index) {
                if (index >= textBlocks.length) {
                    isReading = false;
                    updateButtons(false);
                    updateProgress();
                    return;
                }

                currentUtterance = new SpeechSynthesisUtterance(textBlocks[index]);
                currentUtterance.rate = parseFloat(1.3);
                lastSpokenIndex = index;


                currentUtterance.onend = function() {
                    if (isReading && !isPaused) {
                        currentBlockIndex++;
                        updateProgress();
                        speakBlock(currentBlockIndex);
                    }
                };

                currentUtterance.onerror = function(event) {
                    console.error('Error en la lectura:', event);
                    isReading = false;
                    updateButtons(false);
                    updateProgress();
                };

                speechSynthesis.speak(currentUtterance);
            }

            function startReading() {
                const text = document.getElementById('texto').innerText;
                if (!text) return;

                // Detener cualquier lectura previa
                stop();

                // Preparar nueva lectura
                textBlocks = splitIntoBlocks(text);
                currentBlockIndex = 0;
                isReading = true;
                isPaused = false;

                updateButtons(true);
                updateProgress();
                speakBlock(currentBlockIndex);
            }

            function pause() {
                speechSynthesis.pause();
                isPaused = true;
                updateButtons(true);
            }

            function resume() {
                speechSynthesis.resume();
                isPaused = false;
                updateButtons(true);
            }

            function stop() {
                speechSynthesis.cancel();
                isReading = false;
                isPaused = false;
                currentBlockIndex = 0;
                updateButtons(false);
                updateProgress();
            }

            function pauseReading() {
                if (!isReading) return;

                speechSynthesis.pause();
                isPaused = true;
                isReading = false;
                updateButtons(true);
                updateProgress();
            }

            function resumeReading() {
                if (!isPaused) return;

                isPaused = false;
                isReading = true;

                // Si el utterance actual ya termin√≥, comenzar con el siguiente bloque
                if (lastSpokenIndex === currentBlockIndex) {
                    currentBlockIndex++;
                }

                updateButtons(true);
                updateProgress();

                // Si hay un utterance pausado, resumirlo
                if (speechSynthesis.paused) {
                    speechSynthesis.resume();
                } else {
                    // Si no hay utterance pausado, comenzar desde el bloque actual
                    speakBlock(currentBlockIndex);
                }
            }

            function stopReading() {
                speechSynthesis.cancel();
                finishReading();
            }

            function finishReading() {
                isReading = false;
                isPaused = false;
                currentBlockIndex = 0;
                lastSpokenIndex = -1;
                currentUtterance = null;
                updateButtons(false);
                updateProgress();
            }

        </script>        

        <script>

            var elem = document.documentElement;
            var fullscreenButton = document.getElementById("fullscreenButton");
            var fullscreenIcon = document.getElementById("fullscreenIcon");

            fullscreenButton.addEventListener("click", function() {
            if (document.fullscreenElement || document.mozFullScreenElement || document.webkitFullscreenElement || document.msFullscreenElement) {
                if (document.exitFullscreen) {
                document.exitFullscreen();
                } else if (document.mozCancelFullScreen) { /* Firefox */
                document.mozCancelFullScreen();
                } else if (document.webkitExitFullscreen) { /* Chrome, Safari and Opera */
                document.webkitExitFullscreen();
                } else if (document.msExitFullscreen) { /* IE/Edge */
                document.msExitFullscreen();
                }
            } else {
                if (elem.requestFullscreen) {
                elem.requestFullscreen();
                } else if (elem.mozRequestFullScreen) { /* Firefox */
                elem.mozRequestFullScreen();
                } else if (elem.webkitRequestFullscreen) { /* Chrome, Safari and Opera */
                elem.webkitRequestFullscreen();
                } else if (elem.msRequestFullscreen) { /* IE/Edge */
                elem.msRequestFullscreen();
                }
            }
            });

            document.addEventListener('fullscreenchange', (event) => {
            if (!document.fullscreenElement) {
                fullscreenIcon.innerHTML = '<path d="M5 5h5v5H5zM14 5h5v5h-5zM5 14h5v5H5zM14 14h5v5h-5z"/>';
            } else {
                fullscreenIcon.innerHTML = '<path d="M7 14H5v5h5v-2H7v-3zm-2-4h2V7h3V5H5v5zm12 7h-3v2h5v-5h-2v3zM14 5v2h3v3h2V5h-5z"/>';
            }
            });
        </script>

    </body>
    </html>