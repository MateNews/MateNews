<!DOCTYPE html>
    <html lang="es">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>El sorpresivo resultado que abre una inc贸gnita en las presidenciales de Chile</title>
        <style>
            body {
                max-width: 800px;
                margin: auto;
                padding: 5%;
            }
            .btnL {
                background: #d1d1d1;
                border-radius: 7px;
                padding: 18px;
                min-width: 100%;
                color: #000000;
                font-size: medium;
                min-height: 70px;
            }
            button {
                background-color: #d1d1d1;
                color: white;
                padding: 10px 20px;
                border: none;
                border-radius: 4px;
                cursor: pointer;
                margin: 5px;
            }
            button:disabled {
                background-color: #d1d1d1;
                cursor: not-available;
            }
            button:hover:not(:disabled) {
                background-color: #d1d1d1;
            }
            #voiceSelect {
                margin: 10px 0;
                padding: 5px;
            }
            .controls {
                margin: 10px 0;
            }

            #fullscreenButton {
                position: fixed;
                top: 20px;
                right: 20px;
                padding: 10px;
                background-color: transparent;
                border: none;
                cursor: pointer;
                border-radius: 5px;
            }

            #fullscreenIcon {
                width: 24px;
                height: 24px;
            }

        </style>
    </head>
    <body>
        <button id="fullscreenButton">
        <svg id="fullscreenIcon" viewBox="0 0 24 24" fill="currentColor">
            <path d="M5 5h5v5H5zM14 5h5v5h-5zM5 14h5v5H5zM14 14h5v5h-5z"/>
        </svg>
        </button>

        <div id="texto">
            <h1>El sorpresivo resultado que abre una inc贸gnita en las presidenciales de Chile</h1>
            <p>Una duda inesperada se col贸 en las elecciones presidenciales de Chile, luego de que el candidato Franco Parisi obtuviera un abultado caudal devotos que ahora no se sabe c贸mose trasladar谩 a dirigentes que pasaron a la segunda vuelta prevista para elpr贸ximo 14 de diciembre.</p><p>El domingo, tal como vaticinaron las encuestas, la candidata oficialista y comunista, Jeannette Jara , y uno de los abanderados de la ultraderecha, Jos茅 Antonio Kast , pasaron al balotaje al obtener 26,85 % y 23,92 % de los votos, respectivamente.</p><p>La gran sorpresa fue Parisi, un economista conservador que se present贸 como alternativa de centro, alejado de la izquierda y la derecha. Era su tercera vez como postulante, pero los sondeos le otorgaban intenciones de voto incluso de un d铆gito. No obstante, se equivocaron.</p><p>Parisiobtuvo un contundente 19,71 % , con lo que desplaz贸 a otro l铆der ultraderechista, Johannes Kaiser , quien se qued贸 con un 13,94 % de los votos.</p><p>Previo a la jornada electoral, el escenario que se preve铆a era que Jara ganarala primera vuelta, pero no con uncaudal suficiente para derrotar a Kast en el balotaje, ya que el ultraderechista sumar谩 losvotos de Kaiser y de la candidata conservadora Evelyn Matthei , quien obtuvo12,46 % de sufragios el domingo.</p><p>Esa posibilidad se mantiene, ya que Kaiser y Matthei forman parte de los influyentes sectores de la derecha y ultraderecha chilena, que se dispersaron en esta elecci贸n y no lograron construir una candidatura 煤nica.</p><p>Con sus votos, por ahora Kast podr铆a tener los respaldos necesarios para ganar .Si adem谩s logra atraer los votos de Parisi, su eventual triunfo en la segunda vuelta ser铆a todav铆a m谩s contundente.</p><p>Otra posibilidades queJara consigael apoyo de Parisi y pueda convertirse en una candidata m谩s competitiva al sumar, hipot茅ticamente, el 3 % de los votos que alcanzaron los tres candidatos independientes (Marco Enr铆quez Ominami, Harold Mayne-Nicholls y Eduardo Art茅s). Sin embargo, el reparto de votos de otros candidatos nunca se traslada por completo, por lo que elpanorama electoral est谩 polarizado.</p><p>A sabiendas de que obtuvo un papel decisivo en la elecci贸n y que nadie lo esperaba, Parisi se neg贸 aapoyar a alguno delos candidatos."Les tengo una mala noticia al candidato Kast y a la candidata Jara: g谩nense los votos, g谩nense la calle ", afirm贸 la noche del domingo.</p><p>Ya con los resultados de la primera vuelta confirmados, el diario El Mercurio consult贸 a varios analistas pol铆ticos chilenos sobre el escenario rumbo a la segunda vuelta y coincidieron en que Jara tiene el principal desaf铆o, ya que a Kast le bastan el apoyo de Matthei y Kaiser para garantizar su triunfo.</p><p>Tambi茅n advirtieron que, en el camino al balotaje, Jara deber铆a distanciarse del Gobierno del presidente Gabriel Boric , quien tiene bajos niveles de popularidad. De otra parte, consideran importante aclararle a los ciudadanos que su militancia comunista no implica ning煤n riesgo para el pa铆s.</p><p>Con respecto a Kast, advirtieron que ni siquiera tiene que hacer "grandes concesiones" con Parisi porque no lo necesita tanto como Jara.</p><p>En opini贸n de los expertos, hay una grancomplejidad para acceder a los votos de Parisi, ya que que en las elecciones de 2021, cuando compiti贸 por segunda vez a la presidencia,sus electores se dividieron en un 32 % para Boric y un 22 % para Kast, as铆 que, en esta ocasi贸n, el destino de esos decisivos sufragios es una fuerte inc贸gnita.</p>
        </div>
        <br><br><br>
            <div style="display: none;">
                <label for="voiceSelect">Seleccionar voz:</label>
                <select id="voiceSelect"></select>
            </div>
            <div class="controls">
                <button onclick="startReading()" id="playButton">
                     Leer
                </button>
                <button onclick="pauseReading()" id="pauseButton" disabled style="display: none;">
                    革 Pausar
                </button>
                <button onclick="resumeReading()" id="resumeButton" disabled style="display: none;">
                    讹 Continuar
                </button>
                <button onclick="stopReading()" id="stopButton" disabled>
                    癸 Detener
                </button>
            </div>
            <div id="progress" style="display: none;"></div>
        <br><br><br>
        <button class="btnL" onclick="compartir()">Compartir</button>
        <br><br><br>
        <button class="btnL" onclick="window.location.href='https://actualidad.rt.com/actualidad/573347-sorpresivo-resultado-incognita-presidenciales-chile'">Ver en web original</button>
        <br><br><br>
        <!-- <button class="btnL" onclick="window.location.href='https://matenews.github.io/MateNews/'">Volver a la p谩gina principal</button>
        <br><br><br> -->


        <script>
            function compartir() {
            if (navigator.share) {
                navigator.share({
                title: 'El sorpresivo resultado que abre una inc贸gnita en las presidenciales de Chile', // Opcional, pero recomendado     
                text: 'El sorpresivo resultado que abre una inc贸gnita en las presidenciales de Chile',  // Opcional
                url: 'https://actualidad.rt.com/actualidad/573347-sorpresivo-resultado-incognita-presidenciales-chile'
                })
                .then(() => console.log('Contenido compartido exitosamente'))
                .catch((error) => console.error('Error al compartir:', error));
            } else {
                // C贸digo alternativo si la API Web Share no est谩 disponible
                console.log("Web Share API no soportada");
                // Puedes usar aqu铆 la opci贸n 2 (botones personalizados con JavaScript) de mi respuesta anterior
            }
            }
        </script>


        <script>
            let speechSynthesis = window.speechSynthesis;
            let currentUtterance = null;
            let isPaused = false;
            let isReading = false;
            let textBlocks = [];
            let currentBlockIndex = 0;
            let lastSpokenIndex = 0;
            const BLOCK_SIZE = 800;

            function updateButtons(speaking) {
                document.getElementById('playButton').disabled = speaking;
                document.getElementById('pauseButton').disabled = !speaking;
                document.getElementById('resumeButton').disabled = !isPaused;
                document.getElementById('stopButton').disabled = !speaking;
            }

            function updateProgress() {
                const progressDiv = document.getElementById('progress');
                if (isReading) {
                    progressDiv.textContent = `Leyendo bloque ${currentBlockIndex + 1} de ${textBlocks.length}`;
                } else {
                    progressDiv.textContent = '';
                }
            }

            function splitIntoBlocks(text) {
                // Dividir el texto en oraciones usando puntuaci贸n com煤n
                const sentences = text.replace(/([.!?])\s+/g, "$1|").split("|");

                let blocks = [];
                let currentBlock = '';

                sentences.forEach(sentence => {
                    // Si la oraci贸n es muy larga, dividirla en la coma m谩s cercana al BLOCK_SIZE
                    if (sentence.length > BLOCK_SIZE) {
                        let subSentences = sentence.replace(/,\s+/g, ",|").split("|");
                        subSentences.forEach(subSentence => {
                            if (currentBlock.length + subSentence.length > BLOCK_SIZE) {
                                if (currentBlock) blocks.push(currentBlock.trim());
                                currentBlock = subSentence;
                            } else {
                                currentBlock += (currentBlock ? ' ' : '') + subSentence;
                            }
                        });
                    } else {
                        if (currentBlock.length + sentence.length > BLOCK_SIZE) {
                            blocks.push(currentBlock.trim());
                            currentBlock = sentence;
                        } else {
                            currentBlock += (currentBlock ? ' ' : '') + sentence;
                        }
                    }
                });

                if (currentBlock) blocks.push(currentBlock.trim());
                return blocks;
            }

            function speakBlock(index) {
                if (index >= textBlocks.length) {
                    isReading = false;
                    updateButtons(false);
                    updateProgress();
                    return;
                }

                currentUtterance = new SpeechSynthesisUtterance(textBlocks[index]);
                currentUtterance.rate = parseFloat(1.3);
                lastSpokenIndex = index;


                currentUtterance.onend = function() {
                    if (isReading && !isPaused) {
                        currentBlockIndex++;
                        updateProgress();
                        speakBlock(currentBlockIndex);
                    }
                };

                currentUtterance.onerror = function(event) {
                    console.error('Error en la lectura:', event);
                    isReading = false;
                    updateButtons(false);
                    updateProgress();
                };

                speechSynthesis.speak(currentUtterance);
            }

            function startReading() {
                const text = document.getElementById('texto').innerText;
                if (!text) return;

                // Detener cualquier lectura previa
                stop();

                // Preparar nueva lectura
                textBlocks = splitIntoBlocks(text);
                currentBlockIndex = 0;
                isReading = true;
                isPaused = false;

                updateButtons(true);
                updateProgress();
                speakBlock(currentBlockIndex);
            }

            function pause() {
                speechSynthesis.pause();
                isPaused = true;
                updateButtons(true);
            }

            function resume() {
                speechSynthesis.resume();
                isPaused = false;
                updateButtons(true);
            }

            function stop() {
                speechSynthesis.cancel();
                isReading = false;
                isPaused = false;
                currentBlockIndex = 0;
                updateButtons(false);
                updateProgress();
            }

            function pauseReading() {
                if (!isReading) return;

                speechSynthesis.pause();
                isPaused = true;
                isReading = false;
                updateButtons(true);
                updateProgress();
            }

            function resumeReading() {
                if (!isPaused) return;

                isPaused = false;
                isReading = true;

                // Si el utterance actual ya termin贸, comenzar con el siguiente bloque
                if (lastSpokenIndex === currentBlockIndex) {
                    currentBlockIndex++;
                }

                updateButtons(true);
                updateProgress();

                // Si hay un utterance pausado, resumirlo
                if (speechSynthesis.paused) {
                    speechSynthesis.resume();
                } else {
                    // Si no hay utterance pausado, comenzar desde el bloque actual
                    speakBlock(currentBlockIndex);
                }
            }

            function stopReading() {
                speechSynthesis.cancel();
                finishReading();
            }

            function finishReading() {
                isReading = false;
                isPaused = false;
                currentBlockIndex = 0;
                lastSpokenIndex = -1;
                currentUtterance = null;
                updateButtons(false);
                updateProgress();
            }

        </script>        

        <script>

            var elem = document.documentElement;
            var fullscreenButton = document.getElementById("fullscreenButton");
            var fullscreenIcon = document.getElementById("fullscreenIcon");

            fullscreenButton.addEventListener("click", function() {
            if (document.fullscreenElement || document.mozFullScreenElement || document.webkitFullscreenElement || document.msFullscreenElement) {
                if (document.exitFullscreen) {
                document.exitFullscreen();
                } else if (document.mozCancelFullScreen) { /* Firefox */
                document.mozCancelFullScreen();
                } else if (document.webkitExitFullscreen) { /* Chrome, Safari and Opera */
                document.webkitExitFullscreen();
                } else if (document.msExitFullscreen) { /* IE/Edge */
                document.msExitFullscreen();
                }
            } else {
                if (elem.requestFullscreen) {
                elem.requestFullscreen();
                } else if (elem.mozRequestFullScreen) { /* Firefox */
                elem.mozRequestFullScreen();
                } else if (elem.webkitRequestFullscreen) { /* Chrome, Safari and Opera */
                elem.webkitRequestFullscreen();
                } else if (elem.msRequestFullscreen) { /* IE/Edge */
                elem.msRequestFullscreen();
                }
            }
            });

            document.addEventListener('fullscreenchange', (event) => {
            if (!document.fullscreenElement) {
                fullscreenIcon.innerHTML = '<path d="M5 5h5v5H5zM14 5h5v5h-5zM5 14h5v5H5zM14 14h5v5h-5z"/>';
            } else {
                fullscreenIcon.innerHTML = '<path d="M7 14H5v5h5v-2H7v-3zm-2-4h2V7h3V5H5v5zm12 7h-3v2h5v-5h-2v3zM14 5v2h3v3h2V5h-5z"/>';
            }
            });
        </script>

    </body>
    </html>