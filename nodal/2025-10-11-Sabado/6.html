<!DOCTYPE html>
    <html lang="es">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>La Carta</title>
        <style>
            body {
                max-width: 800px;
                margin: auto;
                padding: 5%;
            }
            .btnL {
                background: #d1d1d1;
                border-radius: 7px;
                padding: 18px;
                min-width: 100%;
                color: #000000;
                font-size: medium;
                min-height: 70px;
            }
            button {
                background-color: #d1d1d1;
                color: white;
                padding: 10px 20px;
                border: none;
                border-radius: 4px;
                cursor: pointer;
                margin: 5px;
            }
            button:disabled {
                background-color: #d1d1d1;
                cursor: not-available;
            }
            button:hover:not(:disabled) {
                background-color: #d1d1d1;
            }
            #voiceSelect {
                margin: 10px 0;
                padding: 5px;
            }
            .controls {
                margin: 10px 0;
            }

            #fullscreenButton {
                position: fixed;
                top: 20px;
                right: 20px;
                padding: 10px;
                background-color: transparent;
                border: none;
                cursor: pointer;
                border-radius: 5px;
            }

            #fullscreenIcon {
                width: 24px;
                height: 24px;
            }

        </style>
    </head>
    <body>
        <button id="fullscreenButton">
        <svg id="fullscreenIcon" viewBox="0 0 24 24" fill="currentColor">
            <path d="M5 5h5v5H5zM14 5h5v5h-5zM5 14h5v5H5zM14 14h5v5h-5z"/>
        </svg>
        </button>

        <div id="texto">
            <h1>La Carta</h1>
            <p>La carta</p><p>«Hay una ausencia en nuestro Comité Central de quien posee todos los méritos y todas las virtudes necesarias, en el grado más alto, para pertenecer a él y que, sin embargo, no figura entre los miembros de nuestro Comité Central. Y para explicar esto vamos a leer una carta, aquí: de puño y letra, aquí: transcrita a mano, del compañero Ernesto Guevara, que, por sí misma, se explica. Y dice así:</p><p>«Año de la Agricultura»</p><p>Habana</p><p>Fidel:</p><p>Me recuerdo en esta hora de muchas cosas, de cuando te conocí en casa de María Antonia, de cuando me propusiste venir, de toda la tensión de los preparativos. Un día pasaron preguntando a quién se debía avisar en caso de muerte y la posibilidad real del hecho nos golpeó a todos. Después supimos que era cierto, que en una revolución se triunfa o se muere (si es verdadera). Muchos compañeros quedaron a lo largo del camino hacia la victoria.</p><p>Hoy todo tiene un tono menos dramático porque somos más maduros, pero el hecho se repite. Siento que he cumplido la parte de mi deber que me ataba a la Revolución Cubana en su territorio y me despido de ti, de los compañeros, de tu pueblo que ya es mío.</p><p>Hago formal renuncia de mis cargos en la dirección del Partido, de mi puesto de Ministro, de mi grado de Comandante, de mi condición de Cubano. Nada legal me ata a Cuba, sólo lazos de otra clase que no se pueden romper como los nombramientos.</p><p>Haciendo un recuento de mi vida pasada creo haber trabajado con suficiente honradez y dedicación para consolidar el triunfo revolucionario. Mi única falta de alguna gravedad es no haber confiado más en ti desde los primeros momentos de la Sierra Maestra y no haber comprendido con suficiente claridad tus cualidades de conductor y de revolucionario. He vivido días magníficos y sentí a tu lado el orgullo de pertenecer a nuestro pueblo en los días luminosos y tristes de la crisis del Caribe. Pocas veces brilló más alto un estadista que en esos días, me enorgullezco también de haberte seguido sin vacilaciones, identificado con tu manera de pensar y de ver y apreciar los peligros y los principios.</p><p>Otras tierras del mundo reclaman el concurso de mis modestos esfuerzos. Yo puedo hacer lo que te está negado por tu responsabilidad al frente de Cuba y llegó la hora de separarnos.</p><p>Sépase que lo hago con una mezcla de alegría y de dolor, aquí dejo lo más puro de mis esperanzas de constructor y lo más querido entre mis seres queridos… y dejo un pueblo que me admitió como un hijo; eso lacera una parte de mi espíritu. En los nuevos campos de batalla llevaré la fe que me inculcaste, el espíritu revolucionario de mi pueblo, la sensación de cumplir con el más sagrado de los deberes: luchar contra el imperialismo donde quiera que esté, esto reconforta y cura con creces cualquier desgarradura.</p><p>Digo una vez más que libero a Cuba de cualquier responsabilidad, salvo la que emane de su ejemplo. Que si me llega la hora definitiva bajo otros cielos, mi último pensamiento será para este pueblo y especialmente para ti. Que te doy las gracias por tus enseñanzas y tu ejemplo al que trataré de ser fiel hasta las últimas consecuencias de mis actos. Que he estado identificado siempre con la política exterior de nuestra Revolución y lo sigo estando. Que en dondequiera que me pare sentiré la responsabilidad de ser revolucionario Cubano, y como tal actuaré. Que no dejo a mis hijos y mi mujer nada material y no me apena: me alegra que así sea. Que no pido nada para ellos pues el Estado les dará lo suficiente para vivir y educarse.</p><p>Tendría muchas cosas que decirte a ti y a nuestro pueblo, pero siento que son innecesarias, las palabras no pueden expresar lo que yo quisiera, y no vale la pena emborronar cuartillas.</p><p>Hasta la victoria siempre. ¡Patria o Muerte!</p><p>Te abraza con todo fervor revolucionario</p><p>Che</p><p>A OTRAS TIERRAS DEL MUNDO</p><p>Es imposible soslayar, en estas páginas, la pregunta que tantos hombres se hacen, en todo el mundo, sobre el Che: ¿por qué se fue de Cuba? Creo que la pregunta debe tener en cuenta varias cosas: que de veras el Che es un latinoamericano, como el venezolano Simón Bolívar, el argentino José de San Martín, el dominicano Máximo Gómez -o el martiniqueño Frantz Fanon, tan querido por él-, todos los cuales pelearon por otros países que aquéllos en los que nacieron, a menudo por más de un país; que Cuba es uno de los muchos países latinoamericanos en que ha vivido el Che, y la Revolución Cubana, una de las dos revoluciones latinoamericanas en que ya había participado (la otra es la guatemalteca); que en América Latina -y en el mundo subdesarrollado en general-, quedan muchas revoluciones por hacer, y que esas nuevas revoluciones, requeridas urgentemente por sus pueblos, son capítulos de una misma revolución, como la cubana… En el año 1959, recién bajado el Ejército Rebelde de las lomas, la gente sencilla, en Cuba, tenía la convicción de que el Che, de un momento a otro, saldría a contribuir a la liberación de otro país esclavizado. Pero la Revolución Cubana, apenas iniciada, tenía necesidad de él para afincarse. Él fue pues, ejemplo de trabajador abnegado, de héroe de la construcción. Seis años después, cuando ya esa revolución había pasado su bautismo de fuego; cuando había conocido Girón, la limpia del Escambray, la crisis de octubre; cuando sus fábricas y campos producían ya organizadamente para el pueblo, el Che consideró que «otras tierras del mundo» lo requerían más.</p><p>Los que acusan a los revolucionarios de ciegos deterministas, rechazan constantemente, sin embargo, el elemento de libertad, de novedad, de creación en la historia. Ven que el Che sale de Cuba, y desempolvan conocidas parejas, con las que pretenden disculparse de pensar, y entender un hecho imprevisto para ellos; los sentimentales dicen: Bolívar-San Martín; los malintencionados proponen otros nombres… La verdad es que la historia cuenta con una nueva pareja que de ninguna manera se explica por las anteriores, que es irreductible a esquemas previos: Fidel Castro y Ernesto Guevara. Es admirable ver el complemento de estos dos hombres, la pulsación volcánica de quien el propio Che considera «esa fuerza telúrica llamada Fidel Castro Ruz», y la conceptualización implacable del Che. Y no es lo menos hermoso de este diálogo el instante -éste que vivimos es uno de ellos- en que se interpenetran estas funciones: en que vemos a Fidel, justamente por ser el primer jefe de la revolución, precisar su pensamiento (lo que lo llevará a polemizar para deslindar), y al Che, entregarse a la acción para ser, una vez más, fiel a su teoría. Pues entre las felicidades de la actual revolución latinoamericana está el contar, a su frente, con hombres en quienes la vieja dicotomía cabeza pensante-brazo armado desaparece, fundida en una nueva realidad llameante. ¿Por qué uno de estos hombres, el que no había nacido en Cuba, aunque la ha servido como pocos cubanos, decidió un día volver a pelear, esta vez por la libertad de otras tierras? Ni los lectores ni yo disponemos de datos suficientes. Pero quien más puede hablar sobre esto, y en el mejor momento para hacerlo: Fidel Castro, en la clausura de la Conferencia Tricontinental, que tan magníficamente encarna el ideal tanto de Fidel como del Che, dijo:</p><p>«El compañero Guevara se unió a nosotros cuando estábamos exilados en México, y siempre, desde el primer día, tuvo la idea, claramente expresada, de que cuando la lucha terminara en Cuba, él tenía otros deberes que cumplir en otra parte, y nosotros siempre le dimos nuestra palabra de que ningún interés de Estado, ningún interés nacional, ninguna circunstancia, nos haría pedirle que se quedara en nuestro país, obstaculizar el cumplimiento de ese deseo, o de esa vocación. Y nosotros cumplimos cabalmente y fielmente esa promesa que le hicimos al compañero Guevara».</p><p>(Fragmento del prólogo, escrito por Roberto Fernández Retamar, al libro Ernesto Che Guevara. Obra revolucionaria)</p><p>Granma</p>
        </div>
        <br><br><br>
            <div style="display: none;">
                <label for="voiceSelect">Seleccionar voz:</label>
                <select id="voiceSelect"></select>
            </div>
            <div class="controls">
                <button onclick="startReading()" id="playButton">
                    🔊 Leer
                </button>
                <button onclick="pauseReading()" id="pauseButton" disabled style="display: none;">
                    ⏸️ Pausar
                </button>
                <button onclick="resumeReading()" id="resumeButton" disabled style="display: none;">
                    ▶️ Continuar
                </button>
                <button onclick="stopReading()" id="stopButton" disabled>
                    ⏹️ Detener
                </button>
            </div>
            <div id="progress" style="display: none;"></div>
        <br><br><br>
        <button class="btnL" onclick="compartir()">Compartir</button>
        <br><br><br>
        <button class="btnL" onclick="window.location.href='https://www.nodal.am/2025/10/la-carta/'">Ver en web original</button>
        <br><br><br>
        <!-- <button class="btnL" onclick="window.location.href='https://matenews.github.io/MateNews/'">Volver a la página principal</button>
        <br><br><br> -->


        <script>
            function compartir() {
            if (navigator.share) {
                navigator.share({
                title: 'La Carta', // Opcional, pero recomendado     
                text: 'La Carta',  // Opcional
                url: 'https://www.nodal.am/2025/10/la-carta/'
                })
                .then(() => console.log('Contenido compartido exitosamente'))
                .catch((error) => console.error('Error al compartir:', error));
            } else {
                // Código alternativo si la API Web Share no está disponible
                console.log("Web Share API no soportada");
                // Puedes usar aquí la opción 2 (botones personalizados con JavaScript) de mi respuesta anterior
            }
            }
        </script>


        <script>
            let speechSynthesis = window.speechSynthesis;
            let currentUtterance = null;
            let isPaused = false;
            let isReading = false;
            let textBlocks = [];
            let currentBlockIndex = 0;
            let lastSpokenIndex = 0;
            const BLOCK_SIZE = 800;

            function updateButtons(speaking) {
                document.getElementById('playButton').disabled = speaking;
                document.getElementById('pauseButton').disabled = !speaking;
                document.getElementById('resumeButton').disabled = !isPaused;
                document.getElementById('stopButton').disabled = !speaking;
            }

            function updateProgress() {
                const progressDiv = document.getElementById('progress');
                if (isReading) {
                    progressDiv.textContent = `Leyendo bloque ${currentBlockIndex + 1} de ${textBlocks.length}`;
                } else {
                    progressDiv.textContent = '';
                }
            }

            function splitIntoBlocks(text) {
                // Dividir el texto en oraciones usando puntuación común
                const sentences = text.replace(/([.!?])\s+/g, "$1|").split("|");

                let blocks = [];
                let currentBlock = '';

                sentences.forEach(sentence => {
                    // Si la oración es muy larga, dividirla en la coma más cercana al BLOCK_SIZE
                    if (sentence.length > BLOCK_SIZE) {
                        let subSentences = sentence.replace(/,\s+/g, ",|").split("|");
                        subSentences.forEach(subSentence => {
                            if (currentBlock.length + subSentence.length > BLOCK_SIZE) {
                                if (currentBlock) blocks.push(currentBlock.trim());
                                currentBlock = subSentence;
                            } else {
                                currentBlock += (currentBlock ? ' ' : '') + subSentence;
                            }
                        });
                    } else {
                        if (currentBlock.length + sentence.length > BLOCK_SIZE) {
                            blocks.push(currentBlock.trim());
                            currentBlock = sentence;
                        } else {
                            currentBlock += (currentBlock ? ' ' : '') + sentence;
                        }
                    }
                });

                if (currentBlock) blocks.push(currentBlock.trim());
                return blocks;
            }

            function speakBlock(index) {
                if (index >= textBlocks.length) {
                    isReading = false;
                    updateButtons(false);
                    updateProgress();
                    return;
                }

                currentUtterance = new SpeechSynthesisUtterance(textBlocks[index]);
                currentUtterance.rate = parseFloat(1.3);
                lastSpokenIndex = index;


                currentUtterance.onend = function() {
                    if (isReading && !isPaused) {
                        currentBlockIndex++;
                        updateProgress();
                        speakBlock(currentBlockIndex);
                    }
                };

                currentUtterance.onerror = function(event) {
                    console.error('Error en la lectura:', event);
                    isReading = false;
                    updateButtons(false);
                    updateProgress();
                };

                speechSynthesis.speak(currentUtterance);
            }

            function startReading() {
                const text = document.getElementById('texto').innerText;
                if (!text) return;

                // Detener cualquier lectura previa
                stop();

                // Preparar nueva lectura
                textBlocks = splitIntoBlocks(text);
                currentBlockIndex = 0;
                isReading = true;
                isPaused = false;

                updateButtons(true);
                updateProgress();
                speakBlock(currentBlockIndex);
            }

            function pause() {
                speechSynthesis.pause();
                isPaused = true;
                updateButtons(true);
            }

            function resume() {
                speechSynthesis.resume();
                isPaused = false;
                updateButtons(true);
            }

            function stop() {
                speechSynthesis.cancel();
                isReading = false;
                isPaused = false;
                currentBlockIndex = 0;
                updateButtons(false);
                updateProgress();
            }

            function pauseReading() {
                if (!isReading) return;

                speechSynthesis.pause();
                isPaused = true;
                isReading = false;
                updateButtons(true);
                updateProgress();
            }

            function resumeReading() {
                if (!isPaused) return;

                isPaused = false;
                isReading = true;

                // Si el utterance actual ya terminó, comenzar con el siguiente bloque
                if (lastSpokenIndex === currentBlockIndex) {
                    currentBlockIndex++;
                }

                updateButtons(true);
                updateProgress();

                // Si hay un utterance pausado, resumirlo
                if (speechSynthesis.paused) {
                    speechSynthesis.resume();
                } else {
                    // Si no hay utterance pausado, comenzar desde el bloque actual
                    speakBlock(currentBlockIndex);
                }
            }

            function stopReading() {
                speechSynthesis.cancel();
                finishReading();
            }

            function finishReading() {
                isReading = false;
                isPaused = false;
                currentBlockIndex = 0;
                lastSpokenIndex = -1;
                currentUtterance = null;
                updateButtons(false);
                updateProgress();
            }

        </script>        

        <script>

            var elem = document.documentElement;
            var fullscreenButton = document.getElementById("fullscreenButton");
            var fullscreenIcon = document.getElementById("fullscreenIcon");

            fullscreenButton.addEventListener("click", function() {
            if (document.fullscreenElement || document.mozFullScreenElement || document.webkitFullscreenElement || document.msFullscreenElement) {
                if (document.exitFullscreen) {
                document.exitFullscreen();
                } else if (document.mozCancelFullScreen) { /* Firefox */
                document.mozCancelFullScreen();
                } else if (document.webkitExitFullscreen) { /* Chrome, Safari and Opera */
                document.webkitExitFullscreen();
                } else if (document.msExitFullscreen) { /* IE/Edge */
                document.msExitFullscreen();
                }
            } else {
                if (elem.requestFullscreen) {
                elem.requestFullscreen();
                } else if (elem.mozRequestFullScreen) { /* Firefox */
                elem.mozRequestFullScreen();
                } else if (elem.webkitRequestFullscreen) { /* Chrome, Safari and Opera */
                elem.webkitRequestFullscreen();
                } else if (elem.msRequestFullscreen) { /* IE/Edge */
                elem.msRequestFullscreen();
                }
            }
            });

            document.addEventListener('fullscreenchange', (event) => {
            if (!document.fullscreenElement) {
                fullscreenIcon.innerHTML = '<path d="M5 5h5v5H5zM14 5h5v5h-5zM5 14h5v5H5zM14 14h5v5h-5z"/>';
            } else {
                fullscreenIcon.innerHTML = '<path d="M7 14H5v5h5v-2H7v-3zm-2-4h2V7h3V5H5v5zm12 7h-3v2h5v-5h-2v3zM14 5v2h3v3h2V5h-5z"/>';
            }
            });
        </script>

    </body>
    </html>