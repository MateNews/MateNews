<!DOCTYPE html>
    <html lang="es">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>Terminó la fecha 20: River y Racing se acercaron a la Libertadores 2025 y Boca, a un punto de salir de la zona de Sudamericana.</title>
        <style>
            body {
                max-width: 800px;
                margin: auto;
                padding: 5%;
            }
            .btnL {
                background: #d1d1d1;
                border-radius: 7px;
                padding: 18px;
                min-width: 100%;
                color: #000000;
                font-size: medium;
                min-height: 70px;
            }
            button {
                background-color: #d1d1d1;
                color: white;
                padding: 10px 20px;
                border: none;
                border-radius: 4px;
                cursor: pointer;
                margin: 5px;
            }
            button:disabled {
                background-color: #d1d1d1;
                cursor: not-available;
            }
            button:hover:not(:disabled) {
                background-color: #d1d1d1;
            }
            #voiceSelect {
                margin: 10px 0;
                padding: 5px;
            }
            .controls {
                margin: 10px 0;
            }
        </style>
    </head>
    <body>
        <div id="texto">
            <h1>Terminó la fecha 20: River y Racing se acercaron a la Libertadores 2025 y Boca, a un punto de salir de la zona de Sudamericana.</h1>
            <p>La fecha 20 de la Liga Profesional llegó a su fin y la lucha por el ingreso a las copas está que arde. River y Racing fueron los grandes que ganaron y se acercaron a la zona de Libertadores; en tanto, Boca Juniors cayó ante Lanús y quedó muy comprometido, a siete de ese lugar de privilegio y a un punto de salir del lugar que brinda un boleto a la Sudamericana.</p><p>La Academia venció 2-0 a Instituto este domingo en el Cilindro de Avellaneda, con mayoría de suplentes producto de su clasificación entresemana a las semifinales de la Sudamericana ante Corinthians. El equipo de Costas suma 55 puntos y marcha en el quinto lugar, a solo dos unidades de la zona de Libertadores.</p><p>Luego de la victoria ante Banfield en el estadio Monumental, el equipo que dirige Marcelo Gallardo, que venía de quedar eliminado en semifinales de la Copa Libertadores ante Atlético Mineiro, sumó tres puntos vitales en la búsqueda de clasificar la máxima competencia de Conmebol de 2025.</p><p>Con este resultado ante el Taladro, el Millonario quedó en la misma línea que Godoy Cruz (igualó 1-1 con Atlético Tucumán) y Talleres de Córdoba (empató 0-0 con Riestra), con 57 puntos, en puestos de clasificación a la Libertadores, pero pasó a ambos conjuntos por tener mejor diferencia de goles. El líder de la anual es Vélez, que acumula 64 unidades.</p><p>El único clasificado a la Libertadores 2025 hasta el momento es Estudiantes de La Plata por haber obtenido la Copa de la Liga Profesional. Los restantes cinco cupos corresponderán a los tres mejores de la tabla anual, el campeón de la Liga y el ganador de la Copa Argentina. Además, habrá que esperar lo que ocurra con Racing en la final de la Copa Sudamericana ante Cruzeiro, ya que si la gana, accederá al torneo más importante a nivel clubes del continente.</p><p>En cuanto a la contienda por el ingreso a la Copa Sudamericana del próximo año, hay un lote de equipos peleando por las seis plazas disponibles y hasta el momento los clasificados son: Talleres (57), Racing (55), Unión de Santa Fe (53), Huracán (52), Boca Juniors (50) e Independiente (50). Detrás vienen Argentinos Juniors (49), Instituto (46), Lanús (46) y Platense (46).</p><p>Por su parte, con 21 puntos en juego a falta de siete fechas por disputarse en la Liga Profesional, Vélez dejó pasar una nueva oportunidad al empatar por 1 a 1 contra Argentinos y no se pudo alejar en lo más alto. Tanto el Fortín (39), Huracán (36) y Talleres (33) no sumaron de a tres en el fin de semana y les permitió a Unión (33), que venció por 2 a 0 a Newell’s, a Racing (31) y a River (30) acercarse a lo más alto de la tabla.</p><p>ASÍ ESTÁ LA TABLA ANUAL DE LA LIGA PROFESIONAL:</p><p>Temas Relacionados</p><p></p>
        </div>
        <br><br><br>
            <div style="display: none;">
                <label for="voiceSelect">Seleccionar voz:</label>
                <select id="voiceSelect"></select>
            </div>
            <div class="controls">
                <button onclick="startReading()" id="playButton">
                    🔊 Leer
                </button>
                <button onclick="pauseReading()" id="pauseButton" disabled style="display: none;">
                    ⏸️ Pausar
                </button>
                <button onclick="resumeReading()" id="resumeButton" disabled style="display: none;">
                    ▶️ Continuar
                </button>
                <button onclick="stopReading()" id="stopButton" disabled>
                    ⏹️ Detener
                </button>
            </div>
            <div id="progress" style="display: none;"></div>
        <br><br><br>
        <button class="btnL" onclick="compartir()">Compartir</button>
        <br><br><br>
        <button class="btnL" onclick="window.location.href='https://www.infobae.com/deportes/2024/11/04/termino-la-fecha-20-river-y-racing-se-acercaron-a-la-libertadores-2025-y-boca-a-un-punto-de-salir-de-la-zona-de-sudamericana/'">Ver en web original</button>
        <br><br><br>
        <!-- <button class="btnL" onclick="window.location.href='https://matenews.github.io/MateNews/'">Volver a la página principal</button>
        <br><br><br> -->


        <script>
            function compartir() {
            if (navigator.share) {
                navigator.share({
                title: 'Terminó la fecha 20: River y Racing se acercaron a la Libertadores 2025 y Boca, a un punto de salir de la zona de Sudamericana.', // Opcional, pero recomendado     
                text: 'Terminó la fecha 20: River y Racing se acercaron a la Libertadores 2025 y Boca, a un punto de salir de la zona de Sudamericana.',  // Opcional
                url: 'https://www.infobae.com/deportes/2024/11/04/termino-la-fecha-20-river-y-racing-se-acercaron-a-la-libertadores-2025-y-boca-a-un-punto-de-salir-de-la-zona-de-sudamericana/'
                })
                .then(() => console.log('Contenido compartido exitosamente'))
                .catch((error) => console.error('Error al compartir:', error));
            } else {
                // Código alternativo si la API Web Share no está disponible
                console.log("Web Share API no soportada");
                // Puedes usar aquí la opción 2 (botones personalizados con JavaScript) de mi respuesta anterior
            }
            }
        </script>


        <script>
            let speechSynthesis = window.speechSynthesis;
            let currentUtterance = null;
            let isPaused = false;
            let isReading = false;
            let textBlocks = [];
            let currentBlockIndex = 0;
            let lastSpokenIndex = 0;
            const BLOCK_SIZE = 800;

            function updateButtons(speaking) {
                document.getElementById('playButton').disabled = speaking;
                document.getElementById('pauseButton').disabled = !speaking;
                document.getElementById('resumeButton').disabled = !isPaused;
                document.getElementById('stopButton').disabled = !speaking;
            }

            function updateProgress() {
                const progressDiv = document.getElementById('progress');
                if (isReading) {
                    progressDiv.textContent = `Leyendo bloque ${currentBlockIndex + 1} de ${textBlocks.length}`;
                } else {
                    progressDiv.textContent = '';
                }
            }

            function splitIntoBlocks(text) {
                // Dividir el texto en oraciones usando puntuación común
                const sentences = text.replace(/([.!?])\s+/g, "$1|").split("|");

                let blocks = [];
                let currentBlock = '';

                sentences.forEach(sentence => {
                    // Si la oración es muy larga, dividirla en la coma más cercana al BLOCK_SIZE
                    if (sentence.length > BLOCK_SIZE) {
                        let subSentences = sentence.replace(/,\s+/g, ",|").split("|");
                        subSentences.forEach(subSentence => {
                            if (currentBlock.length + subSentence.length > BLOCK_SIZE) {
                                if (currentBlock) blocks.push(currentBlock.trim());
                                currentBlock = subSentence;
                            } else {
                                currentBlock += (currentBlock ? ' ' : '') + subSentence;
                            }
                        });
                    } else {
                        if (currentBlock.length + sentence.length > BLOCK_SIZE) {
                            blocks.push(currentBlock.trim());
                            currentBlock = sentence;
                        } else {
                            currentBlock += (currentBlock ? ' ' : '') + sentence;
                        }
                    }
                });

                if (currentBlock) blocks.push(currentBlock.trim());
                return blocks;
            }

            function speakBlock(index) {
                if (index >= textBlocks.length) {
                    isReading = false;
                    updateButtons(false);
                    updateProgress();
                    return;
                }

                currentUtterance = new SpeechSynthesisUtterance(textBlocks[index]);
                currentUtterance.rate = parseFloat(1.3);
                lastSpokenIndex = index;


                currentUtterance.onend = function() {
                    if (isReading && !isPaused) {
                        currentBlockIndex++;
                        updateProgress();
                        speakBlock(currentBlockIndex);
                    }
                };

                currentUtterance.onerror = function(event) {
                    console.error('Error en la lectura:', event);
                    isReading = false;
                    updateButtons(false);
                    updateProgress();
                };

                speechSynthesis.speak(currentUtterance);
            }

            function startReading() {
                const text = document.getElementById('texto').innerText;
                if (!text) return;

                // Detener cualquier lectura previa
                stop();

                // Preparar nueva lectura
                textBlocks = splitIntoBlocks(text);
                currentBlockIndex = 0;
                isReading = true;
                isPaused = false;

                updateButtons(true);
                updateProgress();
                speakBlock(currentBlockIndex);
            }

            function pause() {
                speechSynthesis.pause();
                isPaused = true;
                updateButtons(true);
            }

            function resume() {
                speechSynthesis.resume();
                isPaused = false;
                updateButtons(true);
            }

            function stop() {
                speechSynthesis.cancel();
                isReading = false;
                isPaused = false;
                currentBlockIndex = 0;
                updateButtons(false);
                updateProgress();
            }

            function pauseReading() {
                if (!isReading) return;

                speechSynthesis.pause();
                isPaused = true;
                isReading = false;
                updateButtons(true);
                updateProgress();
            }

            function resumeReading() {
                if (!isPaused) return;

                isPaused = false;
                isReading = true;

                // Si el utterance actual ya terminó, comenzar con el siguiente bloque
                if (lastSpokenIndex === currentBlockIndex) {
                    currentBlockIndex++;
                }

                updateButtons(true);
                updateProgress();

                // Si hay un utterance pausado, resumirlo
                if (speechSynthesis.paused) {
                    speechSynthesis.resume();
                } else {
                    // Si no hay utterance pausado, comenzar desde el bloque actual
                    speakBlock(currentBlockIndex);
                }
            }

            function stopReading() {
                speechSynthesis.cancel();
                finishReading();
            }

            function finishReading() {
                isReading = false;
                isPaused = false;
                currentBlockIndex = 0;
                lastSpokenIndex = -1;
                currentUtterance = null;
                updateButtons(false);
                updateProgress();
            }

        </script>

    </body>
    </html>