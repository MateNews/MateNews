<!DOCTYPE html>
    <html lang="es">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>La corrida de Toto. Los movimientos del ministro muestran que urgencia mata estrategia frente al vencimiento que se aproxima el 9 de enero de 4.500 millones de d√≥lares. Por Lucka Glezer.</title>
        <style>
            body {
                max-width: 800px;
                margin: auto;
                padding: 5%;
            }
            .btnL {
                background: #d1d1d1;
                border-radius: 7px;
                padding: 18px;
                min-width: 100%;
                color: #000000;
                font-size: medium;
                min-height: 70px;
            }
            button {
                background-color: #d1d1d1;
                color: white;
                padding: 10px 20px;
                border: none;
                border-radius: 4px;
                cursor: pointer;
                margin: 5px;
            }
            button:disabled {
                background-color: #d1d1d1;
                cursor: not-available;
            }
            button:hover:not(:disabled) {
                background-color: #d1d1d1;
            }
            #voiceSelect {
                margin: 10px 0;
                padding: 5px;
            }
            .controls {
                margin: 10px 0;
            }

            #fullscreenButton {
                position: fixed;
                top: 20px;
                right: 20px;
                padding: 10px;
                background-color: transparent;
                border: none;
                cursor: pointer;
                border-radius: 5px;
            }

            #fullscreenIcon {
                width: 24px;
                height: 24px;
            }

        </style>
    </head>
    <body>
        <button id="fullscreenButton">
        <svg id="fullscreenIcon" viewBox="0 0 24 24" fill="currentColor">
            <path d="M5 5h5v5H5zM14 5h5v5h-5zM5 14h5v5H5zM14 14h5v5h-5z"/>
        </svg>
        </button>

        <div id="texto">
            <h1>La corrida de Toto. Los movimientos del ministro muestran que urgencia mata estrategia frente al vencimiento que se aproxima el 9 de enero de 4.500 millones de d√≥lares. Por Lucka Glezer.</h1>
            <p></p><p>El primer indicio de desesperaci√≥n lleg√≥ envuelto en ingenier√≠a financiera. El Tesoro sali√≥ a colocar un bono en d√≥lares con la pretensi√≥n de juntar 1.000 millones de d√≥lares y la promesa de un cup√≥n ‚Äúpor debajo del 9%‚Äù. En la oferta figur√≥ un cup√≥n nominal del 6,5%, pero el mercado exigi√≥ rendimientos efectivos m√°s altos: la tasa de corte se fij√≥ en 9,26% y la operaci√≥n termin√≥ siendo m√°s cara de lo anunciado.</p><p>La brecha entre el discurso y la tasa efectiva no es un tecnicismo. Muestra que el optimismo oficial choca con el costo real de endeudarse y con la fragilidad de las reservas. Resultado: una emisi√≥n que luce m√°s como un manotazo de liquidez que como se√±al de confianza sostenible.</p><p>Lo cierto es que la colocaci√≥n se anunci√≥ por 1.000 millones, pero al hacerse bajo la par (un term√≥metro claro de desconfianza), el Tesoro termin√≥ recibiendo solo 910 millones de d√≥lares netos. En la jerga financiera, vender bajo la par equivale a admitir que el mercado exige un castigo: los inversores solo aceptan entrar si el precio baja. El rendimiento efectivo, superior al 9,2%, muestra que la operaci√≥n fue un rescate de corto plazo, sostenido m√°s por la necesidad de liquidez que por expectativas de estabilidad.</p><p>El contraste con provincias y empresas es elocuente. Santa Fe coloc√≥ 800 millones de d√≥lares a nueve a√±os en torno al 8,3% y la Ciudad de Buenos Aires hab√≠a hecho lo propio por 600 millones a siete a√±os al 7,8%. En cambio, la Naci√≥n solo consigui√≥ colocar a cuatro a√±os y pagando 9,26%.</p><p>El bono sali√≥ bajo legislaci√≥n local. Ese detalle no es cosm√©tico. Para un inversor, la ley local implica riesgos adicionales y, por eso, exige un premio mayor. Es la raz√≥n por la que una comparaci√≥n simple entre cupones nominales puede resultar enga√±osa.</p><p>Para esa entidad que se define como ‚Äúmercado‚Äù, el bono bajo legislaci√≥n extranjera es condici√≥n necesaria, pero no suficiente, para acceder al financiamiento externo.</p><p>En ese esquema, el pa√≠s se somete a reglas internacionales, sin protecci√≥n judicial local, y eso transmite, seg√∫n esta entidad que se define como mercado, una se√±al de confianza y credibilidad.</p><p>En cambio, un bono bajo legislaci√≥n nacional no constituye una ‚Äúvuelta al mercado‚Äù, sino una forma de financiamiento interno. Se emite dentro del pa√≠s, lo compran bancos, fondos o aseguradoras locales, muchas veces impulsados, como en este caso, por regulaciones o incentivos oficiales, y cualquier disputa se resuelve en tribunales argentinos.</p><p>Pero lo m√°s grave es que cuando un pa√≠s coloca un bono en d√≥lares con una tasa tan alta como el 9,26%, est√° fijando una referencia para todo su endeudamiento futuro. En los mercados, esa tasa funciona como un ‚Äúprecio de entrada‚Äù: indica cu√°nto debe pagar la Argentina para que alguien acepte prestarle dinero voluntariamente.</p><p>Por eso, si el Tesoro paga 9,26% por un bono soberano, cualquier otra negociaci√≥n posterior deber√° ofrecer una tasa igual o superior para resultar atractiva. En finanzas, se dice que la curva de rendimientos se ‚Äúrecalibra hacia arriba‚Äù, porque el riesgo argentino qued√≥ asociado a ese nivel de costo.</p><p>En t√©rminos simples, una colocaci√≥n cara no solo encarece la deuda de hoy, sino tambi√©n la de ma√±ana: sube el piso de las tasas que el pa√≠s deber√° convalidar para refinanciar sus vencimientos. Lo que se presenta como una ‚Äúvuelta al mercado‚Äù puede transformarse as√≠ en un ancla de encarecimiento general del cr√©dito para toda la econom√≠a argentina.</p><p>El √©pico ‚Äúregreso‚Äù a los mercados internacionales fue un fiasco. La demanda fue local y la cosecha, magra. La consigna de ‚Äúreabrir el mercado de capitales‚Äù se tradujo en un pacto entre bancos y aseguradoras para hacerse de parte de los d√≥lares que consiguieron las empresas que consiguieron emitir deuda en el extranjero.</p><p>Desde el resultado electoral, compa√±√≠as argentinas emitieron m√°s de 3.000 millones de d√≥lares en el exterior. Esos d√≥lares alimentaron la oferta del circuito local y terminaron, en parte, reciclados en la colocaci√≥n del Tesoro. Reconfiguraci√≥n de flujos dom√©sticos no es lo mismo que una din√°mica org√°nica de inversi√≥n externa.</p><p>Otro espejo inc√≥modo para el cuentito del retorno hist√≥rico al mercado de deuda es el Bonte 2030. Hace seis meses el gobierno lanz√≥ un instrumento que, como en este caso, se suscrib√≠a en d√≥lares y logr√≥ condiciones m√°s favorables para el Tesoro. Entonces se captaron 850 millones de d√≥lares a pagar en pesos a tres a√±os con una tasa del 29% anual. Hoy, la foto luce m√°s cara y m√°s corta.</p><p>El segundo indicio de la urgencia por los d√≥lares fue la baja de retenciones. Caputo redujo entre uno y dos puntos las al√≠cuotas para los principales granos.</p><p>Un estudio de la Bolsa de Comercio de Rosario calcul√≥ que a√∫n quedan por liquidar unos 27,16 millones de toneladas entre soja y ma√≠z de la campa√±a que est√° terminando y otros 18,6 millones de toneladas de trigo de la campa√±a 2025/26.</p><p>El stock de soja y ma√≠z equivale a unos 7.084 millones de d√≥lares seg√∫n la valuaci√≥n FAS (precio en puerto), mientras que el trigo representa otros 3.000 millones. Para poner en perspectiva, las agroexportadoras liquidaron 7.000 millones de d√≥lares en la ventana sin retenciones que el ministro abri√≥ en septiembre.</p><p>Estos 10.000 millones estoqueados son los que el ministro intenta que el campo movilice a las terminales portuarias. El gesto busca liberar parte de ese stock. Sin embargo, los productores le hab√≠an advertido que dif√≠cilmente iban a liquidar m√°s all√° de lo necesario para afrontar vencimientos y costos fijos.</p><p>El tercer indicio de la inquietud de Toto por los d√≥lares vino disfrazado de ‚Äúnormalizaci√≥n cambiaria‚Äù. El BCRA ajust√≥ reglas que, en los hechos, atrapan d√≥lares por un tiempo. Se cre√≥ un ‚Äúparking‚Äù de 15 d√≠as para los bancos que compran los bonos: en ese lapso no pueden venderse contra pesos. Los bancos que participen de la colocaci√≥n no podr√°n recomponer su posici√≥n en moneda extranjera por 90 d√≠as. Si usan d√≥lares para entrar al bono, no pueden volver a comprarlos por tres meses. Es una forma de obligarlos a quedarse en pesos durante un trimestre cr√≠tico. Una cuarentena cambiaria en miniatura.</p><p>Por otro lado, elimin√≥ las restricciones cruzadas que imped√≠an a las personas acceder al d√≥lar oficial mientras compraban d√≥lares financieros, es decir, bonos que funcionan como su equivalente en el mercado burs√°til. Con esta resoluci√≥n, el gobierno busca darle mayor profundidad al mercado secundario de esos t√≠tulos. Al permitir que los individuos los adquieran sin limitaciones vinculadas al acceso al d√≥lar oficial, se ampl√≠a la base de compradores y se incentiva a los bancos. Ahora encuentran un mercado secundario m√°s amplio y l√≠quido donde colocar esos bonos. Lo concreto es que se desmontan trabas selectivas para facilitar la suscripci√≥n a los bonos y, al mismo tiempo, se tejen nuevas ataduras para prolongar la estad√≠a del billete en manos del Tesoro. Pensamiento liminal.</p><p>La cacer√≠a desesperada de Caputo por el √∫ltimo d√≥lar suelto abre una gran inc√≥gnita: ¬øqu√© pasa con los d√≥lares prometidos por Scott Bessent para calmar al se√±or mercado?</p><p>Lo que queda en evidencia es que se despleg√≥ un relato. Con reservas en niveles cr√≠ticos, Caputo asegur√≥ que el pago a los acreedores de enero se cubrir√° por alguna de tres v√≠as: el swap con Estados Unidos, un cr√©dito repo con bancos privados o la activaci√≥n de otro tramo del swap con China.</p><p>El swap con el Tesoro estadounidense est√° en una nebulosa de desinformaci√≥n y opacidad. Los 20.000 millones de d√≥lares no aparecen y se desconoce c√≥mo y para qu√© puede usarse el monto anunciado.</p><p>El cr√©dito con los bancos privados tampoco fluye. Lo que empez√≥ como un salvataje de 20.000 millones termin√≥ reducido a menos de 5.000 millones y todav√≠a no est√° cerrado. Las negociaciones son fren√©ticas, pero est√°n trabadas en un punto clave: las garant√≠as. La Argentina solo tiene para ofrecer los propios Bopreales, un activo financiero que los bancos ven con m√°s curiosidad que apetito.</p><p>Y el swap con China, la carta que alguna vez fue salvadora, hoy est√° congelado. La autorizaci√≥n depende de Xi Jinping, y la relaci√≥n bilateral atraviesa su peor momento.</p><p>El dato es que la llegada de recursos concretos y verificables no se produce en la medida que exigen los acreedores.¬†Sin esa se√±al, Caputo queda bailando solo contra vencimientos grandes.</p><p>Con este contexto, cabe preguntarse por el destino de las barras de oro del BCRA que el gobierno carg√≥ en un avi√≥n comercial a horas de la madrugada. El mercado calcula que unas 37 toneladas est√°n en Londres, cerca del 60% del total. Gran parte bajo esquemas de canje o swap: el metal no se mueve f√≠sicamente, se intercambian derechos econ√≥micos y puede permanecer en cuentas no asignadas del Banco de Londres. El BCRA suele renovar estos swaps con el BIS cada tres meses.</p><p>Nada en Caputo es nuevo.¬† En 2017 us√≥ oro como garant√≠a para swaps en yenes. La diferencia es la opacidad actual: la operaci√≥n iniciada en octubre de 2024 se mantiene bajo la absoluta oscuridad.</p><p>Ocurre que el oro, en plena escalada de su cotizaci√≥n internacional, podr√≠a ser una v√≠a de escape para aliviar las reservas, pero Caputo ya no tiene margen para mover una ficha sin quebrar otra. Aun con el metal arriba de los 1.400 d√≥lares la onza, las tenencias est√°n comprometidas en operaciones de canje y repos. No puede liquidarlas sin romper contratos. Es la met√°fora perfecta de su situaci√≥n: Toto choca contra los l√≠mites de su propia ingenier√≠a financiera.</p><p>El Bank of New York Mellon (BONY), agente fiduciario y pagador de los bonos bajo ley extranjera, llam√≥ al Ministerio de Econom√≠a para preguntar cu√°ndo piensa la Argentina depositar los fondos del pr√≥ximo pago. Diciembre vuela. Con reservas netas en negativo, la inquietud es leg√≠tima. No es curiosidad: necesita confirmar que el dinero estar√° para cumplir los contratos. El recordatorio del agente pagador suena casi a ultim√°tum.</p><p>El reclamo por el BONY tiene su kil√≥metro cero en la reestructuraci√≥n que Mart√≠n Guzm√°n sell√≥ en 2020. Aquel acuerdo, presentado como una victoria t√©cnica, introdujo una ingenier√≠a de pagos que termin√≥ condicionando cada movimiento posterior: desde entonces, la Argentina qued√≥ obligada a anticipar los dep√≥sitos en la cuenta fiduciaria del Bank of New York Mellon para demostrar solvencia antes de cada vencimiento. Lo que parec√≠a un gesto de confianza se transform√≥ en una pr√°ctica forzada de sumisi√≥n financiera, que hoy vuelve a pasar factura.</p><p>La reestructuraci√≥n de deuda que llev√≥ adelante Mart√≠n Guzm√°n en 2020 fue mucho m√°s costosa de lo que se dice. Esa arquitectura, que en su momento se present√≥ como una salida ordenada del default, termin√≥ siendo una trampa que amplific√≥ la vulnerabilidad financiera de la Argentina.</p><p>Desde entonces, se volvi√≥ uso y costumbre que el Tesoro anticipe los dep√≥sitos con la idea de tranquilizar a los bonistas y mostrar capacidad de pago. No es solo una formalidad: funciona como un gesto pol√≠tico hacia los mercados para contener expectativas y evitar corridas en los precios de los bonos. Cada anticipo previo fue le√≠do como un mensaje de previsibilidad en un contexto de desconfianza estructural.</p><p>Por eso resulta tan inusual que, con vencimientos tan pr√≥ximos, el Gobierno no haya depositado todav√≠a nada. Romper esa pr√°ctica es romper tambi√©n el relato de solvencia que la propia reestructuraci√≥n oblig√≥ a construir: un pa√≠s que debe demostrar, cada tres o seis meses, que sigue siendo capaz de pagar.</p><p>En el FMI crece la idea de que, aun con los 20.000 millones del Tesoro de Estados Unidos, el calendario de pagos luce cr√≠tico. Se baraja un reschedule a partir de 2026 para redise√±ar la curva. No es un salvavidas autom√°tico: implica negociaci√≥n y mejora (o empeora) de las condiciones. Mientras tanto, los vencimientos pesados se acumulan y condicionan toda la pol√≠tica econ√≥mica.</p><p>Los n√∫meros son duros: en los pr√≥ximos 18 meses vencen cerca de 47.800 millones de d√≥lares en capital e intereses del sector p√∫blico. Si se suman compromisos privados, la cifra supera los 57.000 millones. Es un muro que condiciona el tipo de cambio, la pol√≠tica fiscal y el acceso al cr√©dito.</p><p>El plan econ√≥mico de Milei no navega entre tormentas pasajeras. El barco tiene un agujero en la quilla: endeudamiento externo con un correlato directo en la salida de capitales.</p><p>A las claras, no se trata de una mala racha. Es la reproducci√≥n de una estructura hist√≥rica donde el endeudamiento externo y la fuga de capitales condicionan la viabilidad macro.</p><p>En este tablero, la apertura y la apreciaci√≥n cambiaria tienen un efecto pr√°ctico: las cantidades importadas subieron m√°s de 36% y las de bienes de consumo final crecieron 62,7% interanual en los primeros diez meses de 2025. Producci√≥n local que se sustituye por compras afuera. Otra forma de drenaje de d√≥lares.</p><p>Del otro lado, por la puerta de ingreso de los d√≥lares genuinos, las proyecciones m√°s optimistas estiman que Argentina lograr√° juntar 9.000 millones de d√≥lares por la v√≠a comercial a lo largo del 2026. En efecto, en los primeros 10 meses de este a√±o, el resultado fue de 6.846 millones de d√≥lares, cuando en 2024 hab√≠a ara√±ado los 19.000 millones, y en el acumulado de los primeros diez meses alcanzaba 16.000 millones de d√≥lares.</p><p>Desde 1976, la econom√≠a argentina reproduce el esquema. Cada ciclo de apertura financiera con ingreso de divisas v√≠a deuda externa termina con una sangr√≠a equivalente o superior por fuga de capitales privados.</p><p>El primer episodio estructural se inicia con la dictadura de Mart√≠nez de Hoz. Entre 1976 y 1983, la deuda externa pas√≥ de 7.800 millones de d√≥lares a 45.000 millones, mientras la fuga de capitales rond√≥ los 23.000 millones. En apenas siete a√±os, el endeudamiento se multiplic√≥ por seis y medio, y por primera vez el Estado asumi√≥ deudas que originalmente hab√≠an sido privadas.</p><p>Durante el gobierno de Ra√∫l Alfons√≠n, el proceso no se detuvo. La deuda alcanz√≥ los 65.000 millones de d√≥lares y la fuga sum√≥ otros 10.000 millones. El pa√≠s ya destinaba m√°s de la mitad de su producto a atender compromisos externos. El colapso de fines de los '80, con la hiperinflaci√≥n y el retorno del FMI como √°rbitro de la pol√≠tica econ√≥mica, fue la evidencia emp√≠rica de la imposibilidad de sostener la valorizaci√≥n sin destruir la base productiva.</p><p>En los a√±os '90, con Menem y Cavallo, la din√°mica se relanz√≥ a gran escala. La deuda trep√≥ hasta los 145.000 millones de d√≥lares y la fuga acumul√≥ cerca de 80.000 millones. Bajo la convertibilidad, el pa√≠s pareci√≥ estabilizarse, pero lo hizo a costa de sustituir inversi√≥n productiva por entrada de capitales financieros y privatizaciones. La relaci√≥n deuda/PBI se mantuvo en torno al 50%, un nivel que s√≥lo era sostenible mientras los flujos externos siguieran ingresando. Cuando se interrumpieron, el modelo implosion√≥ en 2001.</p><p>El quiebre de la convertibilidad dio lugar a una etapa de signo opuesto. Entre 2003 y 2015, los gobiernos kirchneristas redujeron la deuda externa p√∫blica de 145.000 millones a cerca de 63.000 millones de d√≥lares, llevando el ratio deuda/PBI a su m√≠nimo hist√≥rico, alrededor del 17%. Fue el per√≠odo del desendeudamiento, impulsado por los canjes de 2005 y 2010 y el pago al FMI. Sin embargo, la fuga de capitales no desapareci√≥: seg√∫n los c√°lculos de FLACSO, durante esos a√±os se fugaron unos 70.000 millones de d√≥lares, el equivalente a casi todo el super√°vit comercial de la d√©cada.</p><p>Con el gobierno de Cambiemos, el patr√≥n volvi√≥ a invertirse. Entre 2016 y 2019, la deuda externa total salt√≥ de 75.000 a 323.000 millones de d√≥lares ‚Äîuna expansi√≥n del 330%‚Äî y el Banco Central registr√≥ salidas netas de capitales por 86.000 millones. En t√©rminos de producto, la deuda trep√≥ al 89% del PBI, y la correlaci√≥n entre ingreso de deuda y fuga fue casi perfecta: por cada d√≥lar que entr√≥, 0,9 d√≥lares salieron del pa√≠s.</p><p>Una clave en la relaci√≥n entre deuda y fuga se descubre al observar la din√°mica del endeudamiento privado.¬†Durante la gesti√≥n de Macri, la deuda externa privada aument√≥ en "15.335 millones de d√≥lares, alcanzando un stock de 81.088 millones a fines de 2019", seg√∫n datos del Centro de Investigaci√≥n y Formaci√≥n de la Rep√∫blica Argentina (CIFRA) que fund√≥ Eduardo Basualdo y dirige Pablo Manzanelli.</p><p>En el per√≠odo del Frente de Todos, dice el informe, "se asiste a una nueva expansi√≥n de 22.076 millones de d√≥lares, pero en cuya composici√≥n sobresale una reducci√≥n de la deuda financiera, en el marco de las concesiones cambiarias que hizo ese gobierno al gran capital privado para que reduzca sus compromisos externos, y un aumento de la deuda comercial".</p><p>Esas "concesiones cambiarias" implicaron que el Estado les provey√≥ d√≥lares baratos para cancelar deuda externa, lo que permiti√≥ a las grandes empresas reducir sus pasivos financieros al costo de las reservas del Banco Central.¬†El resultado fue un cambio en la estructura del endeudamiento: menos deuda financiera, m√°s comercial, y una ampliaci√≥n del stock total a "103.154 millones de d√≥lares".</p><p>Con Milei, el informe registra un giro opuesto: "Un fuerte aumento de la deuda financiera en el marco del ‚Äòfestival de obligaciones negociables' y una reducci√≥n de la deuda comercial", lo que marca el regreso pleno al esquema de valorizaci√≥n financiera y endeudamiento en d√≥lares que el Frente de Todos hab√≠a intentado desarmar con d√≥lares baratos.</p><p>La serie hist√≥rica pinta un cuadro preocupante: el 87% de los d√≥lares que ingresaron por endeudamiento desde 1976 termin√≥ fugado.</p><p></p>
        </div>
        <br><br><br>
            <div style="display: none;">
                <label for="voiceSelect">Seleccionar voz:</label>
                <select id="voiceSelect"></select>
            </div>
            <div class="controls">
                <button onclick="startReading()" id="playButton">
                    üîä Leer
                </button>
                <button onclick="pauseReading()" id="pauseButton" disabled style="display: none;">
                    ‚è∏Ô∏è Pausar
                </button>
                <button onclick="resumeReading()" id="resumeButton" disabled style="display: none;">
                    ‚ñ∂Ô∏è Continuar
                </button>
                <button onclick="stopReading()" id="stopButton" disabled>
                    ‚èπÔ∏è Detener
                </button>
            </div>
            <div id="progress" style="display: none;"></div>
        <br><br><br>
        <button class="btnL" onclick="compartir()">Compartir</button>
        <br><br><br>
        <button class="btnL" onclick="window.location.href='https://www.elcohetealaluna.com/la-corrida-de-toto/'">Ver en web original</button>
        <br><br><br>
        <!-- <button class="btnL" onclick="window.location.href='https://matenews.github.io/MateNews/'">Volver a la p√°gina principal</button>
        <br><br><br> -->


        <script>
            function compartir() {
            if (navigator.share) {
                navigator.share({
                title: 'La corrida de Toto. Los movimientos del ministro muestran que urgencia mata estrategia frente al vencimiento que se aproxima el 9 de enero de 4.500 millones de d√≥lares. Por Lucka Glezer.', // Opcional, pero recomendado     
                text: 'La corrida de Toto. Los movimientos del ministro muestran que urgencia mata estrategia frente al vencimiento que se aproxima el 9 de enero de 4.500 millones de d√≥lares. Por Lucka Glezer.',  // Opcional
                url: 'https://www.elcohetealaluna.com/la-corrida-de-toto/'
                })
                .then(() => console.log('Contenido compartido exitosamente'))
                .catch((error) => console.error('Error al compartir:', error));
            } else {
                // C√≥digo alternativo si la API Web Share no est√° disponible
                console.log("Web Share API no soportada");
                // Puedes usar aqu√≠ la opci√≥n 2 (botones personalizados con JavaScript) de mi respuesta anterior
            }
            }
        </script>


        <script>
            let speechSynthesis = window.speechSynthesis;
            let currentUtterance = null;
            let isPaused = false;
            let isReading = false;
            let textBlocks = [];
            let currentBlockIndex = 0;
            let lastSpokenIndex = 0;
            const BLOCK_SIZE = 800;

            function updateButtons(speaking) {
                document.getElementById('playButton').disabled = speaking;
                document.getElementById('pauseButton').disabled = !speaking;
                document.getElementById('resumeButton').disabled = !isPaused;
                document.getElementById('stopButton').disabled = !speaking;
            }

            function updateProgress() {
                const progressDiv = document.getElementById('progress');
                if (isReading) {
                    progressDiv.textContent = `Leyendo bloque ${currentBlockIndex + 1} de ${textBlocks.length}`;
                } else {
                    progressDiv.textContent = '';
                }
            }

            function splitIntoBlocks(text) {
                // Dividir el texto en oraciones usando puntuaci√≥n com√∫n
                const sentences = text.replace(/([.!?])\s+/g, "$1|").split("|");

                let blocks = [];
                let currentBlock = '';

                sentences.forEach(sentence => {
                    // Si la oraci√≥n es muy larga, dividirla en la coma m√°s cercana al BLOCK_SIZE
                    if (sentence.length > BLOCK_SIZE) {
                        let subSentences = sentence.replace(/,\s+/g, ",|").split("|");
                        subSentences.forEach(subSentence => {
                            if (currentBlock.length + subSentence.length > BLOCK_SIZE) {
                                if (currentBlock) blocks.push(currentBlock.trim());
                                currentBlock = subSentence;
                            } else {
                                currentBlock += (currentBlock ? ' ' : '') + subSentence;
                            }
                        });
                    } else {
                        if (currentBlock.length + sentence.length > BLOCK_SIZE) {
                            blocks.push(currentBlock.trim());
                            currentBlock = sentence;
                        } else {
                            currentBlock += (currentBlock ? ' ' : '') + sentence;
                        }
                    }
                });

                if (currentBlock) blocks.push(currentBlock.trim());
                return blocks;
            }

            function speakBlock(index) {
                if (index >= textBlocks.length) {
                    isReading = false;
                    updateButtons(false);
                    updateProgress();
                    return;
                }

                currentUtterance = new SpeechSynthesisUtterance(textBlocks[index]);
                currentUtterance.rate = parseFloat(1.3);
                lastSpokenIndex = index;


                currentUtterance.onend = function() {
                    if (isReading && !isPaused) {
                        currentBlockIndex++;
                        updateProgress();
                        speakBlock(currentBlockIndex);
                    }
                };

                currentUtterance.onerror = function(event) {
                    console.error('Error en la lectura:', event);
                    isReading = false;
                    updateButtons(false);
                    updateProgress();
                };

                speechSynthesis.speak(currentUtterance);
            }

            function startReading() {
                const text = document.getElementById('texto').innerText;
                if (!text) return;

                // Detener cualquier lectura previa
                stop();

                // Preparar nueva lectura
                textBlocks = splitIntoBlocks(text);
                currentBlockIndex = 0;
                isReading = true;
                isPaused = false;

                updateButtons(true);
                updateProgress();
                speakBlock(currentBlockIndex);
            }

            function pause() {
                speechSynthesis.pause();
                isPaused = true;
                updateButtons(true);
            }

            function resume() {
                speechSynthesis.resume();
                isPaused = false;
                updateButtons(true);
            }

            function stop() {
                speechSynthesis.cancel();
                isReading = false;
                isPaused = false;
                currentBlockIndex = 0;
                updateButtons(false);
                updateProgress();
            }

            function pauseReading() {
                if (!isReading) return;

                speechSynthesis.pause();
                isPaused = true;
                isReading = false;
                updateButtons(true);
                updateProgress();
            }

            function resumeReading() {
                if (!isPaused) return;

                isPaused = false;
                isReading = true;

                // Si el utterance actual ya termin√≥, comenzar con el siguiente bloque
                if (lastSpokenIndex === currentBlockIndex) {
                    currentBlockIndex++;
                }

                updateButtons(true);
                updateProgress();

                // Si hay un utterance pausado, resumirlo
                if (speechSynthesis.paused) {
                    speechSynthesis.resume();
                } else {
                    // Si no hay utterance pausado, comenzar desde el bloque actual
                    speakBlock(currentBlockIndex);
                }
            }

            function stopReading() {
                speechSynthesis.cancel();
                finishReading();
            }

            function finishReading() {
                isReading = false;
                isPaused = false;
                currentBlockIndex = 0;
                lastSpokenIndex = -1;
                currentUtterance = null;
                updateButtons(false);
                updateProgress();
            }

        </script>        

        <script>

            var elem = document.documentElement;
            var fullscreenButton = document.getElementById("fullscreenButton");
            var fullscreenIcon = document.getElementById("fullscreenIcon");

            fullscreenButton.addEventListener("click", function() {
            if (document.fullscreenElement || document.mozFullScreenElement || document.webkitFullscreenElement || document.msFullscreenElement) {
                if (document.exitFullscreen) {
                document.exitFullscreen();
                } else if (document.mozCancelFullScreen) { /* Firefox */
                document.mozCancelFullScreen();
                } else if (document.webkitExitFullscreen) { /* Chrome, Safari and Opera */
                document.webkitExitFullscreen();
                } else if (document.msExitFullscreen) { /* IE/Edge */
                document.msExitFullscreen();
                }
            } else {
                if (elem.requestFullscreen) {
                elem.requestFullscreen();
                } else if (elem.mozRequestFullScreen) { /* Firefox */
                elem.mozRequestFullScreen();
                } else if (elem.webkitRequestFullscreen) { /* Chrome, Safari and Opera */
                elem.webkitRequestFullscreen();
                } else if (elem.msRequestFullscreen) { /* IE/Edge */
                elem.msRequestFullscreen();
                }
            }
            });

            document.addEventListener('fullscreenchange', (event) => {
            if (!document.fullscreenElement) {
                fullscreenIcon.innerHTML = '<path d="M5 5h5v5H5zM14 5h5v5h-5zM5 14h5v5H5zM14 14h5v5h-5z"/>';
            } else {
                fullscreenIcon.innerHTML = '<path d="M7 14H5v5h5v-2H7v-3zm-2-4h2V7h3V5H5v5zm12 7h-3v2h5v-5h-2v3zM14 5v2h3v3h2V5h-5z"/>';
            }
            });
        </script>

    </body>
    </html>